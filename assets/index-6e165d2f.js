function eL(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function tL(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var s0={exports:{}},lu={},i0={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Do=Symbol.for("react.element"),nL=Symbol.for("react.portal"),rL=Symbol.for("react.fragment"),sL=Symbol.for("react.strict_mode"),iL=Symbol.for("react.profiler"),oL=Symbol.for("react.provider"),aL=Symbol.for("react.context"),lL=Symbol.for("react.forward_ref"),uL=Symbol.for("react.suspense"),cL=Symbol.for("react.memo"),hL=Symbol.for("react.lazy"),km=Symbol.iterator;function dL(t){return t===null||typeof t!="object"?null:(t=km&&t[km]||t["@@iterator"],typeof t=="function"?t:null)}var o0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},a0=Object.assign,l0={};function Zs(t,e,n){this.props=t,this.context=e,this.refs=l0,this.updater=n||o0}Zs.prototype.isReactComponent={};Zs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Zs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function u0(){}u0.prototype=Zs.prototype;function Vd(t,e,n){this.props=t,this.context=e,this.refs=l0,this.updater=n||o0}var Hd=Vd.prototype=new u0;Hd.constructor=Vd;a0(Hd,Zs.prototype);Hd.isPureReactComponent=!0;var Tm=Array.isArray,c0=Object.prototype.hasOwnProperty,Wd={current:null},h0={key:!0,ref:!0,__self:!0,__source:!0};function d0(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)c0.call(e,r)&&!h0.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Do,type:t,key:i,ref:o,props:s,_owner:Wd.current}}function fL(t,e){return{$$typeof:Do,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function qd(t){return typeof t=="object"&&t!==null&&t.$$typeof===Do}function pL(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var _m=/\/+/g;function uc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?pL(""+t.key):e.toString(36)}function Qa(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Do:case nL:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+uc(o,0):r,Tm(s)?(n="",t!=null&&(n=t.replace(_m,"$&/")+"/"),Qa(s,e,n,"",function(u){return u})):s!=null&&(qd(s)&&(s=fL(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(_m,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Tm(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+uc(i,a);o+=Qa(i,e,n,l,s)}else if(l=dL(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+uc(i,a++),o+=Qa(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function wa(t,e,n){if(t==null)return t;var r=[],s=0;return Qa(t,r,"","",function(i){return e.call(n,i,s++)}),r}function mL(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Lt={current:null},Za={transition:null},gL={ReactCurrentDispatcher:Lt,ReactCurrentBatchConfig:Za,ReactCurrentOwner:Wd};ae.Children={map:wa,forEach:function(t,e,n){wa(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return wa(t,function(){e++}),e},toArray:function(t){return wa(t,function(e){return e})||[]},only:function(t){if(!qd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ae.Component=Zs;ae.Fragment=rL;ae.Profiler=iL;ae.PureComponent=Vd;ae.StrictMode=sL;ae.Suspense=uL;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gL;ae.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=a0({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Wd.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)c0.call(e,l)&&!h0.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Do,type:t.type,key:s,ref:i,props:r,_owner:o}};ae.createContext=function(t){return t={$$typeof:aL,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:oL,_context:t},t.Consumer=t};ae.createElement=d0;ae.createFactory=function(t){var e=d0.bind(null,t);return e.type=t,e};ae.createRef=function(){return{current:null}};ae.forwardRef=function(t){return{$$typeof:lL,render:t}};ae.isValidElement=qd;ae.lazy=function(t){return{$$typeof:hL,_payload:{_status:-1,_result:t},_init:mL}};ae.memo=function(t,e){return{$$typeof:cL,type:t,compare:e===void 0?null:e}};ae.startTransition=function(t){var e=Za.transition;Za.transition={};try{t()}finally{Za.transition=e}};ae.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ae.useCallback=function(t,e){return Lt.current.useCallback(t,e)};ae.useContext=function(t){return Lt.current.useContext(t)};ae.useDebugValue=function(){};ae.useDeferredValue=function(t){return Lt.current.useDeferredValue(t)};ae.useEffect=function(t,e){return Lt.current.useEffect(t,e)};ae.useId=function(){return Lt.current.useId()};ae.useImperativeHandle=function(t,e,n){return Lt.current.useImperativeHandle(t,e,n)};ae.useInsertionEffect=function(t,e){return Lt.current.useInsertionEffect(t,e)};ae.useLayoutEffect=function(t,e){return Lt.current.useLayoutEffect(t,e)};ae.useMemo=function(t,e){return Lt.current.useMemo(t,e)};ae.useReducer=function(t,e,n){return Lt.current.useReducer(t,e,n)};ae.useRef=function(t){return Lt.current.useRef(t)};ae.useState=function(t){return Lt.current.useState(t)};ae.useSyncExternalStore=function(t,e,n){return Lt.current.useSyncExternalStore(t,e,n)};ae.useTransition=function(){return Lt.current.useTransition()};ae.version="18.2.0";i0.exports=ae;var h=i0.exports;const f0=tL(h),Im=eL({__proto__:null,default:f0},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vL=h,yL=Symbol.for("react.element"),wL=Symbol.for("react.fragment"),EL=Object.prototype.hasOwnProperty,xL=vL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,SL={key:!0,ref:!0,__self:!0,__source:!0};function p0(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)EL.call(e,r)&&!SL.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:yL,type:t,key:i,ref:o,props:s,_owner:xL.current}}lu.Fragment=wL;lu.jsx=p0;lu.jsxs=p0;s0.exports=lu;var x=s0.exports,ah={},m0={exports:{}},Ut={},g0={exports:{}},v0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,$){var j=R.length;R.push($);e:for(;0<j;){var K=j-1>>>1,G=R[K];if(0<s(G,$))R[K]=$,R[j]=G,j=K;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var $=R[0],j=R.pop();if(j!==$){R[0]=j;e:for(var K=0,G=R.length,V=G>>>1;K<V;){var A=2*(K+1)-1,Le=R[A],he=A+1,Y=R[he];if(0>s(Le,j))he<G&&0>s(Y,Le)?(R[K]=Y,R[he]=j,K=he):(R[K]=Le,R[A]=j,K=A);else if(he<G&&0>s(Y,j))R[K]=Y,R[he]=j,K=he;else break e}}return $}function s(R,$){var j=R.sortIndex-$.sortIndex;return j!==0?j:R.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,f=3,p=!1,y=!1,E=!1,S=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(R){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=R)r(u),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(u)}}function w(R){if(E=!1,v(R),!y)if(n(l)!==null)y=!0,J(k);else{var $=n(u);$!==null&&ce(w,$.startTime-R)}}function k(R,$){y=!1,E&&(E=!1,m(I),I=-1),p=!0;var j=f;try{for(v($),d=n(l);d!==null&&(!(d.expirationTime>$)||R&&!M());){var K=d.callback;if(typeof K=="function"){d.callback=null,f=d.priorityLevel;var G=K(d.expirationTime<=$);$=t.unstable_now(),typeof G=="function"?d.callback=G:d===n(l)&&r(l),v($)}else r(l);d=n(l)}if(d!==null)var V=!0;else{var A=n(u);A!==null&&ce(w,A.startTime-$),V=!1}return V}finally{d=null,f=j,p=!1}}var L=!1,_=null,I=-1,C=5,T=-1;function M(){return!(t.unstable_now()-T<C)}function z(){if(_!==null){var R=t.unstable_now();T=R;var $=!0;try{$=_(!0,R)}finally{$?H():(L=!1,_=null)}}else L=!1}var H;if(typeof g=="function")H=function(){g(z)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,le=q.port2;q.port1.onmessage=z,H=function(){le.postMessage(null)}}else H=function(){S(z,0)};function J(R){_=R,L||(L=!0,H())}function ce(R,$){I=S(function(){R(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,J(k))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(R){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var j=f;f=$;try{return R()}finally{f=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,$){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var j=f;f=R;try{return $()}finally{f=j}},t.unstable_scheduleCallback=function(R,$,j){var K=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?K+j:K):j=K,R){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=j+G,R={id:c++,callback:$,priorityLevel:R,startTime:j,expirationTime:G,sortIndex:-1},j>K?(R.sortIndex=j,e(u,R),n(l)===null&&R===n(u)&&(E?(m(I),I=-1):E=!0,ce(w,j-K))):(R.sortIndex=G,e(l,R),y||p||(y=!0,J(k))),R},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(R){var $=f;return function(){var j=f;f=$;try{return R.apply(this,arguments)}finally{f=j}}}})(v0);g0.exports=v0;var LL=g0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y0=h,$t=LL;function P(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var w0=new Set,Zi={};function Yr(t,e){Ps(t,e),Ps(t+"Capture",e)}function Ps(t,e){for(Zi[t]=e,t=0;t<e.length;t++)w0.add(e[t])}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lh=Object.prototype.hasOwnProperty,CL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,bm={},Nm={};function kL(t){return lh.call(Nm,t)?!0:lh.call(bm,t)?!1:CL.test(t)?Nm[t]=!0:(bm[t]=!0,!1)}function TL(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function _L(t,e,n,r){if(e===null||typeof e>"u"||TL(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ct(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ot[t]=new Ct(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ot[e]=new Ct(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ot[t]=new Ct(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ot[t]=new Ct(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ot[t]=new Ct(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ot[t]=new Ct(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ot[t]=new Ct(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ot[t]=new Ct(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ot[t]=new Ct(t,5,!1,t.toLowerCase(),null,!1,!1)});var Kd=/[\-:]([a-z])/g;function Gd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Kd,Gd);ot[e]=new Ct(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Kd,Gd);ot[e]=new Ct(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Kd,Gd);ot[e]=new Ct(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ot[t]=new Ct(t,1,!1,t.toLowerCase(),null,!1,!1)});ot.xlinkHref=new Ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ot[t]=new Ct(t,1,!1,t.toLowerCase(),null,!0,!0)});function Qd(t,e,n,r){var s=ot.hasOwnProperty(e)?ot[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(_L(e,n,s,r)&&(n=null),r||s===null?kL(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Fn=y0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ea=Symbol.for("react.element"),ls=Symbol.for("react.portal"),us=Symbol.for("react.fragment"),Zd=Symbol.for("react.strict_mode"),uh=Symbol.for("react.profiler"),E0=Symbol.for("react.provider"),x0=Symbol.for("react.context"),Yd=Symbol.for("react.forward_ref"),ch=Symbol.for("react.suspense"),hh=Symbol.for("react.suspense_list"),Xd=Symbol.for("react.memo"),Vn=Symbol.for("react.lazy"),S0=Symbol.for("react.offscreen"),Rm=Symbol.iterator;function di(t){return t===null||typeof t!="object"?null:(t=Rm&&t[Rm]||t["@@iterator"],typeof t=="function"?t:null)}var Pe=Object.assign,cc;function ki(t){if(cc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);cc=e&&e[1]||""}return`
`+cc+t}var hc=!1;function dc(t,e){if(!t||hc)return"";hc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{hc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ki(t):""}function IL(t){switch(t.tag){case 5:return ki(t.type);case 16:return ki("Lazy");case 13:return ki("Suspense");case 19:return ki("SuspenseList");case 0:case 2:case 15:return t=dc(t.type,!1),t;case 11:return t=dc(t.type.render,!1),t;case 1:return t=dc(t.type,!0),t;default:return""}}function dh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case us:return"Fragment";case ls:return"Portal";case uh:return"Profiler";case Zd:return"StrictMode";case ch:return"Suspense";case hh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case x0:return(t.displayName||"Context")+".Consumer";case E0:return(t._context.displayName||"Context")+".Provider";case Yd:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Xd:return e=t.displayName||null,e!==null?e:dh(t.type)||"Memo";case Vn:e=t._payload,t=t._init;try{return dh(t(e))}catch{}}return null}function bL(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return dh(e);case 8:return e===Zd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function L0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function NL(t){var e=L0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function xa(t){t._valueTracker||(t._valueTracker=NL(t))}function C0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=L0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function vl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function fh(t,e){var n=e.checked;return Pe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Pm(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=fr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function k0(t,e){e=e.checked,e!=null&&Qd(t,"checked",e,!1)}function ph(t,e){k0(t,e);var n=fr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?mh(t,e.type,n):e.hasOwnProperty("defaultValue")&&mh(t,e.type,fr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Am(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function mh(t,e,n){(e!=="number"||vl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ti=Array.isArray;function Ss(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+fr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function gh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(P(91));return Pe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Dm(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(P(92));if(Ti(n)){if(1<n.length)throw Error(P(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:fr(n)}}function T0(t,e){var n=fr(e.value),r=fr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Mm(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function _0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?_0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Sa,I0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Sa=Sa||document.createElement("div"),Sa.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Sa.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Yi(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ai={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},RL=["Webkit","ms","Moz","O"];Object.keys(Ai).forEach(function(t){RL.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ai[e]=Ai[t]})});function b0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ai.hasOwnProperty(t)&&Ai[t]?(""+e).trim():e+"px"}function N0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=b0(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var PL=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yh(t,e){if(e){if(PL[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(P(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(P(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(P(61))}if(e.style!=null&&typeof e.style!="object")throw Error(P(62))}}function wh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eh=null;function Jd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xh=null,Ls=null,Cs=null;function Om(t){if(t=$o(t)){if(typeof xh!="function")throw Error(P(280));var e=t.stateNode;e&&(e=fu(e),xh(t.stateNode,t.type,e))}}function R0(t){Ls?Cs?Cs.push(t):Cs=[t]:Ls=t}function P0(){if(Ls){var t=Ls,e=Cs;if(Cs=Ls=null,Om(t),e)for(t=0;t<e.length;t++)Om(e[t])}}function A0(t,e){return t(e)}function D0(){}var fc=!1;function M0(t,e,n){if(fc)return t(e,n);fc=!0;try{return A0(t,e,n)}finally{fc=!1,(Ls!==null||Cs!==null)&&(D0(),P0())}}function Xi(t,e){var n=t.stateNode;if(n===null)return null;var r=fu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(P(231,e,typeof n));return n}var Sh=!1;if(Rn)try{var fi={};Object.defineProperty(fi,"passive",{get:function(){Sh=!0}}),window.addEventListener("test",fi,fi),window.removeEventListener("test",fi,fi)}catch{Sh=!1}function AL(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Di=!1,yl=null,wl=!1,Lh=null,DL={onError:function(t){Di=!0,yl=t}};function ML(t,e,n,r,s,i,o,a,l){Di=!1,yl=null,AL.apply(DL,arguments)}function OL(t,e,n,r,s,i,o,a,l){if(ML.apply(this,arguments),Di){if(Di){var u=yl;Di=!1,yl=null}else throw Error(P(198));wl||(wl=!0,Lh=u)}}function Xr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function O0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function $m(t){if(Xr(t)!==t)throw Error(P(188))}function $L(t){var e=t.alternate;if(!e){if(e=Xr(t),e===null)throw Error(P(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return $m(s),t;if(i===r)return $m(s),e;i=i.sibling}throw Error(P(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?t:e}function $0(t){return t=$L(t),t!==null?j0(t):null}function j0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=j0(t);if(e!==null)return e;t=t.sibling}return null}var F0=$t.unstable_scheduleCallback,jm=$t.unstable_cancelCallback,jL=$t.unstable_shouldYield,FL=$t.unstable_requestPaint,je=$t.unstable_now,UL=$t.unstable_getCurrentPriorityLevel,ef=$t.unstable_ImmediatePriority,U0=$t.unstable_UserBlockingPriority,El=$t.unstable_NormalPriority,BL=$t.unstable_LowPriority,B0=$t.unstable_IdlePriority,uu=null,vn=null;function zL(t){if(vn&&typeof vn.onCommitFiberRoot=="function")try{vn.onCommitFiberRoot(uu,t,void 0,(t.current.flags&128)===128)}catch{}}var nn=Math.clz32?Math.clz32:WL,VL=Math.log,HL=Math.LN2;function WL(t){return t>>>=0,t===0?32:31-(VL(t)/HL|0)|0}var La=64,Ca=4194304;function _i(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function xl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=_i(a):(i&=o,i!==0&&(r=_i(i)))}else o=n&~s,o!==0?r=_i(o):i!==0&&(r=_i(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-nn(e),s=1<<n,r|=t[n],e&=~s;return r}function qL(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function KL(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-nn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=qL(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Ch(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function z0(){var t=La;return La<<=1,!(La&4194240)&&(La=64),t}function pc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Mo(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-nn(e),t[e]=n}function GL(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-nn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function tf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-nn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ye=0;function V0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var H0,nf,W0,q0,K0,kh=!1,ka=[],Jn=null,er=null,tr=null,Ji=new Map,eo=new Map,Wn=[],QL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fm(t,e){switch(t){case"focusin":case"focusout":Jn=null;break;case"dragenter":case"dragleave":er=null;break;case"mouseover":case"mouseout":tr=null;break;case"pointerover":case"pointerout":Ji.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":eo.delete(e.pointerId)}}function pi(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=$o(e),e!==null&&nf(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function ZL(t,e,n,r,s){switch(e){case"focusin":return Jn=pi(Jn,t,e,n,r,s),!0;case"dragenter":return er=pi(er,t,e,n,r,s),!0;case"mouseover":return tr=pi(tr,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ji.set(i,pi(Ji.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,eo.set(i,pi(eo.get(i)||null,t,e,n,r,s)),!0}return!1}function G0(t){var e=Nr(t.target);if(e!==null){var n=Xr(e);if(n!==null){if(e=n.tag,e===13){if(e=O0(n),e!==null){t.blockedOn=e,K0(t.priority,function(){W0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ya(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Th(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Eh=r,n.target.dispatchEvent(r),Eh=null}else return e=$o(n),e!==null&&nf(e),t.blockedOn=n,!1;e.shift()}return!0}function Um(t,e,n){Ya(t)&&n.delete(e)}function YL(){kh=!1,Jn!==null&&Ya(Jn)&&(Jn=null),er!==null&&Ya(er)&&(er=null),tr!==null&&Ya(tr)&&(tr=null),Ji.forEach(Um),eo.forEach(Um)}function mi(t,e){t.blockedOn===e&&(t.blockedOn=null,kh||(kh=!0,$t.unstable_scheduleCallback($t.unstable_NormalPriority,YL)))}function to(t){function e(s){return mi(s,t)}if(0<ka.length){mi(ka[0],t);for(var n=1;n<ka.length;n++){var r=ka[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Jn!==null&&mi(Jn,t),er!==null&&mi(er,t),tr!==null&&mi(tr,t),Ji.forEach(e),eo.forEach(e),n=0;n<Wn.length;n++)r=Wn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Wn.length&&(n=Wn[0],n.blockedOn===null);)G0(n),n.blockedOn===null&&Wn.shift()}var ks=Fn.ReactCurrentBatchConfig,Sl=!0;function XL(t,e,n,r){var s=ye,i=ks.transition;ks.transition=null;try{ye=1,rf(t,e,n,r)}finally{ye=s,ks.transition=i}}function JL(t,e,n,r){var s=ye,i=ks.transition;ks.transition=null;try{ye=4,rf(t,e,n,r)}finally{ye=s,ks.transition=i}}function rf(t,e,n,r){if(Sl){var s=Th(t,e,n,r);if(s===null)Cc(t,e,r,Ll,n),Fm(t,r);else if(ZL(s,t,e,n,r))r.stopPropagation();else if(Fm(t,r),e&4&&-1<QL.indexOf(t)){for(;s!==null;){var i=$o(s);if(i!==null&&H0(i),i=Th(t,e,n,r),i===null&&Cc(t,e,r,Ll,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Cc(t,e,r,null,n)}}var Ll=null;function Th(t,e,n,r){if(Ll=null,t=Jd(r),t=Nr(t),t!==null)if(e=Xr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=O0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ll=t,null}function Q0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(UL()){case ef:return 1;case U0:return 4;case El:case BL:return 16;case B0:return 536870912;default:return 16}default:return 16}}var Gn=null,sf=null,Xa=null;function Z0(){if(Xa)return Xa;var t,e=sf,n=e.length,r,s="value"in Gn?Gn.value:Gn.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Xa=s.slice(t,1<r?1-r:void 0)}function Ja(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ta(){return!0}function Bm(){return!1}function Bt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ta:Bm,this.isPropagationStopped=Bm,this}return Pe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ta)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ta)},persist:function(){},isPersistent:Ta}),e}var Ys={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},of=Bt(Ys),Oo=Pe({},Ys,{view:0,detail:0}),eC=Bt(Oo),mc,gc,gi,cu=Pe({},Oo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:af,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gi&&(gi&&t.type==="mousemove"?(mc=t.screenX-gi.screenX,gc=t.screenY-gi.screenY):gc=mc=0,gi=t),mc)},movementY:function(t){return"movementY"in t?t.movementY:gc}}),zm=Bt(cu),tC=Pe({},cu,{dataTransfer:0}),nC=Bt(tC),rC=Pe({},Oo,{relatedTarget:0}),vc=Bt(rC),sC=Pe({},Ys,{animationName:0,elapsedTime:0,pseudoElement:0}),iC=Bt(sC),oC=Pe({},Ys,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),aC=Bt(oC),lC=Pe({},Ys,{data:0}),Vm=Bt(lC),uC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=hC[t])?!!e[t]:!1}function af(){return dC}var fC=Pe({},Oo,{key:function(t){if(t.key){var e=uC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ja(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?cC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:af,charCode:function(t){return t.type==="keypress"?Ja(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ja(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pC=Bt(fC),mC=Pe({},cu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hm=Bt(mC),gC=Pe({},Oo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:af}),vC=Bt(gC),yC=Pe({},Ys,{propertyName:0,elapsedTime:0,pseudoElement:0}),wC=Bt(yC),EC=Pe({},cu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xC=Bt(EC),SC=[9,13,27,32],lf=Rn&&"CompositionEvent"in window,Mi=null;Rn&&"documentMode"in document&&(Mi=document.documentMode);var LC=Rn&&"TextEvent"in window&&!Mi,Y0=Rn&&(!lf||Mi&&8<Mi&&11>=Mi),Wm=String.fromCharCode(32),qm=!1;function X0(t,e){switch(t){case"keyup":return SC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function J0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var cs=!1;function CC(t,e){switch(t){case"compositionend":return J0(e);case"keypress":return e.which!==32?null:(qm=!0,Wm);case"textInput":return t=e.data,t===Wm&&qm?null:t;default:return null}}function kC(t,e){if(cs)return t==="compositionend"||!lf&&X0(t,e)?(t=Z0(),Xa=sf=Gn=null,cs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Y0&&e.locale!=="ko"?null:e.data;default:return null}}var TC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Km(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!TC[t.type]:e==="textarea"}function ew(t,e,n,r){R0(r),e=Cl(e,"onChange"),0<e.length&&(n=new of("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Oi=null,no=null;function _C(t){hw(t,0)}function hu(t){var e=fs(t);if(C0(e))return t}function IC(t,e){if(t==="change")return e}var tw=!1;if(Rn){var yc;if(Rn){var wc="oninput"in document;if(!wc){var Gm=document.createElement("div");Gm.setAttribute("oninput","return;"),wc=typeof Gm.oninput=="function"}yc=wc}else yc=!1;tw=yc&&(!document.documentMode||9<document.documentMode)}function Qm(){Oi&&(Oi.detachEvent("onpropertychange",nw),no=Oi=null)}function nw(t){if(t.propertyName==="value"&&hu(no)){var e=[];ew(e,no,t,Jd(t)),M0(_C,e)}}function bC(t,e,n){t==="focusin"?(Qm(),Oi=e,no=n,Oi.attachEvent("onpropertychange",nw)):t==="focusout"&&Qm()}function NC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hu(no)}function RC(t,e){if(t==="click")return hu(e)}function PC(t,e){if(t==="input"||t==="change")return hu(e)}function AC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var sn=typeof Object.is=="function"?Object.is:AC;function ro(t,e){if(sn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!lh.call(e,s)||!sn(t[s],e[s]))return!1}return!0}function Zm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ym(t,e){var n=Zm(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Zm(n)}}function rw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?rw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function sw(){for(var t=window,e=vl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=vl(t.document)}return e}function uf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function DC(t){var e=sw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&rw(n.ownerDocument.documentElement,n)){if(r!==null&&uf(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Ym(n,i);var o=Ym(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var MC=Rn&&"documentMode"in document&&11>=document.documentMode,hs=null,_h=null,$i=null,Ih=!1;function Xm(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ih||hs==null||hs!==vl(r)||(r=hs,"selectionStart"in r&&uf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$i&&ro($i,r)||($i=r,r=Cl(_h,"onSelect"),0<r.length&&(e=new of("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=hs)))}function _a(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ds={animationend:_a("Animation","AnimationEnd"),animationiteration:_a("Animation","AnimationIteration"),animationstart:_a("Animation","AnimationStart"),transitionend:_a("Transition","TransitionEnd")},Ec={},iw={};Rn&&(iw=document.createElement("div").style,"AnimationEvent"in window||(delete ds.animationend.animation,delete ds.animationiteration.animation,delete ds.animationstart.animation),"TransitionEvent"in window||delete ds.transitionend.transition);function du(t){if(Ec[t])return Ec[t];if(!ds[t])return t;var e=ds[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in iw)return Ec[t]=e[n];return t}var ow=du("animationend"),aw=du("animationiteration"),lw=du("animationstart"),uw=du("transitionend"),cw=new Map,Jm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wr(t,e){cw.set(t,e),Yr(e,[t])}for(var xc=0;xc<Jm.length;xc++){var Sc=Jm[xc],OC=Sc.toLowerCase(),$C=Sc[0].toUpperCase()+Sc.slice(1);wr(OC,"on"+$C)}wr(ow,"onAnimationEnd");wr(aw,"onAnimationIteration");wr(lw,"onAnimationStart");wr("dblclick","onDoubleClick");wr("focusin","onFocus");wr("focusout","onBlur");wr(uw,"onTransitionEnd");Ps("onMouseEnter",["mouseout","mouseover"]);Ps("onMouseLeave",["mouseout","mouseover"]);Ps("onPointerEnter",["pointerout","pointerover"]);Ps("onPointerLeave",["pointerout","pointerover"]);Yr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ii="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ii));function eg(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,OL(r,e,void 0,t),t.currentTarget=null}function hw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;eg(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;eg(s,a,u),i=l}}}if(wl)throw t=Lh,wl=!1,Lh=null,t}function Ce(t,e){var n=e[Ah];n===void 0&&(n=e[Ah]=new Set);var r=t+"__bubble";n.has(r)||(dw(e,t,2,!1),n.add(r))}function Lc(t,e,n){var r=0;e&&(r|=4),dw(n,t,r,e)}var Ia="_reactListening"+Math.random().toString(36).slice(2);function so(t){if(!t[Ia]){t[Ia]=!0,w0.forEach(function(n){n!=="selectionchange"&&(jC.has(n)||Lc(n,!1,t),Lc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ia]||(e[Ia]=!0,Lc("selectionchange",!1,e))}}function dw(t,e,n,r){switch(Q0(e)){case 1:var s=XL;break;case 4:s=JL;break;default:s=rf}n=s.bind(null,e,n,t),s=void 0,!Sh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Cc(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Nr(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}M0(function(){var u=i,c=Jd(n),d=[];e:{var f=cw.get(t);if(f!==void 0){var p=of,y=t;switch(t){case"keypress":if(Ja(n)===0)break e;case"keydown":case"keyup":p=pC;break;case"focusin":y="focus",p=vc;break;case"focusout":y="blur",p=vc;break;case"beforeblur":case"afterblur":p=vc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=zm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=nC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=vC;break;case ow:case aw:case lw:p=iC;break;case uw:p=wC;break;case"scroll":p=eC;break;case"wheel":p=xC;break;case"copy":case"cut":case"paste":p=aC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Hm}var E=(e&4)!==0,S=!E&&t==="scroll",m=E?f!==null?f+"Capture":null:f;E=[];for(var g=u,v;g!==null;){v=g;var w=v.stateNode;if(v.tag===5&&w!==null&&(v=w,m!==null&&(w=Xi(g,m),w!=null&&E.push(io(g,w,v)))),S)break;g=g.return}0<E.length&&(f=new p(f,y,null,n,c),d.push({event:f,listeners:E}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Eh&&(y=n.relatedTarget||n.fromElement)&&(Nr(y)||y[Pn]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=u,y=y?Nr(y):null,y!==null&&(S=Xr(y),y!==S||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(E=zm,w="onMouseLeave",m="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(E=Hm,w="onPointerLeave",m="onPointerEnter",g="pointer"),S=p==null?f:fs(p),v=y==null?f:fs(y),f=new E(w,g+"leave",p,n,c),f.target=S,f.relatedTarget=v,w=null,Nr(c)===u&&(E=new E(m,g+"enter",y,n,c),E.target=v,E.relatedTarget=S,w=E),S=w,p&&y)t:{for(E=p,m=y,g=0,v=E;v;v=ss(v))g++;for(v=0,w=m;w;w=ss(w))v++;for(;0<g-v;)E=ss(E),g--;for(;0<v-g;)m=ss(m),v--;for(;g--;){if(E===m||m!==null&&E===m.alternate)break t;E=ss(E),m=ss(m)}E=null}else E=null;p!==null&&tg(d,f,p,E,!1),y!==null&&S!==null&&tg(d,S,y,E,!0)}}e:{if(f=u?fs(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var k=IC;else if(Km(f))if(tw)k=PC;else{k=NC;var L=bC}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=RC);if(k&&(k=k(t,u))){ew(d,k,n,c);break e}L&&L(t,f,u),t==="focusout"&&(L=f._wrapperState)&&L.controlled&&f.type==="number"&&mh(f,"number",f.value)}switch(L=u?fs(u):window,t){case"focusin":(Km(L)||L.contentEditable==="true")&&(hs=L,_h=u,$i=null);break;case"focusout":$i=_h=hs=null;break;case"mousedown":Ih=!0;break;case"contextmenu":case"mouseup":case"dragend":Ih=!1,Xm(d,n,c);break;case"selectionchange":if(MC)break;case"keydown":case"keyup":Xm(d,n,c)}var _;if(lf)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else cs?X0(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(Y0&&n.locale!=="ko"&&(cs||I!=="onCompositionStart"?I==="onCompositionEnd"&&cs&&(_=Z0()):(Gn=c,sf="value"in Gn?Gn.value:Gn.textContent,cs=!0)),L=Cl(u,I),0<L.length&&(I=new Vm(I,t,null,n,c),d.push({event:I,listeners:L}),_?I.data=_:(_=J0(n),_!==null&&(I.data=_)))),(_=LC?CC(t,n):kC(t,n))&&(u=Cl(u,"onBeforeInput"),0<u.length&&(c=new Vm("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=_))}hw(d,e)})}function io(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Cl(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Xi(t,n),i!=null&&r.unshift(io(t,i,s)),i=Xi(t,e),i!=null&&r.push(io(t,i,s))),t=t.return}return r}function ss(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function tg(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Xi(n,i),l!=null&&o.unshift(io(n,l,a))):s||(l=Xi(n,i),l!=null&&o.push(io(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var FC=/\r\n?/g,UC=/\u0000|\uFFFD/g;function ng(t){return(typeof t=="string"?t:""+t).replace(FC,`
`).replace(UC,"")}function ba(t,e,n){if(e=ng(e),ng(t)!==e&&n)throw Error(P(425))}function kl(){}var bh=null,Nh=null;function Rh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ph=typeof setTimeout=="function"?setTimeout:void 0,BC=typeof clearTimeout=="function"?clearTimeout:void 0,rg=typeof Promise=="function"?Promise:void 0,zC=typeof queueMicrotask=="function"?queueMicrotask:typeof rg<"u"?function(t){return rg.resolve(null).then(t).catch(VC)}:Ph;function VC(t){setTimeout(function(){throw t})}function kc(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),to(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);to(e)}function nr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function sg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Xs=Math.random().toString(36).slice(2),hn="__reactFiber$"+Xs,oo="__reactProps$"+Xs,Pn="__reactContainer$"+Xs,Ah="__reactEvents$"+Xs,HC="__reactListeners$"+Xs,WC="__reactHandles$"+Xs;function Nr(t){var e=t[hn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Pn]||n[hn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=sg(t);t!==null;){if(n=t[hn])return n;t=sg(t)}return e}t=n,n=t.parentNode}return null}function $o(t){return t=t[hn]||t[Pn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function fs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(P(33))}function fu(t){return t[oo]||null}var Dh=[],ps=-1;function Er(t){return{current:t}}function _e(t){0>ps||(t.current=Dh[ps],Dh[ps]=null,ps--)}function Se(t,e){ps++,Dh[ps]=t.current,t.current=e}var pr={},vt=Er(pr),It=Er(!1),Ur=pr;function As(t,e){var n=t.type.contextTypes;if(!n)return pr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function bt(t){return t=t.childContextTypes,t!=null}function Tl(){_e(It),_e(vt)}function ig(t,e,n){if(vt.current!==pr)throw Error(P(168));Se(vt,e),Se(It,n)}function fw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(P(108,bL(t)||"Unknown",s));return Pe({},n,r)}function _l(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||pr,Ur=vt.current,Se(vt,t),Se(It,It.current),!0}function og(t,e,n){var r=t.stateNode;if(!r)throw Error(P(169));n?(t=fw(t,e,Ur),r.__reactInternalMemoizedMergedChildContext=t,_e(It),_e(vt),Se(vt,t)):_e(It),Se(It,n)}var kn=null,pu=!1,Tc=!1;function pw(t){kn===null?kn=[t]:kn.push(t)}function qC(t){pu=!0,pw(t)}function xr(){if(!Tc&&kn!==null){Tc=!0;var t=0,e=ye;try{var n=kn;for(ye=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}kn=null,pu=!1}catch(s){throw kn!==null&&(kn=kn.slice(t+1)),F0(ef,xr),s}finally{ye=e,Tc=!1}}return null}var ms=[],gs=0,Il=null,bl=0,Vt=[],Ht=0,Br=null,Tn=1,_n="";function Tr(t,e){ms[gs++]=bl,ms[gs++]=Il,Il=t,bl=e}function mw(t,e,n){Vt[Ht++]=Tn,Vt[Ht++]=_n,Vt[Ht++]=Br,Br=t;var r=Tn;t=_n;var s=32-nn(r)-1;r&=~(1<<s),n+=1;var i=32-nn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Tn=1<<32-nn(e)+s|n<<s|r,_n=i+t}else Tn=1<<i|n<<s|r,_n=t}function cf(t){t.return!==null&&(Tr(t,1),mw(t,1,0))}function hf(t){for(;t===Il;)Il=ms[--gs],ms[gs]=null,bl=ms[--gs],ms[gs]=null;for(;t===Br;)Br=Vt[--Ht],Vt[Ht]=null,_n=Vt[--Ht],Vt[Ht]=null,Tn=Vt[--Ht],Vt[Ht]=null}var Mt=null,Pt=null,be=!1,tn=null;function gw(t,e){var n=qt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ag(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Mt=t,Pt=nr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Mt=t,Pt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Br!==null?{id:Tn,overflow:_n}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=qt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Mt=t,Pt=null,!0):!1;default:return!1}}function Mh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Oh(t){if(be){var e=Pt;if(e){var n=e;if(!ag(t,e)){if(Mh(t))throw Error(P(418));e=nr(n.nextSibling);var r=Mt;e&&ag(t,e)?gw(r,n):(t.flags=t.flags&-4097|2,be=!1,Mt=t)}}else{if(Mh(t))throw Error(P(418));t.flags=t.flags&-4097|2,be=!1,Mt=t}}}function lg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Mt=t}function Na(t){if(t!==Mt)return!1;if(!be)return lg(t),be=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Rh(t.type,t.memoizedProps)),e&&(e=Pt)){if(Mh(t))throw vw(),Error(P(418));for(;e;)gw(t,e),e=nr(e.nextSibling)}if(lg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(P(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Pt=nr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Pt=null}}else Pt=Mt?nr(t.stateNode.nextSibling):null;return!0}function vw(){for(var t=Pt;t;)t=nr(t.nextSibling)}function Ds(){Pt=Mt=null,be=!1}function df(t){tn===null?tn=[t]:tn.push(t)}var KC=Fn.ReactCurrentBatchConfig;function Jt(t,e){if(t&&t.defaultProps){e=Pe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Nl=Er(null),Rl=null,vs=null,ff=null;function pf(){ff=vs=Rl=null}function mf(t){var e=Nl.current;_e(Nl),t._currentValue=e}function $h(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ts(t,e){Rl=t,ff=vs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(_t=!0),t.firstContext=null)}function Qt(t){var e=t._currentValue;if(ff!==t)if(t={context:t,memoizedValue:e,next:null},vs===null){if(Rl===null)throw Error(P(308));vs=t,Rl.dependencies={lanes:0,firstContext:t}}else vs=vs.next=t;return e}var Rr=null;function gf(t){Rr===null?Rr=[t]:Rr.push(t)}function yw(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,gf(e)):(n.next=s.next,s.next=n),e.interleaved=n,An(t,r)}function An(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Hn=!1;function vf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ww(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function bn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function rr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,fe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,An(t,n)}return s=r.interleaved,s===null?(e.next=e,gf(r)):(e.next=s.next,s.next=e),r.interleaved=e,An(t,n)}function el(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,tf(t,n)}}function ug(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Pl(t,e,n,r){var s=t.updateQueue;Hn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,c=u=l=null,a=i;do{var f=a.lane,p=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,E=a;switch(f=e,p=n,E.tag){case 1:if(y=E.payload,typeof y=="function"){d=y.call(p,d,f);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=E.payload,f=typeof y=="function"?y.call(p,d,f):y,f==null)break e;d=Pe({},d,f);break e;case 2:Hn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(1);if(c===null&&(l=d),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Vr|=o,t.lanes=o,t.memoizedState=d}}function cg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(P(191,s));s.call(r)}}}var Ew=new y0.Component().refs;function jh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Pe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var mu={isMounted:function(t){return(t=t._reactInternals)?Xr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=St(),s=ir(t),i=bn(r,s);i.payload=e,n!=null&&(i.callback=n),e=rr(t,i,s),e!==null&&(rn(e,t,s,r),el(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=St(),s=ir(t),i=bn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=rr(t,i,s),e!==null&&(rn(e,t,s,r),el(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=St(),r=ir(t),s=bn(n,r);s.tag=2,e!=null&&(s.callback=e),e=rr(t,s,r),e!==null&&(rn(e,t,r,n),el(e,t,r))}};function hg(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!ro(n,r)||!ro(s,i):!0}function xw(t,e,n){var r=!1,s=pr,i=e.contextType;return typeof i=="object"&&i!==null?i=Qt(i):(s=bt(e)?Ur:vt.current,r=e.contextTypes,i=(r=r!=null)?As(t,s):pr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=mu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function dg(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&mu.enqueueReplaceState(e,e.state,null)}function Fh(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=Ew,vf(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Qt(i):(i=bt(e)?Ur:vt.current,s.context=As(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(jh(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&mu.enqueueReplaceState(s,s.state,null),Pl(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function vi(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;a===Ew&&(a=s.refs={}),o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,t))}return t}function Ra(t,e){throw t=Object.prototype.toString.call(e),Error(P(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function fg(t){var e=t._init;return e(t._payload)}function Sw(t){function e(m,g){if(t){var v=m.deletions;v===null?(m.deletions=[g],m.flags|=16):v.push(g)}}function n(m,g){if(!t)return null;for(;g!==null;)e(m,g),g=g.sibling;return null}function r(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function s(m,g){return m=or(m,g),m.index=0,m.sibling=null,m}function i(m,g,v){return m.index=v,t?(v=m.alternate,v!==null?(v=v.index,v<g?(m.flags|=2,g):v):(m.flags|=2,g)):(m.flags|=1048576,g)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,g,v,w){return g===null||g.tag!==6?(g=Ac(v,m.mode,w),g.return=m,g):(g=s(g,v),g.return=m,g)}function l(m,g,v,w){var k=v.type;return k===us?c(m,g,v.props.children,w,v.key):g!==null&&(g.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Vn&&fg(k)===g.type)?(w=s(g,v.props),w.ref=vi(m,g,v),w.return=m,w):(w=ol(v.type,v.key,v.props,null,m.mode,w),w.ref=vi(m,g,v),w.return=m,w)}function u(m,g,v,w){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=Dc(v,m.mode,w),g.return=m,g):(g=s(g,v.children||[]),g.return=m,g)}function c(m,g,v,w,k){return g===null||g.tag!==7?(g=$r(v,m.mode,w,k),g.return=m,g):(g=s(g,v),g.return=m,g)}function d(m,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Ac(""+g,m.mode,v),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ea:return v=ol(g.type,g.key,g.props,null,m.mode,v),v.ref=vi(m,null,g),v.return=m,v;case ls:return g=Dc(g,m.mode,v),g.return=m,g;case Vn:var w=g._init;return d(m,w(g._payload),v)}if(Ti(g)||di(g))return g=$r(g,m.mode,v,null),g.return=m,g;Ra(m,g)}return null}function f(m,g,v,w){var k=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return k!==null?null:a(m,g,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ea:return v.key===k?l(m,g,v,w):null;case ls:return v.key===k?u(m,g,v,w):null;case Vn:return k=v._init,f(m,g,k(v._payload),w)}if(Ti(v)||di(v))return k!==null?null:c(m,g,v,w,null);Ra(m,v)}return null}function p(m,g,v,w,k){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(v)||null,a(g,m,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ea:return m=m.get(w.key===null?v:w.key)||null,l(g,m,w,k);case ls:return m=m.get(w.key===null?v:w.key)||null,u(g,m,w,k);case Vn:var L=w._init;return p(m,g,v,L(w._payload),k)}if(Ti(w)||di(w))return m=m.get(v)||null,c(g,m,w,k,null);Ra(g,w)}return null}function y(m,g,v,w){for(var k=null,L=null,_=g,I=g=0,C=null;_!==null&&I<v.length;I++){_.index>I?(C=_,_=null):C=_.sibling;var T=f(m,_,v[I],w);if(T===null){_===null&&(_=C);break}t&&_&&T.alternate===null&&e(m,_),g=i(T,g,I),L===null?k=T:L.sibling=T,L=T,_=C}if(I===v.length)return n(m,_),be&&Tr(m,I),k;if(_===null){for(;I<v.length;I++)_=d(m,v[I],w),_!==null&&(g=i(_,g,I),L===null?k=_:L.sibling=_,L=_);return be&&Tr(m,I),k}for(_=r(m,_);I<v.length;I++)C=p(_,m,I,v[I],w),C!==null&&(t&&C.alternate!==null&&_.delete(C.key===null?I:C.key),g=i(C,g,I),L===null?k=C:L.sibling=C,L=C);return t&&_.forEach(function(M){return e(m,M)}),be&&Tr(m,I),k}function E(m,g,v,w){var k=di(v);if(typeof k!="function")throw Error(P(150));if(v=k.call(v),v==null)throw Error(P(151));for(var L=k=null,_=g,I=g=0,C=null,T=v.next();_!==null&&!T.done;I++,T=v.next()){_.index>I?(C=_,_=null):C=_.sibling;var M=f(m,_,T.value,w);if(M===null){_===null&&(_=C);break}t&&_&&M.alternate===null&&e(m,_),g=i(M,g,I),L===null?k=M:L.sibling=M,L=M,_=C}if(T.done)return n(m,_),be&&Tr(m,I),k;if(_===null){for(;!T.done;I++,T=v.next())T=d(m,T.value,w),T!==null&&(g=i(T,g,I),L===null?k=T:L.sibling=T,L=T);return be&&Tr(m,I),k}for(_=r(m,_);!T.done;I++,T=v.next())T=p(_,m,I,T.value,w),T!==null&&(t&&T.alternate!==null&&_.delete(T.key===null?I:T.key),g=i(T,g,I),L===null?k=T:L.sibling=T,L=T);return t&&_.forEach(function(z){return e(m,z)}),be&&Tr(m,I),k}function S(m,g,v,w){if(typeof v=="object"&&v!==null&&v.type===us&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Ea:e:{for(var k=v.key,L=g;L!==null;){if(L.key===k){if(k=v.type,k===us){if(L.tag===7){n(m,L.sibling),g=s(L,v.props.children),g.return=m,m=g;break e}}else if(L.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Vn&&fg(k)===L.type){n(m,L.sibling),g=s(L,v.props),g.ref=vi(m,L,v),g.return=m,m=g;break e}n(m,L);break}else e(m,L);L=L.sibling}v.type===us?(g=$r(v.props.children,m.mode,w,v.key),g.return=m,m=g):(w=ol(v.type,v.key,v.props,null,m.mode,w),w.ref=vi(m,g,v),w.return=m,m=w)}return o(m);case ls:e:{for(L=v.key;g!==null;){if(g.key===L)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){n(m,g.sibling),g=s(g,v.children||[]),g.return=m,m=g;break e}else{n(m,g);break}else e(m,g);g=g.sibling}g=Dc(v,m.mode,w),g.return=m,m=g}return o(m);case Vn:return L=v._init,S(m,g,L(v._payload),w)}if(Ti(v))return y(m,g,v,w);if(di(v))return E(m,g,v,w);Ra(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(n(m,g.sibling),g=s(g,v),g.return=m,m=g):(n(m,g),g=Ac(v,m.mode,w),g.return=m,m=g),o(m)):n(m,g)}return S}var Ms=Sw(!0),Lw=Sw(!1),jo={},yn=Er(jo),ao=Er(jo),lo=Er(jo);function Pr(t){if(t===jo)throw Error(P(174));return t}function yf(t,e){switch(Se(lo,e),Se(ao,t),Se(yn,jo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:vh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=vh(e,t)}_e(yn),Se(yn,e)}function Os(){_e(yn),_e(ao),_e(lo)}function Cw(t){Pr(lo.current);var e=Pr(yn.current),n=vh(e,t.type);e!==n&&(Se(ao,t),Se(yn,n))}function wf(t){ao.current===t&&(_e(yn),_e(ao))}var Ne=Er(0);function Al(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var _c=[];function Ef(){for(var t=0;t<_c.length;t++)_c[t]._workInProgressVersionPrimary=null;_c.length=0}var tl=Fn.ReactCurrentDispatcher,Ic=Fn.ReactCurrentBatchConfig,zr=0,Re=null,He=null,Ze=null,Dl=!1,ji=!1,uo=0,GC=0;function at(){throw Error(P(321))}function xf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!sn(t[n],e[n]))return!1;return!0}function Sf(t,e,n,r,s,i){if(zr=i,Re=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,tl.current=t===null||t.memoizedState===null?XC:JC,t=n(r,s),ji){i=0;do{if(ji=!1,uo=0,25<=i)throw Error(P(301));i+=1,Ze=He=null,e.updateQueue=null,tl.current=ek,t=n(r,s)}while(ji)}if(tl.current=Ml,e=He!==null&&He.next!==null,zr=0,Ze=He=Re=null,Dl=!1,e)throw Error(P(300));return t}function Lf(){var t=uo!==0;return uo=0,t}function cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?Re.memoizedState=Ze=t:Ze=Ze.next=t,Ze}function Zt(){if(He===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=He.next;var e=Ze===null?Re.memoizedState:Ze.next;if(e!==null)Ze=e,He=t;else{if(t===null)throw Error(P(310));He=t,t={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},Ze===null?Re.memoizedState=Ze=t:Ze=Ze.next=t}return Ze}function co(t,e){return typeof e=="function"?e(t):e}function bc(t){var e=Zt(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=He,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((zr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Re.lanes|=c,Vr|=c}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,sn(r,e.memoizedState)||(_t=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Re.lanes|=i,Vr|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Nc(t){var e=Zt(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);sn(i,e.memoizedState)||(_t=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function kw(){}function Tw(t,e){var n=Re,r=Zt(),s=e(),i=!sn(r.memoizedState,s);if(i&&(r.memoizedState=s,_t=!0),r=r.queue,Cf(bw.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Ze!==null&&Ze.memoizedState.tag&1){if(n.flags|=2048,ho(9,Iw.bind(null,n,r,s,e),void 0,null),Ye===null)throw Error(P(349));zr&30||_w(n,e,s)}return s}function _w(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Re.updateQueue,e===null?(e={lastEffect:null,stores:null},Re.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Iw(t,e,n,r){e.value=n,e.getSnapshot=r,Nw(e)&&Rw(t)}function bw(t,e,n){return n(function(){Nw(e)&&Rw(t)})}function Nw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!sn(t,n)}catch{return!0}}function Rw(t){var e=An(t,1);e!==null&&rn(e,t,1,-1)}function pg(t){var e=cn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:co,lastRenderedState:t},e.queue=t,t=t.dispatch=YC.bind(null,Re,t),[e.memoizedState,t]}function ho(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Re.updateQueue,e===null?(e={lastEffect:null,stores:null},Re.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Pw(){return Zt().memoizedState}function nl(t,e,n,r){var s=cn();Re.flags|=t,s.memoizedState=ho(1|e,n,void 0,r===void 0?null:r)}function gu(t,e,n,r){var s=Zt();r=r===void 0?null:r;var i=void 0;if(He!==null){var o=He.memoizedState;if(i=o.destroy,r!==null&&xf(r,o.deps)){s.memoizedState=ho(e,n,i,r);return}}Re.flags|=t,s.memoizedState=ho(1|e,n,i,r)}function mg(t,e){return nl(8390656,8,t,e)}function Cf(t,e){return gu(2048,8,t,e)}function Aw(t,e){return gu(4,2,t,e)}function Dw(t,e){return gu(4,4,t,e)}function Mw(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ow(t,e,n){return n=n!=null?n.concat([t]):null,gu(4,4,Mw.bind(null,e,t),n)}function kf(){}function $w(t,e){var n=Zt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xf(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function jw(t,e){var n=Zt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xf(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Fw(t,e,n){return zr&21?(sn(n,e)||(n=z0(),Re.lanes|=n,Vr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,_t=!0),t.memoizedState=n)}function QC(t,e){var n=ye;ye=n!==0&&4>n?n:4,t(!0);var r=Ic.transition;Ic.transition={};try{t(!1),e()}finally{ye=n,Ic.transition=r}}function Uw(){return Zt().memoizedState}function ZC(t,e,n){var r=ir(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Bw(t))zw(e,n);else if(n=yw(t,e,n,r),n!==null){var s=St();rn(n,t,r,s),Vw(n,e,r)}}function YC(t,e,n){var r=ir(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Bw(t))zw(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,sn(a,o)){var l=e.interleaved;l===null?(s.next=s,gf(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=yw(t,e,s,r),n!==null&&(s=St(),rn(n,t,r,s),Vw(n,e,r))}}function Bw(t){var e=t.alternate;return t===Re||e!==null&&e===Re}function zw(t,e){ji=Dl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Vw(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,tf(t,n)}}var Ml={readContext:Qt,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useInsertionEffect:at,useLayoutEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useMutableSource:at,useSyncExternalStore:at,useId:at,unstable_isNewReconciler:!1},XC={readContext:Qt,useCallback:function(t,e){return cn().memoizedState=[t,e===void 0?null:e],t},useContext:Qt,useEffect:mg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,nl(4194308,4,Mw.bind(null,e,t),n)},useLayoutEffect:function(t,e){return nl(4194308,4,t,e)},useInsertionEffect:function(t,e){return nl(4,2,t,e)},useMemo:function(t,e){var n=cn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=cn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=ZC.bind(null,Re,t),[r.memoizedState,t]},useRef:function(t){var e=cn();return t={current:t},e.memoizedState=t},useState:pg,useDebugValue:kf,useDeferredValue:function(t){return cn().memoizedState=t},useTransition:function(){var t=pg(!1),e=t[0];return t=QC.bind(null,t[1]),cn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Re,s=cn();if(be){if(n===void 0)throw Error(P(407));n=n()}else{if(n=e(),Ye===null)throw Error(P(349));zr&30||_w(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,mg(bw.bind(null,r,i,t),[t]),r.flags|=2048,ho(9,Iw.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=cn(),e=Ye.identifierPrefix;if(be){var n=_n,r=Tn;n=(r&~(1<<32-nn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=uo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=GC++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},JC={readContext:Qt,useCallback:$w,useContext:Qt,useEffect:Cf,useImperativeHandle:Ow,useInsertionEffect:Aw,useLayoutEffect:Dw,useMemo:jw,useReducer:bc,useRef:Pw,useState:function(){return bc(co)},useDebugValue:kf,useDeferredValue:function(t){var e=Zt();return Fw(e,He.memoizedState,t)},useTransition:function(){var t=bc(co)[0],e=Zt().memoizedState;return[t,e]},useMutableSource:kw,useSyncExternalStore:Tw,useId:Uw,unstable_isNewReconciler:!1},ek={readContext:Qt,useCallback:$w,useContext:Qt,useEffect:Cf,useImperativeHandle:Ow,useInsertionEffect:Aw,useLayoutEffect:Dw,useMemo:jw,useReducer:Nc,useRef:Pw,useState:function(){return Nc(co)},useDebugValue:kf,useDeferredValue:function(t){var e=Zt();return He===null?e.memoizedState=t:Fw(e,He.memoizedState,t)},useTransition:function(){var t=Nc(co)[0],e=Zt().memoizedState;return[t,e]},useMutableSource:kw,useSyncExternalStore:Tw,useId:Uw,unstable_isNewReconciler:!1};function $s(t,e){try{var n="",r=e;do n+=IL(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Rc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Uh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var tk=typeof WeakMap=="function"?WeakMap:Map;function Hw(t,e,n){n=bn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){$l||($l=!0,Zh=r),Uh(t,e)},n}function Ww(t,e,n){n=bn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Uh(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Uh(t,e),typeof r!="function"&&(sr===null?sr=new Set([this]):sr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function gg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new tk;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=mk.bind(null,t,e,n),e.then(t,t))}function vg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function yg(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=bn(-1,1),e.tag=2,rr(n,e,1))),n.lanes|=1),t)}var nk=Fn.ReactCurrentOwner,_t=!1;function Et(t,e,n,r){e.child=t===null?Lw(e,null,n,r):Ms(e,t.child,n,r)}function wg(t,e,n,r,s){n=n.render;var i=e.ref;return Ts(e,s),r=Sf(t,e,n,r,i,s),n=Lf(),t!==null&&!_t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Dn(t,e,s)):(be&&n&&cf(e),e.flags|=1,Et(t,e,r,s),e.child)}function Eg(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Af(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,qw(t,e,i,r,s)):(t=ol(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ro,n(o,r)&&t.ref===e.ref)return Dn(t,e,s)}return e.flags|=1,t=or(i,r),t.ref=e.ref,t.return=e,e.child=t}function qw(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(ro(i,r)&&t.ref===e.ref)if(_t=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(_t=!0);else return e.lanes=t.lanes,Dn(t,e,s)}return Bh(t,e,n,r,s)}function Kw(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(ws,Rt),Rt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Se(ws,Rt),Rt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Se(ws,Rt),Rt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Se(ws,Rt),Rt|=r;return Et(t,e,s,n),e.child}function Gw(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Bh(t,e,n,r,s){var i=bt(n)?Ur:vt.current;return i=As(e,i),Ts(e,s),n=Sf(t,e,n,r,i,s),r=Lf(),t!==null&&!_t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Dn(t,e,s)):(be&&r&&cf(e),e.flags|=1,Et(t,e,n,s),e.child)}function xg(t,e,n,r,s){if(bt(n)){var i=!0;_l(e)}else i=!1;if(Ts(e,s),e.stateNode===null)rl(t,e),xw(e,n,r),Fh(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Qt(u):(u=bt(n)?Ur:vt.current,u=As(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&dg(e,o,r,u),Hn=!1;var f=e.memoizedState;o.state=f,Pl(e,r,o,s),l=e.memoizedState,a!==r||f!==l||It.current||Hn?(typeof c=="function"&&(jh(e,n,c,r),l=e.memoizedState),(a=Hn||hg(e,n,a,r,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,ww(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Jt(e.type,a),o.props=u,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Qt(l):(l=bt(n)?Ur:vt.current,l=As(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&dg(e,o,r,l),Hn=!1,f=e.memoizedState,o.state=f,Pl(e,r,o,s);var y=e.memoizedState;a!==d||f!==y||It.current||Hn?(typeof p=="function"&&(jh(e,n,p,r),y=e.memoizedState),(u=Hn||hg(e,n,u,r,f,y,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return zh(t,e,n,r,i,s)}function zh(t,e,n,r,s,i){Gw(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&og(e,n,!1),Dn(t,e,i);r=e.stateNode,nk.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ms(e,t.child,null,i),e.child=Ms(e,null,a,i)):Et(t,e,a,i),e.memoizedState=r.state,s&&og(e,n,!0),e.child}function Qw(t){var e=t.stateNode;e.pendingContext?ig(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ig(t,e.context,!1),yf(t,e.containerInfo)}function Sg(t,e,n,r,s){return Ds(),df(s),e.flags|=256,Et(t,e,n,r),e.child}var Vh={dehydrated:null,treeContext:null,retryLane:0};function Hh(t){return{baseLanes:t,cachePool:null,transitions:null}}function Zw(t,e,n){var r=e.pendingProps,s=Ne.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Se(Ne,s&1),t===null)return Oh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=wu(o,r,0,null),t=$r(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Hh(n),e.memoizedState=Vh,t):Tf(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return rk(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=or(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=or(a,i):(i=$r(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Hh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Vh,r}return i=t.child,t=i.sibling,r=or(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Tf(t,e){return e=wu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Pa(t,e,n,r){return r!==null&&df(r),Ms(e,t.child,null,n),t=Tf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function rk(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Rc(Error(P(422))),Pa(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=wu({mode:"visible",children:r.children},s,0,null),i=$r(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ms(e,t.child,null,o),e.child.memoizedState=Hh(o),e.memoizedState=Vh,i);if(!(e.mode&1))return Pa(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(P(419)),r=Rc(i,r,void 0),Pa(t,e,o,r)}if(a=(o&t.childLanes)!==0,_t||a){if(r=Ye,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,An(t,s),rn(r,t,s,-1))}return Pf(),r=Rc(Error(P(421))),Pa(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=gk.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Pt=nr(s.nextSibling),Mt=e,be=!0,tn=null,t!==null&&(Vt[Ht++]=Tn,Vt[Ht++]=_n,Vt[Ht++]=Br,Tn=t.id,_n=t.overflow,Br=e),e=Tf(e,r.children),e.flags|=4096,e)}function Lg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),$h(t.return,e,n)}function Pc(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Yw(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Et(t,e,r.children,n),r=Ne.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Lg(t,n,e);else if(t.tag===19)Lg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Se(Ne,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Al(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Pc(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Al(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Pc(e,!0,n,null,i);break;case"together":Pc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function rl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Dn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Vr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(P(153));if(e.child!==null){for(t=e.child,n=or(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=or(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function sk(t,e,n){switch(e.tag){case 3:Qw(e),Ds();break;case 5:Cw(e);break;case 1:bt(e.type)&&_l(e);break;case 4:yf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Se(Nl,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Se(Ne,Ne.current&1),e.flags|=128,null):n&e.child.childLanes?Zw(t,e,n):(Se(Ne,Ne.current&1),t=Dn(t,e,n),t!==null?t.sibling:null);Se(Ne,Ne.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Yw(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Se(Ne,Ne.current),r)break;return null;case 22:case 23:return e.lanes=0,Kw(t,e,n)}return Dn(t,e,n)}var Xw,Wh,Jw,e1;Xw=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Wh=function(){};Jw=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Pr(yn.current);var i=null;switch(n){case"input":s=fh(t,s),r=fh(t,r),i=[];break;case"select":s=Pe({},s,{value:void 0}),r=Pe({},r,{value:void 0}),i=[];break;case"textarea":s=gh(t,s),r=gh(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=kl)}yh(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Zi.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Zi.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ce("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};e1=function(t,e,n,r){n!==r&&(e.flags|=4)};function yi(t,e){if(!be)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function lt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function ik(t,e,n){var r=e.pendingProps;switch(hf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(e),null;case 1:return bt(e.type)&&Tl(),lt(e),null;case 3:return r=e.stateNode,Os(),_e(It),_e(vt),Ef(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Na(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,tn!==null&&(Jh(tn),tn=null))),Wh(t,e),lt(e),null;case 5:wf(e);var s=Pr(lo.current);if(n=e.type,t!==null&&e.stateNode!=null)Jw(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(P(166));return lt(e),null}if(t=Pr(yn.current),Na(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[hn]=e,r[oo]=i,t=(e.mode&1)!==0,n){case"dialog":Ce("cancel",r),Ce("close",r);break;case"iframe":case"object":case"embed":Ce("load",r);break;case"video":case"audio":for(s=0;s<Ii.length;s++)Ce(Ii[s],r);break;case"source":Ce("error",r);break;case"img":case"image":case"link":Ce("error",r),Ce("load",r);break;case"details":Ce("toggle",r);break;case"input":Pm(r,i),Ce("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ce("invalid",r);break;case"textarea":Dm(r,i),Ce("invalid",r)}yh(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&ba(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ba(r.textContent,a,t),s=["children",""+a]):Zi.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ce("scroll",r)}switch(n){case"input":xa(r),Am(r,i,!0);break;case"textarea":xa(r),Mm(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=kl)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=_0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[hn]=e,t[oo]=r,Xw(t,e,!1,!1),e.stateNode=t;e:{switch(o=wh(n,r),n){case"dialog":Ce("cancel",t),Ce("close",t),s=r;break;case"iframe":case"object":case"embed":Ce("load",t),s=r;break;case"video":case"audio":for(s=0;s<Ii.length;s++)Ce(Ii[s],t);s=r;break;case"source":Ce("error",t),s=r;break;case"img":case"image":case"link":Ce("error",t),Ce("load",t),s=r;break;case"details":Ce("toggle",t),s=r;break;case"input":Pm(t,r),s=fh(t,r),Ce("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Pe({},r,{value:void 0}),Ce("invalid",t);break;case"textarea":Dm(t,r),s=gh(t,r),Ce("invalid",t);break;default:s=r}yh(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?N0(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&I0(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Yi(t,l):typeof l=="number"&&Yi(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Zi.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ce("scroll",t):l!=null&&Qd(t,i,l,o))}switch(n){case"input":xa(t),Am(t,r,!1);break;case"textarea":xa(t),Mm(t);break;case"option":r.value!=null&&t.setAttribute("value",""+fr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Ss(t,!!r.multiple,i,!1):r.defaultValue!=null&&Ss(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=kl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return lt(e),null;case 6:if(t&&e.stateNode!=null)e1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(P(166));if(n=Pr(lo.current),Pr(yn.current),Na(e)){if(r=e.stateNode,n=e.memoizedProps,r[hn]=e,(i=r.nodeValue!==n)&&(t=Mt,t!==null))switch(t.tag){case 3:ba(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ba(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[hn]=e,e.stateNode=r}return lt(e),null;case 13:if(_e(Ne),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(be&&Pt!==null&&e.mode&1&&!(e.flags&128))vw(),Ds(),e.flags|=98560,i=!1;else if(i=Na(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(P(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(P(317));i[hn]=e}else Ds(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;lt(e),i=!1}else tn!==null&&(Jh(tn),tn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ne.current&1?We===0&&(We=3):Pf())),e.updateQueue!==null&&(e.flags|=4),lt(e),null);case 4:return Os(),Wh(t,e),t===null&&so(e.stateNode.containerInfo),lt(e),null;case 10:return mf(e.type._context),lt(e),null;case 17:return bt(e.type)&&Tl(),lt(e),null;case 19:if(_e(Ne),i=e.memoizedState,i===null)return lt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)yi(i,!1);else{if(We!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Al(t),o!==null){for(e.flags|=128,yi(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Se(Ne,Ne.current&1|2),e.child}t=t.sibling}i.tail!==null&&je()>js&&(e.flags|=128,r=!0,yi(i,!1),e.lanes=4194304)}else{if(!r)if(t=Al(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),yi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!be)return lt(e),null}else 2*je()-i.renderingStartTime>js&&n!==1073741824&&(e.flags|=128,r=!0,yi(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=je(),e.sibling=null,n=Ne.current,Se(Ne,r?n&1|2:n&1),e):(lt(e),null);case 22:case 23:return Rf(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Rt&1073741824&&(lt(e),e.subtreeFlags&6&&(e.flags|=8192)):lt(e),null;case 24:return null;case 25:return null}throw Error(P(156,e.tag))}function ok(t,e){switch(hf(e),e.tag){case 1:return bt(e.type)&&Tl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Os(),_e(It),_e(vt),Ef(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return wf(e),null;case 13:if(_e(Ne),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(P(340));Ds()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return _e(Ne),null;case 4:return Os(),null;case 10:return mf(e.type._context),null;case 22:case 23:return Rf(),null;case 24:return null;default:return null}}var Aa=!1,ht=!1,ak=typeof WeakSet=="function"?WeakSet:Set,F=null;function ys(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){De(t,e,r)}else n.current=null}function qh(t,e,n){try{n()}catch(r){De(t,e,r)}}var Cg=!1;function lk(t,e){if(bh=Sl,t=sw(),uf(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var p;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++u===s&&(a=o),f===i&&++c===r&&(l=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Nh={focusedElem:t,selectionRange:n},Sl=!1,F=e;F!==null;)if(e=F,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,F=t;else for(;F!==null;){e=F;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var E=y.memoizedProps,S=y.memoizedState,m=e.stateNode,g=m.getSnapshotBeforeUpdate(e.elementType===e.type?E:Jt(e.type,E),S);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(w){De(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,F=t;break}F=e.return}return y=Cg,Cg=!1,y}function Fi(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&qh(e,n,i)}s=s.next}while(s!==r)}}function vu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Kh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function t1(t){var e=t.alternate;e!==null&&(t.alternate=null,t1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[hn],delete e[oo],delete e[Ah],delete e[HC],delete e[WC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function n1(t){return t.tag===5||t.tag===3||t.tag===4}function kg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||n1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=kl));else if(r!==4&&(t=t.child,t!==null))for(Gh(t,e,n),t=t.sibling;t!==null;)Gh(t,e,n),t=t.sibling}function Qh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Qh(t,e,n),t=t.sibling;t!==null;)Qh(t,e,n),t=t.sibling}var tt=null,en=!1;function Bn(t,e,n){for(n=n.child;n!==null;)r1(t,e,n),n=n.sibling}function r1(t,e,n){if(vn&&typeof vn.onCommitFiberUnmount=="function")try{vn.onCommitFiberUnmount(uu,n)}catch{}switch(n.tag){case 5:ht||ys(n,e);case 6:var r=tt,s=en;tt=null,Bn(t,e,n),tt=r,en=s,tt!==null&&(en?(t=tt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):tt.removeChild(n.stateNode));break;case 18:tt!==null&&(en?(t=tt,n=n.stateNode,t.nodeType===8?kc(t.parentNode,n):t.nodeType===1&&kc(t,n),to(t)):kc(tt,n.stateNode));break;case 4:r=tt,s=en,tt=n.stateNode.containerInfo,en=!0,Bn(t,e,n),tt=r,en=s;break;case 0:case 11:case 14:case 15:if(!ht&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&qh(n,e,o),s=s.next}while(s!==r)}Bn(t,e,n);break;case 1:if(!ht&&(ys(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){De(n,e,a)}Bn(t,e,n);break;case 21:Bn(t,e,n);break;case 22:n.mode&1?(ht=(r=ht)||n.memoizedState!==null,Bn(t,e,n),ht=r):Bn(t,e,n);break;default:Bn(t,e,n)}}function Tg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new ak),e.forEach(function(r){var s=vk.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Xt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:tt=a.stateNode,en=!1;break e;case 3:tt=a.stateNode.containerInfo,en=!0;break e;case 4:tt=a.stateNode.containerInfo,en=!0;break e}a=a.return}if(tt===null)throw Error(P(160));r1(i,o,s),tt=null,en=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){De(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)s1(e,t),e=e.sibling}function s1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Xt(e,t),ln(t),r&4){try{Fi(3,t,t.return),vu(3,t)}catch(E){De(t,t.return,E)}try{Fi(5,t,t.return)}catch(E){De(t,t.return,E)}}break;case 1:Xt(e,t),ln(t),r&512&&n!==null&&ys(n,n.return);break;case 5:if(Xt(e,t),ln(t),r&512&&n!==null&&ys(n,n.return),t.flags&32){var s=t.stateNode;try{Yi(s,"")}catch(E){De(t,t.return,E)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&k0(s,i),wh(a,o);var u=wh(a,i);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?N0(s,d):c==="dangerouslySetInnerHTML"?I0(s,d):c==="children"?Yi(s,d):Qd(s,c,d,u)}switch(a){case"input":ph(s,i);break;case"textarea":T0(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Ss(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Ss(s,!!i.multiple,i.defaultValue,!0):Ss(s,!!i.multiple,i.multiple?[]:"",!1))}s[oo]=i}catch(E){De(t,t.return,E)}}break;case 6:if(Xt(e,t),ln(t),r&4){if(t.stateNode===null)throw Error(P(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(E){De(t,t.return,E)}}break;case 3:if(Xt(e,t),ln(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{to(e.containerInfo)}catch(E){De(t,t.return,E)}break;case 4:Xt(e,t),ln(t);break;case 13:Xt(e,t),ln(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(bf=je())),r&4&&Tg(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(ht=(u=ht)||c,Xt(e,t),ht=u):Xt(e,t),ln(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(F=t,c=t.child;c!==null;){for(d=F=c;F!==null;){switch(f=F,p=f.child,f.tag){case 0:case 11:case 14:case 15:Fi(4,f,f.return);break;case 1:ys(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(E){De(r,n,E)}}break;case 5:ys(f,f.return);break;case 22:if(f.memoizedState!==null){Ig(d);continue}}p!==null?(p.return=f,F=p):Ig(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=b0("display",o))}catch(E){De(t,t.return,E)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(E){De(t,t.return,E)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Xt(e,t),ln(t),r&4&&Tg(t);break;case 21:break;default:Xt(e,t),ln(t)}}function ln(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(n1(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Yi(s,""),r.flags&=-33);var i=kg(t);Qh(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=kg(t);Gh(t,a,o);break;default:throw Error(P(161))}}catch(l){De(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function uk(t,e,n){F=t,i1(t)}function i1(t,e,n){for(var r=(t.mode&1)!==0;F!==null;){var s=F,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Aa;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||ht;a=Aa;var u=ht;if(Aa=o,(ht=l)&&!u)for(F=s;F!==null;)o=F,l=o.child,o.tag===22&&o.memoizedState!==null?bg(s):l!==null?(l.return=o,F=l):bg(s);for(;i!==null;)F=i,i1(i),i=i.sibling;F=s,Aa=a,ht=u}_g(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,F=i):_g(t)}}function _g(t){for(;F!==null;){var e=F;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ht||vu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ht)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Jt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&cg(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}cg(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&to(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}ht||e.flags&512&&Kh(e)}catch(f){De(e,e.return,f)}}if(e===t){F=null;break}if(n=e.sibling,n!==null){n.return=e.return,F=n;break}F=e.return}}function Ig(t){for(;F!==null;){var e=F;if(e===t){F=null;break}var n=e.sibling;if(n!==null){n.return=e.return,F=n;break}F=e.return}}function bg(t){for(;F!==null;){var e=F;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{vu(4,e)}catch(l){De(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){De(e,s,l)}}var i=e.return;try{Kh(e)}catch(l){De(e,i,l)}break;case 5:var o=e.return;try{Kh(e)}catch(l){De(e,o,l)}}}catch(l){De(e,e.return,l)}if(e===t){F=null;break}var a=e.sibling;if(a!==null){a.return=e.return,F=a;break}F=e.return}}var ck=Math.ceil,Ol=Fn.ReactCurrentDispatcher,_f=Fn.ReactCurrentOwner,Kt=Fn.ReactCurrentBatchConfig,fe=0,Ye=null,Be=null,st=0,Rt=0,ws=Er(0),We=0,fo=null,Vr=0,yu=0,If=0,Ui=null,kt=null,bf=0,js=1/0,Cn=null,$l=!1,Zh=null,sr=null,Da=!1,Qn=null,jl=0,Bi=0,Yh=null,sl=-1,il=0;function St(){return fe&6?je():sl!==-1?sl:sl=je()}function ir(t){return t.mode&1?fe&2&&st!==0?st&-st:KC.transition!==null?(il===0&&(il=z0()),il):(t=ye,t!==0||(t=window.event,t=t===void 0?16:Q0(t.type)),t):1}function rn(t,e,n,r){if(50<Bi)throw Bi=0,Yh=null,Error(P(185));Mo(t,n,r),(!(fe&2)||t!==Ye)&&(t===Ye&&(!(fe&2)&&(yu|=n),We===4&&qn(t,st)),Nt(t,r),n===1&&fe===0&&!(e.mode&1)&&(js=je()+500,pu&&xr()))}function Nt(t,e){var n=t.callbackNode;KL(t,e);var r=xl(t,t===Ye?st:0);if(r===0)n!==null&&jm(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&jm(n),e===1)t.tag===0?qC(Ng.bind(null,t)):pw(Ng.bind(null,t)),zC(function(){!(fe&6)&&xr()}),n=null;else{switch(V0(r)){case 1:n=ef;break;case 4:n=U0;break;case 16:n=El;break;case 536870912:n=B0;break;default:n=El}n=f1(n,o1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function o1(t,e){if(sl=-1,il=0,fe&6)throw Error(P(327));var n=t.callbackNode;if(_s()&&t.callbackNode!==n)return null;var r=xl(t,t===Ye?st:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Fl(t,r);else{e=r;var s=fe;fe|=2;var i=l1();(Ye!==t||st!==e)&&(Cn=null,js=je()+500,Or(t,e));do try{fk();break}catch(a){a1(t,a)}while(1);pf(),Ol.current=i,fe=s,Be!==null?e=0:(Ye=null,st=0,e=We)}if(e!==0){if(e===2&&(s=Ch(t),s!==0&&(r=s,e=Xh(t,s))),e===1)throw n=fo,Or(t,0),qn(t,r),Nt(t,je()),n;if(e===6)qn(t,r);else{if(s=t.current.alternate,!(r&30)&&!hk(s)&&(e=Fl(t,r),e===2&&(i=Ch(t),i!==0&&(r=i,e=Xh(t,i))),e===1))throw n=fo,Or(t,0),qn(t,r),Nt(t,je()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(P(345));case 2:_r(t,kt,Cn);break;case 3:if(qn(t,r),(r&130023424)===r&&(e=bf+500-je(),10<e)){if(xl(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){St(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Ph(_r.bind(null,t,kt,Cn),e);break}_r(t,kt,Cn);break;case 4:if(qn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-nn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ck(r/1960))-r,10<r){t.timeoutHandle=Ph(_r.bind(null,t,kt,Cn),r);break}_r(t,kt,Cn);break;case 5:_r(t,kt,Cn);break;default:throw Error(P(329))}}}return Nt(t,je()),t.callbackNode===n?o1.bind(null,t):null}function Xh(t,e){var n=Ui;return t.current.memoizedState.isDehydrated&&(Or(t,e).flags|=256),t=Fl(t,e),t!==2&&(e=kt,kt=n,e!==null&&Jh(e)),t}function Jh(t){kt===null?kt=t:kt.push.apply(kt,t)}function hk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!sn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function qn(t,e){for(e&=~If,e&=~yu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-nn(e),r=1<<n;t[n]=-1,e&=~r}}function Ng(t){if(fe&6)throw Error(P(327));_s();var e=xl(t,0);if(!(e&1))return Nt(t,je()),null;var n=Fl(t,e);if(t.tag!==0&&n===2){var r=Ch(t);r!==0&&(e=r,n=Xh(t,r))}if(n===1)throw n=fo,Or(t,0),qn(t,e),Nt(t,je()),n;if(n===6)throw Error(P(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_r(t,kt,Cn),Nt(t,je()),null}function Nf(t,e){var n=fe;fe|=1;try{return t(e)}finally{fe=n,fe===0&&(js=je()+500,pu&&xr())}}function Hr(t){Qn!==null&&Qn.tag===0&&!(fe&6)&&_s();var e=fe;fe|=1;var n=Kt.transition,r=ye;try{if(Kt.transition=null,ye=1,t)return t()}finally{ye=r,Kt.transition=n,fe=e,!(fe&6)&&xr()}}function Rf(){Rt=ws.current,_e(ws)}function Or(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,BC(n)),Be!==null)for(n=Be.return;n!==null;){var r=n;switch(hf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Tl();break;case 3:Os(),_e(It),_e(vt),Ef();break;case 5:wf(r);break;case 4:Os();break;case 13:_e(Ne);break;case 19:_e(Ne);break;case 10:mf(r.type._context);break;case 22:case 23:Rf()}n=n.return}if(Ye=t,Be=t=or(t.current,null),st=Rt=e,We=0,fo=null,If=yu=Vr=0,kt=Ui=null,Rr!==null){for(e=0;e<Rr.length;e++)if(n=Rr[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Rr=null}return t}function a1(t,e){do{var n=Be;try{if(pf(),tl.current=Ml,Dl){for(var r=Re.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Dl=!1}if(zr=0,Ze=He=Re=null,ji=!1,uo=0,_f.current=null,n===null||n.return===null){We=1,fo=e,Be=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=st,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=vg(o);if(p!==null){p.flags&=-257,yg(p,o,a,i,e),p.mode&1&&gg(i,u,e),e=p,l=u;var y=e.updateQueue;if(y===null){var E=new Set;E.add(l),e.updateQueue=E}else y.add(l);break e}else{if(!(e&1)){gg(i,u,e),Pf();break e}l=Error(P(426))}}else if(be&&a.mode&1){var S=vg(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),yg(S,o,a,i,e),df($s(l,a));break e}}i=l=$s(l,a),We!==4&&(We=2),Ui===null?Ui=[i]:Ui.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=Hw(i,l,e);ug(i,m);break e;case 1:a=l;var g=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(sr===null||!sr.has(v)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=Ww(i,a,e);ug(i,w);break e}}i=i.return}while(i!==null)}c1(n)}catch(k){e=k,Be===n&&n!==null&&(Be=n=n.return);continue}break}while(1)}function l1(){var t=Ol.current;return Ol.current=Ml,t===null?Ml:t}function Pf(){(We===0||We===3||We===2)&&(We=4),Ye===null||!(Vr&268435455)&&!(yu&268435455)||qn(Ye,st)}function Fl(t,e){var n=fe;fe|=2;var r=l1();(Ye!==t||st!==e)&&(Cn=null,Or(t,e));do try{dk();break}catch(s){a1(t,s)}while(1);if(pf(),fe=n,Ol.current=r,Be!==null)throw Error(P(261));return Ye=null,st=0,We}function dk(){for(;Be!==null;)u1(Be)}function fk(){for(;Be!==null&&!jL();)u1(Be)}function u1(t){var e=d1(t.alternate,t,Rt);t.memoizedProps=t.pendingProps,e===null?c1(t):Be=e,_f.current=null}function c1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=ok(n,e),n!==null){n.flags&=32767,Be=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{We=6,Be=null;return}}else if(n=ik(n,e,Rt),n!==null){Be=n;return}if(e=e.sibling,e!==null){Be=e;return}Be=e=t}while(e!==null);We===0&&(We=5)}function _r(t,e,n){var r=ye,s=Kt.transition;try{Kt.transition=null,ye=1,pk(t,e,n,r)}finally{Kt.transition=s,ye=r}return null}function pk(t,e,n,r){do _s();while(Qn!==null);if(fe&6)throw Error(P(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(P(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(GL(t,i),t===Ye&&(Be=Ye=null,st=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Da||(Da=!0,f1(El,function(){return _s(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Kt.transition,Kt.transition=null;var o=ye;ye=1;var a=fe;fe|=4,_f.current=null,lk(t,n),s1(n,t),DC(Nh),Sl=!!bh,Nh=bh=null,t.current=n,uk(n),FL(),fe=a,ye=o,Kt.transition=i}else t.current=n;if(Da&&(Da=!1,Qn=t,jl=s),i=t.pendingLanes,i===0&&(sr=null),zL(n.stateNode),Nt(t,je()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if($l)throw $l=!1,t=Zh,Zh=null,t;return jl&1&&t.tag!==0&&_s(),i=t.pendingLanes,i&1?t===Yh?Bi++:(Bi=0,Yh=t):Bi=0,xr(),null}function _s(){if(Qn!==null){var t=V0(jl),e=Kt.transition,n=ye;try{if(Kt.transition=null,ye=16>t?16:t,Qn===null)var r=!1;else{if(t=Qn,Qn=null,jl=0,fe&6)throw Error(P(331));var s=fe;for(fe|=4,F=t.current;F!==null;){var i=F,o=i.child;if(F.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(F=u;F!==null;){var c=F;switch(c.tag){case 0:case 11:case 15:Fi(8,c,i)}var d=c.child;if(d!==null)d.return=c,F=d;else for(;F!==null;){c=F;var f=c.sibling,p=c.return;if(t1(c),c===u){F=null;break}if(f!==null){f.return=p,F=f;break}F=p}}}var y=i.alternate;if(y!==null){var E=y.child;if(E!==null){y.child=null;do{var S=E.sibling;E.sibling=null,E=S}while(E!==null)}}F=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,F=o;else e:for(;F!==null;){if(i=F,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Fi(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,F=m;break e}F=i.return}}var g=t.current;for(F=g;F!==null;){o=F;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,F=v;else e:for(o=g;F!==null;){if(a=F,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:vu(9,a)}}catch(k){De(a,a.return,k)}if(a===o){F=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,F=w;break e}F=a.return}}if(fe=s,xr(),vn&&typeof vn.onPostCommitFiberRoot=="function")try{vn.onPostCommitFiberRoot(uu,t)}catch{}r=!0}return r}finally{ye=n,Kt.transition=e}}return!1}function Rg(t,e,n){e=$s(n,e),e=Hw(t,e,1),t=rr(t,e,1),e=St(),t!==null&&(Mo(t,1,e),Nt(t,e))}function De(t,e,n){if(t.tag===3)Rg(t,t,n);else for(;e!==null;){if(e.tag===3){Rg(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(sr===null||!sr.has(r))){t=$s(n,t),t=Ww(e,t,1),e=rr(e,t,1),t=St(),e!==null&&(Mo(e,1,t),Nt(e,t));break}}e=e.return}}function mk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=St(),t.pingedLanes|=t.suspendedLanes&n,Ye===t&&(st&n)===n&&(We===4||We===3&&(st&130023424)===st&&500>je()-bf?Or(t,0):If|=n),Nt(t,e)}function h1(t,e){e===0&&(t.mode&1?(e=Ca,Ca<<=1,!(Ca&130023424)&&(Ca=4194304)):e=1);var n=St();t=An(t,e),t!==null&&(Mo(t,e,n),Nt(t,n))}function gk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),h1(t,n)}function vk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(e),h1(t,n)}var d1;d1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||It.current)_t=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return _t=!1,sk(t,e,n);_t=!!(t.flags&131072)}else _t=!1,be&&e.flags&1048576&&mw(e,bl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;rl(t,e),t=e.pendingProps;var s=As(e,vt.current);Ts(e,n),s=Sf(null,e,r,t,s,n);var i=Lf();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,bt(r)?(i=!0,_l(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,vf(e),s.updater=mu,e.stateNode=s,s._reactInternals=e,Fh(e,r,t,n),e=zh(null,e,r,!0,i,n)):(e.tag=0,be&&i&&cf(e),Et(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(rl(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=wk(r),t=Jt(r,t),s){case 0:e=Bh(null,e,r,t,n);break e;case 1:e=xg(null,e,r,t,n);break e;case 11:e=wg(null,e,r,t,n);break e;case 14:e=Eg(null,e,r,Jt(r.type,t),n);break e}throw Error(P(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Jt(r,s),Bh(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Jt(r,s),xg(t,e,r,s,n);case 3:e:{if(Qw(e),t===null)throw Error(P(387));r=e.pendingProps,i=e.memoizedState,s=i.element,ww(t,e),Pl(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=$s(Error(P(423)),e),e=Sg(t,e,r,n,s);break e}else if(r!==s){s=$s(Error(P(424)),e),e=Sg(t,e,r,n,s);break e}else for(Pt=nr(e.stateNode.containerInfo.firstChild),Mt=e,be=!0,tn=null,n=Lw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ds(),r===s){e=Dn(t,e,n);break e}Et(t,e,r,n)}e=e.child}return e;case 5:return Cw(e),t===null&&Oh(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Rh(r,s)?o=null:i!==null&&Rh(r,i)&&(e.flags|=32),Gw(t,e),Et(t,e,o,n),e.child;case 6:return t===null&&Oh(e),null;case 13:return Zw(t,e,n);case 4:return yf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ms(e,null,r,n):Et(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Jt(r,s),wg(t,e,r,s,n);case 7:return Et(t,e,e.pendingProps,n),e.child;case 8:return Et(t,e,e.pendingProps.children,n),e.child;case 12:return Et(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Se(Nl,r._currentValue),r._currentValue=o,i!==null)if(sn(i.value,o)){if(i.children===s.children&&!It.current){e=Dn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=bn(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),$h(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(P(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),$h(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Et(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ts(e,n),s=Qt(s),r=r(s),e.flags|=1,Et(t,e,r,n),e.child;case 14:return r=e.type,s=Jt(r,e.pendingProps),s=Jt(r.type,s),Eg(t,e,r,s,n);case 15:return qw(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Jt(r,s),rl(t,e),e.tag=1,bt(r)?(t=!0,_l(e)):t=!1,Ts(e,n),xw(e,r,s),Fh(e,r,s,n),zh(null,e,r,!0,t,n);case 19:return Yw(t,e,n);case 22:return Kw(t,e,n)}throw Error(P(156,e.tag))};function f1(t,e){return F0(t,e)}function yk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qt(t,e,n,r){return new yk(t,e,n,r)}function Af(t){return t=t.prototype,!(!t||!t.isReactComponent)}function wk(t){if(typeof t=="function")return Af(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Yd)return 11;if(t===Xd)return 14}return 2}function or(t,e){var n=t.alternate;return n===null?(n=qt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ol(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Af(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case us:return $r(n.children,s,i,e);case Zd:o=8,s|=8;break;case uh:return t=qt(12,n,e,s|2),t.elementType=uh,t.lanes=i,t;case ch:return t=qt(13,n,e,s),t.elementType=ch,t.lanes=i,t;case hh:return t=qt(19,n,e,s),t.elementType=hh,t.lanes=i,t;case S0:return wu(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case E0:o=10;break e;case x0:o=9;break e;case Yd:o=11;break e;case Xd:o=14;break e;case Vn:o=16,r=null;break e}throw Error(P(130,t==null?t:typeof t,""))}return e=qt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function $r(t,e,n,r){return t=qt(7,t,r,e),t.lanes=n,t}function wu(t,e,n,r){return t=qt(22,t,r,e),t.elementType=S0,t.lanes=n,t.stateNode={isHidden:!1},t}function Ac(t,e,n){return t=qt(6,t,null,e),t.lanes=n,t}function Dc(t,e,n){return e=qt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ek(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pc(0),this.expirationTimes=pc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pc(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Df(t,e,n,r,s,i,o,a,l){return t=new Ek(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=qt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},vf(i),t}function xk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ls,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function p1(t){if(!t)return pr;t=t._reactInternals;e:{if(Xr(t)!==t||t.tag!==1)throw Error(P(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(bt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(P(171))}if(t.tag===1){var n=t.type;if(bt(n))return fw(t,n,e)}return e}function m1(t,e,n,r,s,i,o,a,l){return t=Df(n,r,!0,t,s,i,o,a,l),t.context=p1(null),n=t.current,r=St(),s=ir(n),i=bn(r,s),i.callback=e??null,rr(n,i,s),t.current.lanes=s,Mo(t,s,r),Nt(t,r),t}function Eu(t,e,n,r){var s=e.current,i=St(),o=ir(s);return n=p1(n),e.context===null?e.context=n:e.pendingContext=n,e=bn(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=rr(s,e,o),t!==null&&(rn(t,s,o,i),el(t,s,o)),o}function Ul(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Pg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Mf(t,e){Pg(t,e),(t=t.alternate)&&Pg(t,e)}function Sk(){return null}var g1=typeof reportError=="function"?reportError:function(t){console.error(t)};function Of(t){this._internalRoot=t}xu.prototype.render=Of.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(P(409));Eu(t,e,null,null)};xu.prototype.unmount=Of.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Hr(function(){Eu(null,t,null,null)}),e[Pn]=null}};function xu(t){this._internalRoot=t}xu.prototype.unstable_scheduleHydration=function(t){if(t){var e=q0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Wn.length&&e!==0&&e<Wn[n].priority;n++);Wn.splice(n,0,t),n===0&&G0(t)}};function $f(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Su(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ag(){}function Lk(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Ul(o);i.call(u)}}var o=m1(e,r,t,0,null,!1,!1,"",Ag);return t._reactRootContainer=o,t[Pn]=o.current,so(t.nodeType===8?t.parentNode:t),Hr(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Ul(l);a.call(u)}}var l=Df(t,0,!1,null,null,!1,!1,"",Ag);return t._reactRootContainer=l,t[Pn]=l.current,so(t.nodeType===8?t.parentNode:t),Hr(function(){Eu(e,l,n,r)}),l}function Lu(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Ul(o);a.call(l)}}Eu(e,o,t,s)}else o=Lk(n,e,t,s,r);return Ul(o)}H0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=_i(e.pendingLanes);n!==0&&(tf(e,n|1),Nt(e,je()),!(fe&6)&&(js=je()+500,xr()))}break;case 13:Hr(function(){var r=An(t,1);if(r!==null){var s=St();rn(r,t,1,s)}}),Mf(t,1)}};nf=function(t){if(t.tag===13){var e=An(t,134217728);if(e!==null){var n=St();rn(e,t,134217728,n)}Mf(t,134217728)}};W0=function(t){if(t.tag===13){var e=ir(t),n=An(t,e);if(n!==null){var r=St();rn(n,t,e,r)}Mf(t,e)}};q0=function(){return ye};K0=function(t,e){var n=ye;try{return ye=t,e()}finally{ye=n}};xh=function(t,e,n){switch(e){case"input":if(ph(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=fu(r);if(!s)throw Error(P(90));C0(r),ph(r,s)}}}break;case"textarea":T0(t,n);break;case"select":e=n.value,e!=null&&Ss(t,!!n.multiple,e,!1)}};A0=Nf;D0=Hr;var Ck={usingClientEntryPoint:!1,Events:[$o,fs,fu,R0,P0,Nf]},wi={findFiberByHostInstance:Nr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},kk={bundleType:wi.bundleType,version:wi.version,rendererPackageName:wi.rendererPackageName,rendererConfig:wi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=$0(t),t===null?null:t.stateNode},findFiberByHostInstance:wi.findFiberByHostInstance||Sk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ma=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ma.isDisabled&&Ma.supportsFiber)try{uu=Ma.inject(kk),vn=Ma}catch{}}Ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ck;Ut.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$f(e))throw Error(P(200));return xk(t,e,null,n)};Ut.createRoot=function(t,e){if(!$f(t))throw Error(P(299));var n=!1,r="",s=g1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Df(t,1,!1,null,null,n,!1,r,s),t[Pn]=e.current,so(t.nodeType===8?t.parentNode:t),new Of(e)};Ut.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(P(188)):(t=Object.keys(t).join(","),Error(P(268,t)));return t=$0(e),t=t===null?null:t.stateNode,t};Ut.flushSync=function(t){return Hr(t)};Ut.hydrate=function(t,e,n){if(!Su(e))throw Error(P(200));return Lu(null,t,e,!0,n)};Ut.hydrateRoot=function(t,e,n){if(!$f(t))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=g1;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=m1(e,null,t,1,n??null,s,!1,i,o),t[Pn]=e.current,so(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new xu(e)};Ut.render=function(t,e,n){if(!Su(e))throw Error(P(200));return Lu(null,t,e,!1,n)};Ut.unmountComponentAtNode=function(t){if(!Su(t))throw Error(P(40));return t._reactRootContainer?(Hr(function(){Lu(null,null,t,!1,function(){t._reactRootContainer=null,t[Pn]=null})}),!0):!1};Ut.unstable_batchedUpdates=Nf;Ut.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Su(n))throw Error(P(200));if(t==null||t._reactInternals===void 0)throw Error(P(38));return Lu(t,e,n,!1,r)};Ut.version="18.2.0-next-9e3b772b8-20220608";function v1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(v1)}catch(t){console.error(t)}}v1(),m0.exports=Ut;var Jr=m0.exports,Dg=Jr;ah.createRoot=Dg.createRoot,ah.hydrateRoot=Dg.hydrateRoot;var Tk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_k=function(t,e,n,r,s,i,o,a){if(!t){var l;if(e===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,s,i,o,a],c=0;l=new Error(e.replace(/%s/g,function(){return u[c++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},Ke=_k;const ne=h.createContext(null);function Ik(){Ke(!!h.useContext,"useGoogleMap is React hook and requires React version 16.8+");const t=h.useContext(ne);return Ke(!!t,"useGoogleMap needs a GoogleMap available up in the tree"),t}function bk(t,e,n){return Object.keys(t).reduce(function(s,i){return e(s,t[i],i)},n)}function Nk(t,e){Object.keys(t).forEach(n=>e(t[n],n))}function Rk(t,e,n,r){const s={};return Nk(t,(o,a)=>{const l=n[a];l!==e[a]&&(s[a]=l,o(r,l))}),s}function Pk(t,e,n){return bk(n,function(i,o,a){return typeof t[a]=="function"&&i.push(google.maps.event.addListener(e,o,t[a])),i},[])}function Ak(t){google.maps.event.removeListener(t)}function ie(t=[]){t.forEach(Ak)}function se({updaterMap:t,eventMap:e,prevProps:n,nextProps:r,instance:s}){const i=Pk(r,s,e);return Rk(t,n,r,s),i}const Mg={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},Og={extraMapTypes(t,e){e.forEach(function(r,s){t.mapTypes.set(String(s),r)})},center(t,e){t.setCenter(e)},clickableIcons(t,e){t.setClickableIcons(e)},heading(t,e){t.setHeading(e)},mapTypeId(t,e){t.setMapTypeId(e)},options(t,e){t.setOptions(e)},streetView(t,e){t.setStreetView(e)},tilt(t,e){t.setTilt(e)},zoom(t,e){t.setZoom(e)}};function Dk({children:t,options:e,id:n,mapContainerStyle:r,mapContainerClassName:s,center:i,onClick:o,onDblClick:a,onDrag:l,onDragEnd:u,onDragStart:c,onMouseMove:d,onMouseOut:f,onMouseOver:p,onMouseDown:y,onMouseUp:E,onRightClick:S,onCenterChanged:m,onLoad:g,onUnmount:v}){const[w,k]=h.useState(null),L=h.useRef(null),[_,I]=h.useState(null),[C,T]=h.useState(null),[M,z]=h.useState(null),[H,q]=h.useState(null),[le,J]=h.useState(null),[ce,R]=h.useState(null),[$,j]=h.useState(null),[K,G]=h.useState(null),[V,A]=h.useState(null),[Le,he]=h.useState(null),[Y,re]=h.useState(null),[xe,pe]=h.useState(null);return h.useEffect(()=>{e&&w!==null&&w.setOptions(e)},[w,e]),h.useEffect(()=>{w!==null&&typeof i<"u"&&w.setCenter(i)},[w,i]),h.useEffect(()=>{w&&a&&(C!==null&&google.maps.event.removeListener(C),T(google.maps.event.addListener(w,"dblclick",a)))},[a]),h.useEffect(()=>{w&&u&&(M!==null&&google.maps.event.removeListener(M),z(google.maps.event.addListener(w,"dragend",u)))},[u]),h.useEffect(()=>{w&&c&&(H!==null&&google.maps.event.removeListener(H),q(google.maps.event.addListener(w,"dragstart",c)))},[c]),h.useEffect(()=>{w&&y&&(le!==null&&google.maps.event.removeListener(le),J(google.maps.event.addListener(w,"mousedown",y)))},[y]),h.useEffect(()=>{w&&d&&(ce!==null&&google.maps.event.removeListener(ce),R(google.maps.event.addListener(w,"mousemove",d)))},[d]),h.useEffect(()=>{w&&f&&($!==null&&google.maps.event.removeListener($),j(google.maps.event.addListener(w,"mouseout",f)))},[f]),h.useEffect(()=>{w&&p&&(K!==null&&google.maps.event.removeListener(K),G(google.maps.event.addListener(w,"mouseover",p)))},[p]),h.useEffect(()=>{w&&E&&(V!==null&&google.maps.event.removeListener(V),A(google.maps.event.addListener(w,"mouseup",E)))},[E]),h.useEffect(()=>{w&&S&&(Le!==null&&google.maps.event.removeListener(Le),he(google.maps.event.addListener(w,"rightclick",S)))},[S]),h.useEffect(()=>{w&&o&&(Y!==null&&google.maps.event.removeListener(Y),re(google.maps.event.addListener(w,"click",o)))},[o]),h.useEffect(()=>{w&&l&&(xe!==null&&google.maps.event.removeListener(xe),pe(google.maps.event.addListener(w,"drag",l)))},[l]),h.useEffect(()=>{w&&m&&(_!==null&&google.maps.event.removeListener(_),I(google.maps.event.addListener(w,"center_changed",m)))},[o]),h.useEffect(()=>{const Yt=L.current===null?null:new google.maps.Map(L.current,e);return k(Yt),Yt!==null&&g&&g(Yt),()=>{Yt!==null&&v&&v(Yt)}},[]),x.jsx("div",Object.assign({id:n,ref:L,style:r,className:s},{children:x.jsx(ne.Provider,Object.assign({value:w},{children:w!==null?t:x.jsx(x.Fragment,{})}))}))}h.memo(Dk);class Mk extends h.PureComponent{constructor(){super(...arguments),this.state={map:null},this.registeredEvents=[],this.mapRef=null,this.getInstance=()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options),this.panTo=e=>{const n=this.getInstance();n&&n.panTo(e)},this.setMapCallback=()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)},this.getRef=e=>{this.mapRef=e}}componentDidMount(){const e=this.getInstance();this.registeredEvents=se({updaterMap:Og,eventMap:Mg,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{map:e}},this.setMapCallback)}componentDidUpdate(e){this.state.map!==null&&(ie(this.registeredEvents),this.registeredEvents=se({updaterMap:Og,eventMap:Mg,prevProps:e,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),ie(this.registeredEvents))}render(){return x.jsx("div",Object.assign({id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName},{children:x.jsx(ne.Provider,Object.assign({value:this.state.map},{children:this.state.map!==null?this.props.children:x.jsx(x.Fragment,{})}))}))}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function jf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Ok(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}const Zn=typeof document<"u";function y1({url:t,id:e,nonce:n}){return Zn?new Promise(function(s,i){const o=document.getElementById(e),a=window;if(o){const u=o.getAttribute("data-state");if(o.src===t&&u!=="error"){if(u==="ready")return s(e);{const c=a.initMap,d=o.onerror;a.initMap=function(){c&&c(),s(e)},o.onerror=function(f){d&&d(f),i(f)};return}}else o.remove()}const l=document.createElement("script");l.type="text/javascript",l.src=t,l.id=e,l.async=!0,l.nonce=n,l.onerror=function(c){l.setAttribute("data-state","error"),i(c)},a.initMap=function(){l.setAttribute("data-state","ready"),s(e)},document.head.appendChild(l)}).catch(r=>{throw console.error("injectScript error: ",r),r}):Promise.reject(new Error("document is undefined"))}function $g(t){const e=t.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:t.tagName.toLowerCase()==="style"&&t.styleSheet&&t.styleSheet.cssText&&t.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(t.styleSheet.cssText="",!0):t.tagName.toLowerCase()==="style"&&t.innerHTML&&t.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(t.innerHTML="",!0):t.tagName.toLowerCase()==="style"&&!t.styleSheet&&!t.innerHTML}function Ff(){const t=document.getElementsByTagName("head")[0],e=t.insertBefore.bind(t);t.insertBefore=function(s,i){$g(s)||Reflect.apply(e,t,[s,i])};const n=t.appendChild.bind(t);t.appendChild=function(s){$g(s)||Reflect.apply(n,t,[s])}}function w1({googleMapsApiKey:t,googleMapsClientId:e,version:n="weekly",language:r,region:s,libraries:i,channel:o,mapIds:a,authReferrerPolicy:l}){const u=[];return Ke(t&&e||!(t&&e),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),t?u.push(`key=${t}`):e&&u.push(`client=${e}`),n&&u.push(`v=${n}`),r&&u.push(`language=${r}`),s&&u.push(`region=${s}`),i&&i.length&&u.push(`libraries=${i.sort().join(",")}`),o&&u.push(`channel=${o}`),a&&a.length&&u.push(`map_ids=${a.join(",")}`),l&&u.push(`auth_referrer_policy=${l}`),u.push("callback=initMap"),`https://maps.googleapis.com/maps/api/js?${u.join("&")}`}let Ei=!1;function E1(){return x.jsx("div",{children:"Loading..."})}const po={id:"script-loader",version:"weekly"};class $k extends h.PureComponent{constructor(){super(...arguments),this.check=h.createRef(),this.state={loaded:!1},this.cleanupCallback=()=>{delete window.google.maps,this.injectScript()},this.isCleaningUp=()=>Ok(this,void 0,void 0,function*(){function e(n){if(!Ei)n();else if(Zn){const r=window.setInterval(function(){Ei||(window.clearInterval(r),n())},1)}}return new Promise(e)}),this.cleanup=()=>{Ei=!0;const e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(r){return typeof r.src=="string"&&r.src.includes("maps.googleapis")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(r){return r.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(r){return r.innerText!==void 0&&r.innerText.length>0&&r.innerText.includes(".gm-")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)})},this.injectScript=()=>{this.props.preventGoogleFontsLoading&&Ff(),Ke(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);const e={id:this.props.id,nonce:this.props.nonce,url:w1(this.props)};y1(e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(n=>{this.props.onError&&this.props.onError(n),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (${this.props.googleMapsApiKey||"-"}) or Client ID (${this.props.googleMapsClientId||"-"}) to <LoadScript />
          Otherwise it is a Network issue.
        `)})}}componentDidMount(){if(Zn){if(window.google&&window.google.maps&&!Ei){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(n){console.error("Error at injecting script after cleaning up: ",n)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),Zn&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(Zn){this.cleanup();const e=()=>{this.check.current||(delete window.google,Ei=!1)};window.setTimeout(e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return x.jsxs(x.Fragment,{children:[x.jsx("div",{ref:this.check}),this.state.loaded?this.props.children:this.props.loadingElement||x.jsx(E1,{})]})}}$k.defaultProps=po;let jg;function jk({id:t=po.id,version:e=po.version,nonce:n,googleMapsApiKey:r,googleMapsClientId:s,language:i,region:o,libraries:a,preventGoogleFontsLoading:l,channel:u,mapIds:c,authReferrerPolicy:d}){const f=h.useRef(!1),[p,y]=h.useState(!1),[E,S]=h.useState(void 0);h.useEffect(function(){return f.current=!0,()=>{f.current=!1}},[]),h.useEffect(function(){Zn&&l&&Ff()},[l]),h.useEffect(function(){p&&Ke(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[p]);const m=w1({version:e,googleMapsApiKey:r,googleMapsClientId:s,language:i,region:o,libraries:a,channel:u,mapIds:c,authReferrerPolicy:d});h.useEffect(function(){if(!Zn)return;function w(){f.current&&(y(!0),jg=m)}if(window.google&&window.google.maps&&jg===m){w();return}y1({id:t,url:m,nonce:n}).then(w).catch(function(L){f.current&&S(L),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (${r||"-"}) or Client ID (${s||"-"})
        Otherwise it is a Network issue.
      `),console.error(L)})},[t,m,n]);const g=h.useRef();return h.useEffect(function(){g.current&&a!==g.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),g.current=a},[a]),{isLoaded:p,loadError:E,url:m}}const Fk=x.jsx(E1,{});function Uk(t){var{loadingElement:e,onLoad:n,onError:r,onUnmount:s,children:i}=t,o=jf(t,["loadingElement","onLoad","onError","onUnmount","children"]);const{isLoaded:a,loadError:l}=jk(o);return h.useEffect(function(){a&&typeof n=="function"&&n()},[a,n]),h.useEffect(function(){l&&typeof r=="function"&&r(l)},[l,r]),h.useEffect(function(){return()=>{s&&s()}},[s]),a?i:e||Fk}h.memo(Uk);var Bk=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,s,i;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[s]))return!1;for(s=r;s--!==0;){var o=i[s];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n};const Fg="__googleMapsScriptId";var Es;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(Es||(Es={}));class br{constructor({apiKey:e,authReferrerPolicy:n,channel:r,client:s,id:i=Fg,language:o,libraries:a=[],mapIds:l,nonce:u,region:c,retries:d=3,url:f="https://maps.googleapis.com/maps/api/js",version:p}){if(this.CALLBACK="__googleMapsCallback",this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=e,this.authReferrerPolicy=n,this.channel=r,this.client=s,this.id=i||Fg,this.language=o,this.libraries=a,this.mapIds=l,this.nonce=u,this.region=c,this.retries=d,this.url=f,this.version=p,br.instance){if(!Bk(this.options,br.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(br.instance.options)}`);return br.instance}br.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?Es.FAILURE:this.done?Es.SUCCESS:this.loading?Es.LOADING:Es.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let e=this.url;return e+=`?callback=${this.CALLBACK}`,this.apiKey&&(e+=`&key=${this.apiKey}`),this.channel&&(e+=`&channel=${this.channel}`),this.client&&(e+=`&client=${this.client}`),this.libraries.length>0&&(e+=`&libraries=${this.libraries.join(",")}`),this.language&&(e+=`&language=${this.language}`),this.region&&(e+=`&region=${this.region}`),this.version&&(e+=`&v=${this.version}`),this.mapIds&&(e+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(e+=`&auth_referrer_policy=${this.authReferrerPolicy}`),e}deleteScript(){const e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,n)=>{this.loadCallback(r=>{r?n(r.error):e(window.google)})})}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){if(document.getElementById(this.id)){this.callback();return}const e=this.createUrl(),n=document.createElement("script");n.id=this.id,n.type="text/javascript",n.src=e,n.onerror=this.loadErrorCallback.bind(this),n.defer=!0,n.async=!0,this.nonce&&(n.nonce=this.nonce),document.head.appendChild(n)}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){const n=this.errors.length*Math.pow(2,this.errors.length);console.log(`Failed to load Google Maps script, retrying in ${n} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},n)}else this.onerrorEvent=e,this.callback()}setCallback(){window.__googleMapsCallback=this.callback.bind(this)}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader.This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading||(this.loading=!0,this.setCallback(),this.setScript())}}}function zk({id:t=po.id,version:e=po.version,nonce:n,googleMapsApiKey:r,language:s,region:i,libraries:o,preventGoogleFontsLoading:a,mapIds:l,authReferrerPolicy:u}){const c=h.useRef(!1),[d,f]=h.useState(!1),[p,y]=h.useState(void 0);h.useEffect(function(){return c.current=!0,()=>{c.current=!1}},[]);const E=h.useMemo(function(){return new br({id:t,apiKey:r,version:e,libraries:o,language:s,region:i,mapIds:l,nonce:n,authReferrerPolicy:u})},[t,r,e,o,s,i,l,n,u]);h.useEffect(function(){d||E.load().then(function(){c.current&&f(!0)}).catch(function(v){y(v)})},[]),h.useEffect(function(){Zn&&a&&Ff()},[a]);const S=h.useRef();return h.useEffect(function(){S.current&&o!==S.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),S.current=o},[o]),{isLoaded:d,loadError:p}}const Ug={},Bg={options(t,e){t.setOptions(e)}};function Vk({options:t,onLoad:e,onUnmount:n}){const r=h.useContext(ne),[s,i]=h.useState(null);return h.useEffect(()=>{s!==null&&s.setMap(r)},[r]),h.useEffect(()=>{t&&s!==null&&s.setOptions(t)},[s,t]),h.useEffect(()=>{const o=new google.maps.TrafficLayer(Object.assign(Object.assign({},t||{}),{map:r}));return i(o),e&&e(o),()=>{s!==null&&(n&&n(s),s.setMap(null))}},[]),null}h.memo(Vk);class Hk extends h.PureComponent{constructor(){super(...arguments),this.state={trafficLayer:null},this.setTrafficLayerCallback=()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)},this.registeredEvents=[]}componentDidMount(){const e=new google.maps.TrafficLayer(Object.assign(Object.assign({},this.props.options||{}),{map:this.context}));this.registeredEvents=se({updaterMap:Bg,eventMap:Ug,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){this.state.trafficLayer!==null&&(ie(this.registeredEvents),this.registeredEvents=se({updaterMap:Bg,eventMap:Ug,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),ie(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}Hk.contextType=ne;function Wk({onLoad:t,onUnmount:e}){const n=h.useContext(ne),[r,s]=h.useState(null);return h.useEffect(()=>{r!==null&&r.setMap(n)},[n]),h.useEffect(()=>{const i=new google.maps.BicyclingLayer;return s(i),i.setMap(n),t&&t(i),()=>{i!==null&&(e&&e(i),i.setMap(null))}},[]),null}h.memo(Wk);class qk extends h.PureComponent{constructor(){super(...arguments),this.state={bicyclingLayer:null},this.setBicyclingLayerCallback=()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))}}componentDidMount(){const e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}qk.contextType=ne;function Kk({onLoad:t,onUnmount:e}){const n=h.useContext(ne),[r,s]=h.useState(null);return h.useEffect(()=>{r!==null&&r.setMap(n)},[n]),h.useEffect(()=>{const i=new google.maps.TransitLayer;return s(i),i.setMap(n),t&&t(i),()=>{r!==null&&(e&&e(r),this.state.transitLayer.setMap(null))}},[]),null}h.memo(Kk);class Gk extends h.PureComponent{constructor(){super(...arguments),this.state={transitLayer:null},this.setTransitLayerCallback=()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))}}componentDidMount(){const e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}Gk.contextType=ne;const zg={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},Vg={drawingMode(t,e){t.setDrawingMode(e)},options(t,e){t.setOptions(e)}};function Qk({options:t,drawingMode:e,onCircleComplete:n,onMarkerComplete:r,onOverlayComplete:s,onPolygonComplete:i,onPolylineComplete:o,onRectangleComplete:a,onLoad:l,onUnmount:u}){const c=h.useContext(ne),[d,f]=h.useState(null),[p,y]=h.useState(null),[E,S]=h.useState(null),[m,g]=h.useState(null),[v,w]=h.useState(null),[k,L]=h.useState(null),[_,I]=h.useState(null);return h.useEffect(()=>{d!==null&&d.setMap(c)},[c]),h.useEffect(()=>{t&&d!==null&&d.setOptions(t)},[d,t]),h.useEffect(()=>{e&&d!==null&&d.setDrawingMode(e)},[d,e]),h.useEffect(()=>{d&&n&&(p!==null&&google.maps.event.removeListener(p),y(google.maps.event.addListener(d,"circlecomplete",n)))},[d,n]),h.useEffect(()=>{d&&r&&(E!==null&&google.maps.event.removeListener(E),S(google.maps.event.addListener(d,"markercomplete",r)))},[d,r]),h.useEffect(()=>{d&&s&&(m!==null&&google.maps.event.removeListener(m),g(google.maps.event.addListener(d,"overlaycomplete",s)))},[d,s]),h.useEffect(()=>{d&&i&&(v!==null&&google.maps.event.removeListener(v),w(google.maps.event.addListener(d,"polygoncomplete",i)))},[d,i]),h.useEffect(()=>{d&&o&&(k!==null&&google.maps.event.removeListener(k),L(google.maps.event.addListener(d,"polylinecomplete",o)))},[d,o]),h.useEffect(()=>{d&&a&&(_!==null&&google.maps.event.removeListener(_),I(google.maps.event.addListener(d,"rectanglecomplete",a)))},[d,a]),h.useEffect(()=>{Ke(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);const C=new google.maps.drawing.DrawingManager(Object.assign(Object.assign({},t||{}),{map:c}));return e&&C.setDrawingMode(e),n&&y(google.maps.event.addListener(C,"circlecomplete",n)),r&&S(google.maps.event.addListener(C,"markercomplete",r)),s&&g(google.maps.event.addListener(C,"overlaycomplete",s)),i&&w(google.maps.event.addListener(C,"polygoncomplete",i)),o&&L(google.maps.event.addListener(C,"polylinecomplete",o)),a&&I(google.maps.event.addListener(C,"rectanglecomplete",a)),f(C),l&&l(C),()=>{d!==null&&(p&&google.maps.event.removeListener(p),E&&google.maps.event.removeListener(E),m&&google.maps.event.removeListener(m),v&&google.maps.event.removeListener(v),k&&google.maps.event.removeListener(k),_&&google.maps.event.removeListener(_),u&&u(d),d.setMap(null))}},[]),null}h.memo(Qk);class Zk extends h.PureComponent{constructor(e){super(e),this.registeredEvents=[],this.state={drawingManager:null},this.setDrawingManagerCallback=()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)},Ke(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){const e=new google.maps.drawing.DrawingManager(Object.assign(Object.assign({},this.props.options||{}),{map:this.context}));this.registeredEvents=se({updaterMap:Vg,eventMap:zg,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){this.state.drawingManager!==null&&(ie(this.registeredEvents),this.registeredEvents=se({updaterMap:Vg,eventMap:zg,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),ie(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}Zk.contextType=ne;const Hg={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},Wg={animation(t,e){t.setAnimation(e)},clickable(t,e){t.setClickable(e)},cursor(t,e){t.setCursor(e)},draggable(t,e){t.setDraggable(e)},icon(t,e){t.setIcon(e)},label(t,e){t.setLabel(e)},map(t,e){t.setMap(e)},opacity(t,e){t.setOpacity(e)},options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},shape(t,e){t.setShape(e)},title(t,e){t.setTitle(e)},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},Bl={};function Yk({position:t,options:e,clusterer:n,noClustererRedraw:r,children:s,draggable:i,visible:o,animation:a,clickable:l,cursor:u,icon:c,label:d,opacity:f,shape:p,title:y,zIndex:E,onClick:S,onDblClick:m,onDrag:g,onDragEnd:v,onDragStart:w,onMouseOut:k,onMouseOver:L,onMouseUp:_,onMouseDown:I,onRightClick:C,onClickableChanged:T,onCursorChanged:M,onAnimationChanged:z,onDraggableChanged:H,onFlatChanged:q,onIconChanged:le,onPositionChanged:J,onShapeChanged:ce,onTitleChanged:R,onVisibleChanged:$,onZindexChanged:j,onLoad:K,onUnmount:G}){const V=h.useContext(ne),[A,Le]=h.useState(null),[he,Y]=h.useState(null),[re,xe]=h.useState(null),[pe,Yt]=h.useState(null),[Ln,ci]=h.useState(null),[Ee,om]=h.useState(null),[ia,am]=h.useState(null),[oa,lm]=h.useState(null),[aa,um]=h.useState(null),[la,cm]=h.useState(null),[hm,dm]=h.useState(null),[ua,fm]=h.useState(null),[ca,pm]=h.useState(null),[ha,mm]=h.useState(null),[da,gm]=h.useState(null),[fa,vm]=h.useState(null),[pa,ym]=h.useState(null),[ma,wm]=h.useState(null),[Em,xm]=h.useState(null),[ga,Sm]=h.useState(null),[va,Lm]=h.useState(null),[ya,Cm]=h.useState(null);h.useEffect(()=>{A!==null&&A.setMap(V)},[V]),h.useEffect(()=>{typeof e<"u"&&A!==null&&A.setOptions(e)},[A,e]),h.useEffect(()=>{typeof i<"u"&&A!==null&&A.setDraggable(i)},[A,i]),h.useEffect(()=>{t&&A!==null&&A.setPosition(t)},[A,t]),h.useEffect(()=>{typeof o<"u"&&A!==null&&A.setVisible(o)},[A,o]),h.useEffect(()=>{a&&A!==null&&A.setAnimation(a)},[A,a]),h.useEffect(()=>{A&&m&&(he!==null&&google.maps.event.removeListener(he),Y(google.maps.event.addListener(A,"dblclick",m)))},[m]),h.useEffect(()=>{A&&v&&(re!==null&&google.maps.event.removeListener(re),xe(google.maps.event.addListener(A,"dragend",v)))},[v]),h.useEffect(()=>{A&&w&&(pe!==null&&google.maps.event.removeListener(pe),Yt(google.maps.event.addListener(A,"dragstart",w)))},[w]),h.useEffect(()=>{A&&I&&(Ln!==null&&google.maps.event.removeListener(Ln),ci(google.maps.event.addListener(A,"mousedown",I)))},[I]),h.useEffect(()=>{A&&k&&(Ee!==null&&google.maps.event.removeListener(Ee),om(google.maps.event.addListener(A,"mouseout",k)))},[k]),h.useEffect(()=>{A&&L&&(ia!==null&&google.maps.event.removeListener(ia),am(google.maps.event.addListener(A,"mouseover",L)))},[L]),h.useEffect(()=>{A&&_&&(oa!==null&&google.maps.event.removeListener(oa),lm(google.maps.event.addListener(A,"mouseup",_)))},[_]),h.useEffect(()=>{A&&C&&(aa!==null&&google.maps.event.removeListener(aa),um(google.maps.event.addListener(A,"rightclick",C)))},[C]),h.useEffect(()=>{A&&S&&(la!==null&&google.maps.event.removeListener(la),cm(google.maps.event.addListener(A,"click",S)))},[S]),h.useEffect(()=>{A&&g&&(hm!==null&&google.maps.event.removeListener(hm),dm(google.maps.event.addListener(A,"drag",g)))},[g]),h.useEffect(()=>{A&&T&&(ua!==null&&google.maps.event.removeListener(ua),fm(google.maps.event.addListener(A,"clickable_changed",T)))},[T]),h.useEffect(()=>{A&&M&&(ca!==null&&google.maps.event.removeListener(ca),pm(google.maps.event.addListener(A,"cursor_changed",M)))},[M]),h.useEffect(()=>{A&&z&&(ha!==null&&google.maps.event.removeListener(ha),mm(google.maps.event.addListener(A,"animation_changed",z)))},[z]),h.useEffect(()=>{A&&H&&(da!==null&&google.maps.event.removeListener(da),gm(google.maps.event.addListener(A,"draggable_changed",H)))},[H]),h.useEffect(()=>{A&&q&&(fa!==null&&google.maps.event.removeListener(fa),vm(google.maps.event.addListener(A,"flat_changed",q)))},[q]),h.useEffect(()=>{A&&le&&(pa!==null&&google.maps.event.removeListener(pa),ym(google.maps.event.addListener(A,"icon_changed",le)))},[le]),h.useEffect(()=>{A&&J&&(ma!==null&&google.maps.event.removeListener(ma),wm(google.maps.event.addListener(A,"position_changed",J)))},[J]),h.useEffect(()=>{A&&ce&&(Em!==null&&google.maps.event.removeListener(Em),xm(google.maps.event.addListener(A,"shape_changed",ce)))},[ce]),h.useEffect(()=>{A&&R&&(ga!==null&&google.maps.event.removeListener(ga),Sm(google.maps.event.addListener(A,"title_changed",R)))},[R]),h.useEffect(()=>{A&&$&&(va!==null&&google.maps.event.removeListener(va),Lm(google.maps.event.addListener(A,"visible_changed",$)))},[$]),h.useEffect(()=>{A&&j&&(ya!==null&&google.maps.event.removeListener(ya),Cm(google.maps.event.addListener(A,"zindex_changed",j)))},[j]),h.useEffect(()=>{const hi=Object.assign(Object.assign(Object.assign({},e||Bl),n?Bl:{map:V}),{position:t}),ee=new google.maps.Marker(hi);return n?n.addMarker(ee,!!r):ee.setMap(V),t&&ee.setPosition(t),typeof o<"u"&&ee.setVisible(o),typeof i<"u"&&ee.setDraggable(i),typeof l<"u"&&ee.setClickable(l),typeof u=="string"&&ee.setCursor(u),c&&ee.setIcon(c),typeof d<"u"&&ee.setLabel(d),typeof f<"u"&&ee.setOpacity(f),p&&ee.setShape(p),typeof y=="string"&&ee.setTitle(y),typeof E=="number"&&ee.setZIndex(E),m&&Y(google.maps.event.addListener(ee,"dblclick",m)),v&&xe(google.maps.event.addListener(ee,"dragend",v)),w&&Yt(google.maps.event.addListener(ee,"dragstart",w)),I&&ci(google.maps.event.addListener(ee,"mousedown",I)),k&&om(google.maps.event.addListener(ee,"mouseout",k)),L&&am(google.maps.event.addListener(ee,"mouseover",L)),_&&lm(google.maps.event.addListener(ee,"mouseup",_)),C&&um(google.maps.event.addListener(ee,"rightclick",C)),S&&cm(google.maps.event.addListener(ee,"click",S)),g&&dm(google.maps.event.addListener(ee,"drag",g)),T&&fm(google.maps.event.addListener(ee,"clickable_changed",T)),M&&pm(google.maps.event.addListener(ee,"cursor_changed",M)),z&&mm(google.maps.event.addListener(ee,"animation_changed",z)),H&&gm(google.maps.event.addListener(ee,"draggable_changed",H)),q&&vm(google.maps.event.addListener(ee,"flat_changed",q)),le&&ym(google.maps.event.addListener(ee,"icon_changed",le)),J&&wm(google.maps.event.addListener(ee,"position_changed",J)),ce&&xm(google.maps.event.addListener(ee,"shape_changed",ce)),R&&Sm(google.maps.event.addListener(ee,"title_changed",R)),$&&Lm(google.maps.event.addListener(ee,"visible_changed",$)),j&&Cm(google.maps.event.addListener(ee,"zindex_changed",j)),Le(ee),K&&K(ee),()=>{he!==null&&google.maps.event.removeListener(he),re!==null&&google.maps.event.removeListener(re),pe!==null&&google.maps.event.removeListener(pe),Ln!==null&&google.maps.event.removeListener(Ln),Ee!==null&&google.maps.event.removeListener(Ee),ia!==null&&google.maps.event.removeListener(ia),oa!==null&&google.maps.event.removeListener(oa),aa!==null&&google.maps.event.removeListener(aa),la!==null&&google.maps.event.removeListener(la),ua!==null&&google.maps.event.removeListener(ua),ca!==null&&google.maps.event.removeListener(ca),ha!==null&&google.maps.event.removeListener(ha),da!==null&&google.maps.event.removeListener(da),fa!==null&&google.maps.event.removeListener(fa),pa!==null&&google.maps.event.removeListener(pa),ma!==null&&google.maps.event.removeListener(ma),ga!==null&&google.maps.event.removeListener(ga),va!==null&&google.maps.event.removeListener(va),ya!==null&&google.maps.event.removeListener(ya),G&&G(ee),n?n.removeMarker(ee,!!r):ee&&ee.setMap(null)}},[]);const JS=h.useMemo(()=>s?h.Children.map(s,hi=>{if(!h.isValidElement(hi))return hi;const ee=hi;return h.cloneElement(ee,{anchor:A})}):null,[s,A]);return x.jsx(x.Fragment,{children:JS})||null}h.memo(Yk);class x1 extends h.PureComponent{constructor(){super(...arguments),this.registeredEvents=[]}componentDidMount(){const e=Object.assign(Object.assign(Object.assign({},this.props.options||Bl),this.props.clusterer?Bl:{map:this.context}),{position:this.props.position});this.marker=new google.maps.Marker(e),this.props.clusterer?this.props.clusterer.addMarker(this.marker,!!this.props.noClustererRedraw):this.marker.setMap(this.context),this.registeredEvents=se({updaterMap:Wg,eventMap:Hg,prevProps:{},nextProps:this.props,instance:this.marker}),this.props.onLoad&&this.props.onLoad(this.marker)}componentDidUpdate(e){this.marker&&(ie(this.registeredEvents),this.registeredEvents=se({updaterMap:Wg,eventMap:Hg,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),ie(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){let e=null;return this.props.children&&(e=h.Children.map(this.props.children,n=>{if(!h.isValidElement(n))return n;const r=n;return h.cloneElement(r,{anchor:this.marker})})),e||null}}x1.contextType=ne;var Xk=function(){function t(e,n){e.getClusterer().extend(t,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return t.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},t.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},t.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var n=this.cluster.getClusterer();if(google.maps.event.trigger(n,"click",this.cluster),google.maps.event.trigger(n,"clusterclick",this.cluster),n.getZoomOnClick()){var r=n.getMaxZoom(),s=this.cluster.getBounds(),i=n.getMap();i!==null&&"fitBounds"in i&&i.fitBounds(s),this.timeOut=window.setTimeout(function(){var o=n.getMap();if(o!==null){"fitBounds"in o&&o.fitBounds(s);var a=o.getZoom()||0;r!==null&&a>r&&o.setZoom(r+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},t.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},t.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},t.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var n=this.getMap();n!==null&&(this.boundsChangedListener=google.maps.event.addListener(n,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},t.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},t.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},t.prototype.show=function(){var e,n,r,s;if(this.div&&this.center){var i=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,o=this.backgroundPosition.split(" "),a=parseInt(o[0].replace(/^\s+|\s+$/g,""),10),l=parseInt(o[1].replace(/^\s+|\s+$/g,""),10),u=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(u!==null?"".concat(u.y,"px"):"0","; left: ").concat(u!==null?"".concat(u.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var c=document.createElement("img");c.alt=i,c.src=this.url,c.width=this.width,c.height=this.height,c.setAttribute("style","position: absolute; top: ".concat(l,"px; left: ").concat(a,"px")),this.cluster.getClusterer().enableRetinaIcons||(c.style.clip="rect(-".concat(l,"px, -").concat(a+this.width,"px, -").concat(l+this.height,", -").concat(a,")"));var d=document.createElement("div");d.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((e=this.sums)===null||e===void 0)&&e.text&&(d.innerText="".concat((n=this.sums)===null||n===void 0?void 0:n.text)),!((r=this.sums)===null||r===void 0)&&r.html&&(d.innerHTML="".concat((s=this.sums)===null||s===void 0?void 0:s.html)),this.div.innerHTML="",this.div.appendChild(c),this.div.appendChild(d),this.div.title=i,this.div.style.display=""}this.visible=!0},t.prototype.useStyle=function(e){this.sums=e;var n=this.cluster.getClusterer().getStyles(),r=n[Math.min(n.length-1,Math.max(0,e.index-1))];this.url=r.url,this.height=r.height,this.width=r.width,r.className&&(this.className="".concat(this.clusterClassName," ").concat(r.className)),this.anchorText=r.anchorText||[0,0],this.anchorIcon=r.anchorIcon||[this.height/2,this.width/2],this.textColor=r.textColor||"black",this.textSize=r.textSize||11,this.textDecoration=r.textDecoration||"none",this.fontWeight=r.fontWeight||"bold",this.fontStyle=r.fontStyle||"normal",this.fontFamily=r.fontFamily||"Arial,sans-serif",this.backgroundPosition=r.backgroundPosition||"0 0"},t.prototype.setCenter=function(e){this.center=e},t.prototype.getPosFromLatLng=function(e){var n=this.getProjection().fromLatLngToDivPixel(e);return n!==null&&(n.x-=this.anchorIcon[1],n.y-=this.anchorIcon[0]),n},t}(),Jk=function(){function t(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new Xk(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return t.prototype.getSize=function(){return this.markers.length},t.prototype.getMarkers=function(){return this.markers},t.prototype.getCenter=function(){return this.center},t.prototype.getMap=function(){return this.map},t.prototype.getClusterer=function(){return this.markerClusterer},t.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),n=this.getMarkers(),r=0;r<n.length;r++){var s=n[r].getPosition();s&&e.extend(s)}return e},t.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},t.prototype.addMarker=function(e){var n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var r=e.getPosition();if(r){var s=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(s-1)+r.lat())/s,(this.center.lng()*(s-1)+r.lng())/s),this.calculateBounds()}}}else{var r=e.getPosition();r&&(this.center=r,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var i=this.markers.length,o=this.markerClusterer.getMaxZoom(),a=(n=this.map)===null||n===void 0?void 0:n.getZoom();if(o!==null&&typeof a<"u"&&a>o)e.getMap()!==this.map&&e.setMap(this.map);else if(i<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(i===this.minClusterSize)for(var l=0;l<i;l++)this.markers[l].setMap(null);else e.setMap(null);return!0},t.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var n=e.getPosition();if(n)return this.bounds.contains(n)}return!1},t.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},t.prototype.updateIcon=function(){var e,n=this.markers.length,r=this.markerClusterer.getMaxZoom(),s=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(r!==null&&typeof s<"u"&&s>r){this.clusterIcon.hide();return}if(n<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},t.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var n=0;n<this.markers.length;n++)if(e===this.markers[n])return!0;return!1},t}();function eT(t,e){var n=t.length,r=n.toString().length,s=Math.min(r,e);return{text:n.toString(),index:s,title:""}}var tT=2e3,nT=500,rT="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",sT="png",iT=[53,56,66,78,90],oT="cluster",S1=function(){function t(e,n,r){n===void 0&&(n=[]),r===void 0&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.extend=this.extend.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend(t,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,r.zoomOnClick!==void 0&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,r.averageCenter!==void 0&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,r.ignoreHidden!==void 0&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,r.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||rT,this.imageExtension=r.imageExtension||sT,this.imageSizes=r.imageSizes||iT,this.calculator=r.calculator||eT,this.batchSize=r.batchSize||tT,this.batchSizeIE=r.batchSizeIE||nT,this.clusterClass=r.clusterClass||oT,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(e)}return t.prototype.onZoomChanged=function(){var e,n;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((n=this.getMap())===null||n===void 0?void 0:n.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},t.prototype.onIdle=function(){this.redraw()},t.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},t.prototype.onRemove=function(){for(var e=0;e<this.markers.length;e++)this.markers[e].getMap()!==this.activeMap&&this.markers[e].setMap(this.activeMap);for(var e=0;e<this.clusters.length;e++)this.clusters[e].remove();this.clusters=[];for(var e=0;e<this.listeners.length;e++)google.maps.event.removeListener(this.listeners[e]);this.listeners=[],this.activeMap=null,this.ready=!1},t.prototype.draw=function(){},t.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e],width:this.imageSizes[e]})},t.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),n=new google.maps.LatLngBounds,r=0;r<e.length;r++){var s=e[r].getPosition();s&&n.extend(s)}var i=this.getMap();i!==null&&"fitBounds"in i&&i.fitBounds(n)},t.prototype.getGridSize=function(){return this.gridSize},t.prototype.setGridSize=function(e){this.gridSize=e},t.prototype.getMinimumClusterSize=function(){return this.minClusterSize},t.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.setMaxZoom=function(e){this.maxZoom=e},t.prototype.getStyles=function(){return this.styles},t.prototype.setStyles=function(e){this.styles=e},t.prototype.getTitle=function(){return this.title},t.prototype.setTitle=function(e){this.title=e},t.prototype.getZoomOnClick=function(){return this.zoomOnClick},t.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},t.prototype.getAverageCenter=function(){return this.averageCenter},t.prototype.setAverageCenter=function(e){this.averageCenter=e},t.prototype.getIgnoreHidden=function(){return this.ignoreHidden},t.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},t.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},t.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},t.prototype.getImageExtension=function(){return this.imageExtension},t.prototype.setImageExtension=function(e){this.imageExtension=e},t.prototype.getImagePath=function(){return this.imagePath},t.prototype.setImagePath=function(e){this.imagePath=e},t.prototype.getImageSizes=function(){return this.imageSizes},t.prototype.setImageSizes=function(e){this.imageSizes=e},t.prototype.getCalculator=function(){return this.calculator},t.prototype.setCalculator=function(e){this.calculator=e},t.prototype.getBatchSizeIE=function(){return this.batchSizeIE},t.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},t.prototype.getClusterClass=function(){return this.clusterClass},t.prototype.setClusterClass=function(e){this.clusterClass=e},t.prototype.getMarkers=function(){return this.markers},t.prototype.getTotalMarkers=function(){return this.markers.length},t.prototype.getClusters=function(){return this.clusters},t.prototype.getTotalClusters=function(){return this.clusters.length},t.prototype.addMarker=function(e,n){this.pushMarkerTo(e),n||this.redraw()},t.prototype.addMarkers=function(e,n){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&this.pushMarkerTo(e[r]);n||this.redraw()},t.prototype.pushMarkerTo=function(e){var n=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){n.ready&&(e.isAdded=!1,n.repaint())}),e.isAdded=!1,this.markers.push(e)},t.prototype.removeMarker_=function(e){var n=-1;if(this.markers.indexOf)n=this.markers.indexOf(e);else for(var r=0;r<this.markers.length;r++)if(e===this.markers[r]){n=r;break}return n===-1?!1:(e.setMap(null),this.markers.splice(n,1),!0)},t.prototype.removeMarker=function(e,n){var r=this.removeMarker_(e);return!n&&r&&this.repaint(),r},t.prototype.removeMarkers=function(e,n){for(var r=!1,s=0;s<e.length;s++)r=r||this.removeMarker_(e[s]);return!n&&r&&this.repaint(),r},t.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},t.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var r=0;r<e.length;r++)e[r].remove()},0)},t.prototype.getExtendedBounds=function(e){var n=this.getProjection(),r=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));r!==null&&(r.x+=this.gridSize,r.y-=this.gridSize);var s=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(s!==null&&(s.x-=this.gridSize,s.y+=this.gridSize),r!==null){var i=n.fromDivPixelToLatLng(r);i!==null&&e.extend(i)}if(s!==null){var o=n.fromDivPixelToLatLng(s);o!==null&&e.extend(o)}return e},t.prototype.redraw=function(){this.createClusters(0)},t.prototype.resetViewport=function(e){for(var n=0;n<this.clusters.length;n++)this.clusters[n].remove();this.clusters=[];for(var n=0;n<this.markers.length;n++){var r=this.markers[n];r.isAdded=!1,e&&r.setMap(null)}},t.prototype.distanceBetweenPoints=function(e,n){var r=6371,s=(n.lat()-e.lat())*Math.PI/180,i=(n.lng()-e.lng())*Math.PI/180,o=Math.sin(s/2)*Math.sin(s/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(n.lat()*Math.PI/180)*Math.sin(i/2)*Math.sin(i/2);return r*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},t.prototype.isMarkerInBounds=function(e,n){var r=e.getPosition();return r?n.contains(r):!1},t.prototype.addToClosestCluster=function(e){for(var n,r=4e4,s=null,i=0;i<this.clusters.length;i++){n=this.clusters[i];var o=n.getCenter(),a=e.getPosition();if(o&&a){var l=this.distanceBetweenPoints(o,a);l<r&&(r=l,s=n)}}s&&s.isMarkerInClusterBounds(e)?s.addMarker(e):(n=new Jk(this),n.addMarker(e),this.clusters.push(n))},t.prototype.createClusters=function(e){var n=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var r=this.getMap(),s=r!==null&&("getBounds"in r)?r.getBounds():null,i=(r==null?void 0:r.getZoom())||0,o=i>3?new google.maps.LatLngBounds(s==null?void 0:s.getSouthWest(),s==null?void 0:s.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),a=this.getExtendedBounds(o),l=Math.min(e+this.batchSize,this.markers.length),u=e;u<l;u++){var c=this.markers[u];!c.isAdded&&this.isMarkerInBounds(c,a)&&(!this.ignoreHidden||this.ignoreHidden&&c.getVisible())&&this.addToClosestCluster(c)}if(l<this.markers.length)this.timerRefStatic=window.setTimeout(function(){n.createClusters(l)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var u=0;u<this.clusters.length;u++)this.clusters[u].updateIcon()}}},t.prototype.extend=function(e,n){return function(s){for(var i in s.prototype)this.prototype[i]=s.prototype[i];return this}.apply(e,[n])},t}();const zt={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},me={averageCenter(t,e){t.setAverageCenter(e)},batchSizeIE(t,e){t.setBatchSizeIE(e)},calculator(t,e){t.setCalculator(e)},clusterClass(t,e){t.setClusterClass(e)},enableRetinaIcons(t,e){t.setEnableRetinaIcons(e)},gridSize(t,e){t.setGridSize(e)},ignoreHidden(t,e){t.setIgnoreHidden(e)},imageExtension(t,e){t.setImageExtension(e)},imagePath(t,e){t.setImagePath(e)},imageSizes(t,e){t.setImageSizes(e)},maxZoom(t,e){t.setMaxZoom(e)},minimumClusterSize(t,e){t.setMinimumClusterSize(e)},styles(t,e){t.setStyles(e)},title(t,e){t.setTitle(e)},zoomOnClick(t,e){t.setZoomOnClick(e)}},aT={};function lT(t){const{children:e,options:n,averageCenter:r,batchSizeIE:s,calculator:i,clusterClass:o,enableRetinaIcons:a,gridSize:l,ignoreHidden:u,imageExtension:c,imagePath:d,imageSizes:f,maxZoom:p,minimumClusterSize:y,styles:E,title:S,zoomOnClick:m,onClick:g,onClusteringBegin:v,onClusteringEnd:w,onMouseOver:k,onMouseOut:L,onLoad:_,onUnmount:I}=t,[C,T]=h.useState(null),M=h.useContext(ne),[z,H]=h.useState(null),[q,le]=h.useState(null),[J,ce]=h.useState(null),[R,$]=h.useState(null),[j,K]=h.useState(null);return h.useEffect(()=>{C&&L&&(R!==null&&google.maps.event.removeListener(R),$(google.maps.event.addListener(C,zt.onMouseOut,L)))},[L]),h.useEffect(()=>{C&&k&&(j!==null&&google.maps.event.removeListener(j),K(google.maps.event.addListener(C,zt.onMouseOver,k)))},[k]),h.useEffect(()=>{C&&g&&(z!==null&&google.maps.event.removeListener(z),H(google.maps.event.addListener(C,zt.onClick,g)))},[g]),h.useEffect(()=>{C&&v&&(q!==null&&google.maps.event.removeListener(q),le(google.maps.event.addListener(C,zt.onClusteringBegin,v)))},[v]),h.useEffect(()=>{C&&w&&(J!==null&&google.maps.event.removeListener(J),le(google.maps.event.addListener(C,zt.onClusteringEnd,w)))},[w]),h.useEffect(()=>{typeof r<"u"&&C!==null&&me.averageCenter(C,r)},[C,r]),h.useEffect(()=>{typeof s<"u"&&C!==null&&me.batchSizeIE(C,s)},[C,s]),h.useEffect(()=>{typeof i<"u"&&C!==null&&me.calculator(C,i)},[C,i]),h.useEffect(()=>{typeof o<"u"&&C!==null&&me.clusterClass(C,o)},[C,o]),h.useEffect(()=>{typeof a<"u"&&C!==null&&me.enableRetinaIcons(C,a)},[C,a]),h.useEffect(()=>{typeof l<"u"&&C!==null&&me.gridSize(C,l)},[C,l]),h.useEffect(()=>{typeof u<"u"&&C!==null&&me.ignoreHidden(C,u)},[C,u]),h.useEffect(()=>{typeof c<"u"&&C!==null&&me.imageExtension(C,c)},[C,c]),h.useEffect(()=>{typeof d<"u"&&C!==null&&me.imagePath(C,d)},[C,d]),h.useEffect(()=>{typeof f<"u"&&C!==null&&me.imageSizes(C,f)},[C,f]),h.useEffect(()=>{typeof p<"u"&&C!==null&&me.maxZoom(C,p)},[C,p]),h.useEffect(()=>{typeof y<"u"&&C!==null&&me.minimumClusterSize(C,y)},[C,y]),h.useEffect(()=>{typeof E<"u"&&C!==null&&me.styles(C,E)},[C,E]),h.useEffect(()=>{typeof S<"u"&&C!==null&&me.title(C,S)},[C,S]),h.useEffect(()=>{typeof m<"u"&&C!==null&&me.zoomOnClick(C,m)},[C,m]),h.useEffect(()=>{if(!M)return;const G=Object.assign({},n||aT),V=new S1(M,[],G);return r&&me.averageCenter(V,r),s&&me.batchSizeIE(V,s),i&&me.calculator(V,i),o&&me.clusterClass(V,o),a&&me.enableRetinaIcons(V,a),l&&me.gridSize(V,l),u&&me.ignoreHidden(V,u),c&&me.imageExtension(V,c),d&&me.imagePath(V,d),f&&me.imageSizes(V,f),p&&me.maxZoom(V,p),y&&me.minimumClusterSize(V,y),E&&me.styles(V,E),S&&me.title(V,S),m&&me.zoomOnClick(V,m),L&&$(google.maps.event.addListener(V,zt.onMouseOut,L)),k&&K(google.maps.event.addListener(V,zt.onMouseOver,k)),g&&H(google.maps.event.addListener(V,zt.onClick,g)),v&&le(google.maps.event.addListener(V,zt.onClusteringBegin,v)),w&&ce(google.maps.event.addListener(V,zt.onClusteringEnd,w)),T(V),_&&_(V),()=>{R!==null&&google.maps.event.removeListener(R),j!==null&&google.maps.event.removeListener(j),z!==null&&google.maps.event.removeListener(z),q!==null&&google.maps.event.removeListener(q),J!==null&&google.maps.event.removeListener(J),I&&I(V)}},[]),C!==null&&e(C)||null}h.memo(lT);class uT extends h.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.state={markerClusterer:null},this.setClustererCallback=()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)}}componentDidMount(){if(this.context){const e=new S1(this.context,[],this.props.options);this.registeredEvents=se({updaterMap:me,eventMap:zt,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(ie(this.registeredEvents),this.registeredEvents=se({updaterMap:me,eventMap:zt,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),ie(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}uT.contextType=ne;function qg(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}var L1=function(){function t(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(t,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return t.prototype.createInfoBoxDiv=function(){var e=this,n=function(a){a.returnValue=!1,a.preventDefault&&a.preventDefault(),e.enableEventPropagation||qg(a)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var r=this.getPanes();if(r!==null&&r[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var s=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-s.left-s.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var i=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],o=0;o<i.length;o++)this.eventListeners.push(google.maps.event.addListener(this.div,i[o],qg));this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",n),google.maps.event.trigger(this,"domready")}},t.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},t.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},t.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},t.prototype.getCloseClickHandler=function(){return this.closeClickHandler},t.prototype.panBox=function(e){if(this.div&&!e){var n=this.getMap();if(n instanceof google.maps.Map){var r=0,s=0,i=n.getBounds();i&&!i.contains(this.position)&&n.setCenter(this.position);var o=n.getDiv(),a=o.offsetWidth,l=o.offsetHeight,u=this.pixelOffset.width,c=this.pixelOffset.height,d=this.div.offsetWidth,f=this.div.offsetHeight,p=this.infoBoxClearance.width,y=this.infoBoxClearance.height,E=this.getProjection(),S=E.fromLatLngToContainerPixel(this.position);S!==null&&(S.x<-u+p?r=S.x+u-p:S.x+d+u+p>a&&(r=S.x+d+u+p-a),this.alignBottom?S.y<-c+y+f?s=S.y+c-y-f:S.y+c+y>l&&(s=S.y+c+y-l):S.y<-c+y?s=S.y+c-y:S.y+f+c+y>l&&(s=S.y+f+c+y-l)),r===0&&s===0||n.panBy(r,s)}}},t.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this.div.style[n]=e[n]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var r=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+r*100+')"',this.div.style.filter="alpha(opacity="+r*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},t.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var n=this.div.ownerDocument,r=n&&n.defaultView?n.defaultView.getComputedStyle(this.div,""):null;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var s=this.div.currentStyle;s&&(e.top=parseInt(s.borderTopWidth||"",10)||0,e.bottom=parseInt(s.borderBottomWidth||"",10)||0,e.left=parseInt(s.borderLeftWidth||"",10)||0,e.right=parseInt(s.borderRightWidth||"",10)||0)}return e},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},t.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),n=e.fromLatLngToDivPixel(this.position);n!==null&&(this.div.style.left=n.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(n.y+this.pixelOffset.height)+"px":this.div.style.top=n.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},t.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},t.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},t.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},t.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},t.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},t.prototype.getContent=function(){return this.content},t.prototype.getPosition=function(){return this.position},t.prototype.getZIndex=function(){return this.zIndex},t.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},t.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},t.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},t.prototype.open=function(e,n){var r=this;n&&(this.position=n.getPosition(),this.moveListener=google.maps.event.addListener(n,"position_changed",function(){var s=n.getPosition();r.setPosition(s)}),this.mapListener=google.maps.event.addListener(n,"map_changed",function(){r.setMap(n.map)})),this.setMap(e),this.div&&this.panBox()},t.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0;e<this.eventListeners.length;e++)google.maps.event.removeListener(this.eventListeners[e]);this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},t.prototype.extend=function(e,n){return function(s){for(var i in s.prototype)Object.prototype.hasOwnProperty.call(this,i)||(this.prototype[i]=s.prototype[i]);return this}.apply(e,[n])},t}();const Kg={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},Gg={options(t,e){t.setOptions(e)},position(t,e){e instanceof google.maps.LatLng?t.setPosition(e):t.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},cT={};function hT({children:t,anchor:e,options:n,position:r,zIndex:s,onCloseClick:i,onDomReady:o,onContentChanged:a,onPositionChanged:l,onZindexChanged:u,onLoad:c,onUnmount:d}){const f=h.useContext(ne),[p,y]=h.useState(null),[E,S]=h.useState(null),[m,g]=h.useState(null),[v,w]=h.useState(null),[k,L]=h.useState(null),[_,I]=h.useState(null),C=h.useRef(null);return h.useEffect(()=>{f&&p!==null&&(p.close(),e?p.open(f,e):p.getPosition()&&p.open(f))},[f,p,e]),h.useEffect(()=>{n&&p!==null&&p.setOptions(n)},[p,n]),h.useEffect(()=>{if(r&&p!==null){const T=r instanceof google.maps.LatLng?r:new google.maps.LatLng(r.lat,r.lng);p.setPosition(T)}},[r]),h.useEffect(()=>{typeof s=="number"&&p!==null&&p.setZIndex(s)},[s]),h.useEffect(()=>{p&&i&&(E!==null&&google.maps.event.removeListener(E),S(google.maps.event.addListener(p,"closeclick",i)))},[i]),h.useEffect(()=>{p&&o&&(m!==null&&google.maps.event.removeListener(m),g(google.maps.event.addListener(p,"domready",o)))},[o]),h.useEffect(()=>{p&&a&&(v!==null&&google.maps.event.removeListener(v),w(google.maps.event.addListener(p,"content_changed",a)))},[a]),h.useEffect(()=>{p&&l&&(k!==null&&google.maps.event.removeListener(k),L(google.maps.event.addListener(p,"position_changed",l)))},[l]),h.useEffect(()=>{p&&u&&(_!==null&&google.maps.event.removeListener(_),I(google.maps.event.addListener(p,"zindex_changed",u)))},[u]),h.useEffect(()=>{if(f){const T=n||cT,{position:M}=T,z=jf(T,["position"]);let H;M&&!(M instanceof google.maps.LatLng)&&(H=new google.maps.LatLng(M.lat,M.lng));const q=new L1(Object.assign(Object.assign({},z),H?{position:H}:{}));C.current=document.createElement("div"),y(q),i&&S(google.maps.event.addListener(q,"closeclick",i)),o&&g(google.maps.event.addListener(q,"domready",o)),a&&w(google.maps.event.addListener(q,"content_changed",a)),l&&L(google.maps.event.addListener(q,"position_changed",l)),u&&I(google.maps.event.addListener(q,"zindex_changed",u)),q.setContent(C.current),e?q.open(f,e):q.getPosition()?q.open(f):Ke(!1,"You must provide either an anchor or a position prop for <InfoBox>."),c&&c(q)}return()=>{p!==null&&(E&&google.maps.event.removeListener(E),v&&google.maps.event.removeListener(v),m&&google.maps.event.removeListener(m),k&&google.maps.event.removeListener(k),_&&google.maps.event.removeListener(_),d&&d(p),p.close())}},[]),C.current?Jr.createPortal(h.Children.only(t),C.current):null}h.memo(hT);class dT extends h.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.containerElement=null,this.state={infoBox:null},this.open=(e,n)=>{n?e.open(this.context,n):e.getPosition()?e.open(this.context):Ke(!1,"You must provide either an anchor or a position prop for <InfoBox>.")},this.setInfoBoxCallback=()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))}}componentDidMount(){const e=this.props.options||{},{position:n}=e,r=jf(e,["position"]);let s;n&&!(n instanceof google.maps.LatLng)&&(s=new google.maps.LatLng(n.lat,n.lng));const i=new L1(Object.assign(Object.assign({},r),s?{position:s}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=se({updaterMap:Gg,eventMap:Kg,prevProps:{},nextProps:this.props,instance:i}),this.setState({infoBox:i},this.setInfoBoxCallback)}componentDidUpdate(e){const{infoBox:n}=this.state;n!==null&&(ie(this.registeredEvents),this.registeredEvents=se({updaterMap:Gg,eventMap:Kg,prevProps:e,nextProps:this.props,instance:n}))}componentWillUnmount(){const{onUnmount:e}=this.props,{infoBox:n}=this.state;n!==null&&(e&&e(n),ie(this.registeredEvents),n.close())}render(){return this.containerElement?Jr.createPortal(h.Children.only(this.props.children),this.containerElement):null}}dT.contextType=ne;var Qg=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,s,i;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[s]))return!1;for(s=r;s--!==0;){var o=i[s];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n},C1={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Tk,function(){function n(f,p,y,E,S,m){if(!(S-E<=y)){var g=E+S>>1;r(f,p,g,E,S,m%2),n(f,p,y,E,g-1,m+1),n(f,p,y,g+1,S,m+1)}}function r(f,p,y,E,S,m){for(;S>E;){if(S-E>600){var g=S-E+1,v=y-E+1,w=Math.log(g),k=.5*Math.exp(2*w/3),L=.5*Math.sqrt(w*k*(g-k)/g)*(v-g/2<0?-1:1),_=Math.max(E,Math.floor(y-v*k/g+L)),I=Math.min(S,Math.floor(y+(g-v)*k/g+L));r(f,p,y,_,I,m)}var C=p[2*y+m],T=E,M=S;for(s(f,p,E,y),p[2*S+m]>C&&s(f,p,E,S);T<M;){for(s(f,p,T,M),T++,M--;p[2*T+m]<C;)T++;for(;p[2*M+m]>C;)M--}p[2*E+m]===C?s(f,p,E,M):(M++,s(f,p,M,S)),M<=y&&(E=M+1),y<=M&&(S=M-1)}}function s(f,p,y,E){i(f,y,E),i(p,2*y,2*E),i(p,2*y+1,2*E+1)}function i(f,p,y){var E=f[p];f[p]=f[y],f[y]=E}function o(f,p,y,E,S,m,g){for(var v=[0,f.length-1,0],w=[],k,L;v.length;){var _=v.pop(),I=v.pop(),C=v.pop();if(I-C<=g){for(var T=C;T<=I;T++)k=p[2*T],L=p[2*T+1],k>=y&&k<=S&&L>=E&&L<=m&&w.push(f[T]);continue}var M=Math.floor((C+I)/2);k=p[2*M],L=p[2*M+1],k>=y&&k<=S&&L>=E&&L<=m&&w.push(f[M]);var z=(_+1)%2;(_===0?y<=k:E<=L)&&(v.push(C),v.push(M-1),v.push(z)),(_===0?S>=k:m>=L)&&(v.push(M+1),v.push(I),v.push(z))}return w}function a(f,p,y,E,S,m){for(var g=[0,f.length-1,0],v=[],w=S*S;g.length;){var k=g.pop(),L=g.pop(),_=g.pop();if(L-_<=m){for(var I=_;I<=L;I++)l(p[2*I],p[2*I+1],y,E)<=w&&v.push(f[I]);continue}var C=Math.floor((_+L)/2),T=p[2*C],M=p[2*C+1];l(T,M,y,E)<=w&&v.push(f[C]);var z=(k+1)%2;(k===0?y-S<=T:E-S<=M)&&(g.push(_),g.push(C-1),g.push(z)),(k===0?y+S>=T:E+S>=M)&&(g.push(C+1),g.push(L),g.push(z))}return v}function l(f,p,y,E){var S=f-y,m=p-E;return S*S+m*m}var u=function(f){return f[0]},c=function(f){return f[1]},d=function(p,y,E,S,m){y===void 0&&(y=u),E===void 0&&(E=c),S===void 0&&(S=64),m===void 0&&(m=Float64Array),this.nodeSize=S,this.points=p;for(var g=p.length<65536?Uint16Array:Uint32Array,v=this.ids=new g(p.length),w=this.coords=new m(p.length*2),k=0;k<p.length;k++)v[k]=k,w[2*k]=y(p[k]),w[2*k+1]=E(p[k]);n(v,w,S,0,v.length-1,0)};return d.prototype.range=function(p,y,E,S){return o(this.ids,this.coords,p,y,E,S,this.nodeSize)},d.prototype.within=function(p,y,E){return a(this.ids,this.coords,p,y,E,this.nodeSize)},d})})(C1);var Zg=C1.exports;const fT={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},zl=Math.fround||(t=>e=>(t[0]=+e,t[0]))(new Float32Array(1));class pT{constructor(e){this.options=zi(Object.create(fT),e),this.trees=new Array(this.options.maxZoom+1)}load(e){const{log:n,minZoom:r,maxZoom:s,nodeSize:i}=this.options;n&&console.time("total time");const o=`prepare ${e.length} points`;n&&console.time(o),this.points=e;let a=[];for(let l=0;l<e.length;l++)e[l].geometry&&a.push(gT(e[l],l));this.trees[s+1]=new Zg(a,Xg,Jg,i,Float32Array),n&&console.timeEnd(o);for(let l=s;l>=r;l--){const u=+Date.now();a=this._cluster(a,l),this.trees[l]=new Zg(a,Xg,Jg,i,Float32Array),n&&console.log("z%d: %d clusters in %dms",l,a.length,+Date.now()-u)}return n&&console.timeEnd("total time"),this}getClusters(e,n){let r=((e[0]+180)%360+360)%360-180;const s=Math.max(-90,Math.min(90,e[1]));let i=e[2]===180?180:((e[2]+180)%360+360)%360-180;const o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,i=180;else if(r>i){const c=this.getClusters([r,s,180,o],n),d=this.getClusters([-180,s,i,o],n);return c.concat(d)}const a=this.trees[this._limitZoom(n)],l=a.range(al(r),ll(o),al(i),ll(s)),u=[];for(const c of l){const d=a.points[c];u.push(d.numPoints?Yg(d):this.points[d.index])}return u}getChildren(e){const n=this._getOriginId(e),r=this._getOriginZoom(e),s="No cluster with the specified id.",i=this.trees[r];if(!i)throw new Error(s);const o=i.points[n];if(!o)throw new Error(s);const a=this.options.radius/(this.options.extent*Math.pow(2,r-1)),l=i.within(o.x,o.y,a),u=[];for(const c of l){const d=i.points[c];d.parentId===e&&u.push(d.numPoints?Yg(d):this.points[d.index])}if(u.length===0)throw new Error(s);return u}getLeaves(e,n,r){n=n||10,r=r||0;const s=[];return this._appendLeaves(s,e,n,r,0),s}getTile(e,n,r){const s=this.trees[this._limitZoom(e)],i=Math.pow(2,e),{extent:o,radius:a}=this.options,l=a/o,u=(r-l)/i,c=(r+1+l)/i,d={features:[]};return this._addTileFeatures(s.range((n-l)/i,u,(n+1+l)/i,c),s.points,n,r,i,d),n===0&&this._addTileFeatures(s.range(1-l/i,u,1,c),s.points,i,r,i,d),n===i-1&&this._addTileFeatures(s.range(0,u,l/i,c),s.points,-1,r,i,d),d.features.length?d:null}getClusterExpansionZoom(e){let n=this._getOriginZoom(e)-1;for(;n<=this.options.maxZoom;){const r=this.getChildren(e);if(n++,r.length!==1)break;e=r[0].properties.cluster_id}return n}_appendLeaves(e,n,r,s,i){const o=this.getChildren(n);for(const a of o){const l=a.properties;if(l&&l.cluster?i+l.point_count<=s?i+=l.point_count:i=this._appendLeaves(e,l.cluster_id,r,s,i):i<s?i++:e.push(a),e.length===r)break}return i}_addTileFeatures(e,n,r,s,i,o){for(const a of e){const l=n[a],u=l.numPoints;let c,d,f;if(u)c=k1(l),d=l.x,f=l.y;else{const E=this.points[l.index];c=E.properties,d=al(E.geometry.coordinates[0]),f=ll(E.geometry.coordinates[1])}const p={type:1,geometry:[[Math.round(this.options.extent*(d*i-r)),Math.round(this.options.extent*(f*i-s))]],tags:c};let y;u?y=l.id:this.options.generateId?y=l.index:this.points[l.index].id&&(y=this.points[l.index].id),y!==void 0&&(p.id=y),o.features.push(p)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(+e,this.options.maxZoom+1))}_cluster(e,n){const r=[],{radius:s,extent:i,reduce:o,minPoints:a}=this.options,l=s/(i*Math.pow(2,n));for(let u=0;u<e.length;u++){const c=e[u];if(c.zoom<=n)continue;c.zoom=n;const d=this.trees[n+1],f=d.within(c.x,c.y,l),p=c.numPoints||1;let y=p;for(const E of f){const S=d.points[E];S.zoom>n&&(y+=S.numPoints||1)}if(y>p&&y>=a){let E=c.x*p,S=c.y*p,m=o&&p>1?this._map(c,!0):null;const g=(u<<5)+(n+1)+this.points.length;for(const v of f){const w=d.points[v];if(w.zoom<=n)continue;w.zoom=n;const k=w.numPoints||1;E+=w.x*k,S+=w.y*k,w.parentId=g,o&&(m||(m=this._map(c,!0)),o(m,this._map(w)))}c.parentId=g,r.push(mT(E/y,S/y,g,y,m))}else if(r.push(c),y>1)for(const E of f){const S=d.points[E];S.zoom<=n||(S.zoom=n,r.push(S))}}return r}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,n){if(e.numPoints)return n?zi({},e.properties):e.properties;const r=this.points[e.index].properties,s=this.options.map(r);return n&&s===r?zi({},s):s}}function mT(t,e,n,r,s){return{x:zl(t),y:zl(e),zoom:1/0,id:n,parentId:-1,numPoints:r,properties:s}}function gT(t,e){const[n,r]=t.geometry.coordinates;return{x:zl(al(n)),y:zl(ll(r)),zoom:1/0,index:e,parentId:-1}}function Yg(t){return{type:"Feature",id:t.id,properties:k1(t),geometry:{type:"Point",coordinates:[vT(t.x),yT(t.y)]}}}function k1(t){const e=t.numPoints,n=e>=1e4?`${Math.round(e/1e3)}k`:e>=1e3?`${Math.round(e/100)/10}k`:e;return zi(zi({},t.properties),{cluster:!0,cluster_id:t.id,point_count:e,point_count_abbreviated:n})}function al(t){return t/360+.5}function ll(t){const e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function vT(t){return(t-.5)*360}function yT(t){const e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}function zi(t,e){for(const n in e)t[n]=e[n];return t}function Xg(t){return t.x}function Jg(t){return t.y}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function wT(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}class ed{constructor({markers:e,position:n}){this.markers=e,n&&(n instanceof google.maps.LatLng?this._position=n:this._position=new google.maps.LatLng(n))}get bounds(){if(!(this.markers.length===0&&!this._position))return this.markers.reduce((e,n)=>e.extend(n.getPosition()),new google.maps.LatLngBounds(this._position,this._position))}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>e.getVisible()).length}push(e){this.markers.push(e)}delete(){this.marker&&(this.marker.setMap(null),delete this.marker),this.markers.length=0}}class ET{constructor({maxZoom:e=16}){this.maxZoom=e}noop({markers:e}){return xT(e)}}const xT=t=>t.map(n=>new ed({position:n.getPosition(),markers:[n]}));class ST extends ET{constructor(e){var{maxZoom:n,radius:r=60}=e,s=wT(e,["maxZoom","radius"]);super({maxZoom:n}),this.superCluster=new pT(Object.assign({maxZoom:this.maxZoom,radius:r},s)),this.state={zoom:null}}calculate(e){let n=!1;if(!Qg(e.markers,this.markers)){n=!0,this.markers=[...e.markers];const s=this.markers.map(i=>({type:"Feature",geometry:{type:"Point",coordinates:[i.getPosition().lng(),i.getPosition().lat()]},properties:{marker:i}}));this.superCluster.load(s)}const r={zoom:e.map.getZoom()};return n||this.state.zoom>this.maxZoom&&r.zoom>this.maxZoom||(n=n||!Qg(this.state,r)),this.state=r,n&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:n}}cluster({map:e}){return this.superCluster.getClusters([-180,-90,180,90],Math.round(e.getZoom())).map(this.transformCluster.bind(this))}transformCluster({geometry:{coordinates:[e,n]},properties:r}){if(r.cluster)return new ed({markers:this.superCluster.getLeaves(r.cluster_id,1/0).map(s=>s.properties.marker),position:new google.maps.LatLng({lat:n,lng:e})});{const s=r.marker;return new ed({markers:[s],position:s.getPosition()})}}}class LT{constructor(e,n){this.markers={sum:e.length};const r=n.map(i=>i.count),s=r.reduce((i,o)=>i+o,0);this.clusters={count:n.length,markers:{mean:s/n.length,sum:s,min:Math.min(...r),max:Math.max(...r)}}}}class CT{render({count:e,position:n},r){const s=e>Math.max(10,r.clusters.markers.mean)?"#ff0000":"#0000ff",i=window.btoa(`
  <svg fill="${s}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240">
    <circle cx="120" cy="120" opacity=".6" r="70" />
    <circle cx="120" cy="120" opacity=".3" r="90" />
    <circle cx="120" cy="120" opacity=".2" r="110" />
  </svg>`);return new google.maps.Marker({position:n,icon:{url:`data:image/svg+xml;base64,${i}`,scaledSize:new google.maps.Size(45,45)},label:{text:String(e),color:"rgba(255,255,255,0.9)",fontSize:"12px"},title:`Cluster of ${e} markers`,zIndex:Number(google.maps.Marker.MAX_ZINDEX)+e})}}function kT(t,e){for(let n in e.prototype)t.prototype[n]=e.prototype[n]}class Uf{constructor(){kT(Uf,google.maps.OverlayView)}}var Vi;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})(Vi||(Vi={}));const TT=(t,e,n)=>{n.fitBounds(e.bounds)};class _T extends Uf{constructor({map:e,markers:n=[],algorithm:r=new ST({}),renderer:s=new CT,onClusterClick:i=TT}){super(),this.markers=[...n],this.clusters=[],this.algorithm=r,this.renderer=s,this.onClusterClick=i,e&&this.setMap(e)}addMarker(e,n){this.markers.includes(e)||(this.markers.push(e),n||this.render())}addMarkers(e,n){e.forEach(r=>{this.addMarker(r,!0)}),n||this.render()}removeMarker(e,n){const r=this.markers.indexOf(e);return r===-1?!1:(e.setMap(null),this.markers.splice(r,1),n||this.render(),!0)}removeMarkers(e,n){let r=!1;return e.forEach(s=>{r=this.removeMarker(s,!0)||r}),r&&!n&&this.render(),r}clearMarkers(e){this.markers.length=0,e||this.render()}render(){const e=this.getMap();if(e instanceof google.maps.Map&&this.getProjection()){google.maps.event.trigger(this,Vi.CLUSTERING_BEGIN,this);const{clusters:n,changed:r}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});(r||r==null)&&(this.reset(),this.clusters=n,this.renderClusters()),google.maps.event.trigger(this,Vi.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>e.setMap(null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){const e=new LT(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(r=>{r.markers.length===1?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,e),this.onClusterClick&&r.marker.addListener("click",s=>{google.maps.event.trigger(this,Vi.CLUSTER_CLICK,r),this.onClusterClick(s,r,n)})),r.marker.setMap(n)})}}function IT(t){const e=Ik(),[n,r]=h.useState(null);return h.useEffect(()=>{if(e&&n===null){const s=new _T(Object.assign(Object.assign({},t),{map:e}));r(s)}},[e]),n}function bT({children:t,options:e}){const n=IT(e);return n!==null?t(n):null}h.memo(bT);const ev={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},tv={options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},zIndex(t,e){t.setZIndex(e)}};function NT({children:t,anchor:e,options:n,position:r,zIndex:s,onCloseClick:i,onDomReady:o,onContentChanged:a,onPositionChanged:l,onZindexChanged:u,onLoad:c,onUnmount:d}){const f=h.useContext(ne),[p,y]=h.useState(null),[E,S]=h.useState(null),[m,g]=h.useState(null),[v,w]=h.useState(null),[k,L]=h.useState(null),[_,I]=h.useState(null),C=h.useRef(null);return h.useEffect(()=>{p!==null&&(p.close(),e?p.open(f,e):p.getPosition()&&p.open(f))},[f,p,e]),h.useEffect(()=>{n&&p!==null&&p.setOptions(n)},[p,n]),h.useEffect(()=>{r&&p!==null&&p.setPosition(r)},[r]),h.useEffect(()=>{typeof s=="number"&&p!==null&&p.setZIndex(s)},[s]),h.useEffect(()=>{p&&i&&(E!==null&&google.maps.event.removeListener(E),S(google.maps.event.addListener(p,"closeclick",i)))},[i]),h.useEffect(()=>{p&&o&&(m!==null&&google.maps.event.removeListener(m),g(google.maps.event.addListener(p,"domready",o)))},[o]),h.useEffect(()=>{p&&a&&(v!==null&&google.maps.event.removeListener(v),w(google.maps.event.addListener(p,"content_changed",a)))},[a]),h.useEffect(()=>{p&&l&&(k!==null&&google.maps.event.removeListener(k),L(google.maps.event.addListener(p,"position_changed",l)))},[l]),h.useEffect(()=>{p&&u&&(_!==null&&google.maps.event.removeListener(_),I(google.maps.event.addListener(p,"zindex_changed",u)))},[u]),h.useEffect(()=>{const T=new google.maps.InfoWindow(Object.assign({},n||{}));return y(T),C.current=document.createElement("div"),i&&S(google.maps.event.addListener(T,"closeclick",i)),o&&g(google.maps.event.addListener(T,"domready",o)),a&&w(google.maps.event.addListener(T,"content_changed",a)),l&&L(google.maps.event.addListener(T,"position_changed",l)),u&&I(google.maps.event.addListener(T,"zindex_changed",u)),T.setContent(C.current),r&&T.setPosition(r),s&&T.setZIndex(s),e?T.open(f,e):T.getPosition()?T.open(f):Ke(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),c&&c(T),()=>{E&&google.maps.event.removeListener(E),v&&google.maps.event.removeListener(v),m&&google.maps.event.removeListener(m),k&&google.maps.event.removeListener(k),_&&google.maps.event.removeListener(_),d&&d(T),T.close()}},[]),C.current?Jr.createPortal(h.Children.only(t),C.current):null}h.memo(NT);class RT extends h.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.containerElement=null,this.state={infoWindow:null},this.open=(e,n)=>{n?e.open(this.context,n):e.getPosition()?e.open(this.context):Ke(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")},this.setInfoWindowCallback=()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))}}componentDidMount(){const e=new google.maps.InfoWindow(Object.assign({},this.props.options||{}));this.containerElement=document.createElement("div"),this.registeredEvents=se({updaterMap:tv,eventMap:ev,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){this.state.infoWindow!==null&&(ie(this.registeredEvents),this.registeredEvents=se({updaterMap:tv,eventMap:ev,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(ie(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?Jr.createPortal(h.Children.only(this.props.children),this.containerElement):null}}RT.contextType=ne;const nv={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},rv={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},visible(t,e){t.setVisible(e)}},PT={};function AT({options:t,draggable:e,editable:n,visible:r,path:s,onDblClick:i,onDragEnd:o,onDragStart:a,onMouseDown:l,onMouseMove:u,onMouseOut:c,onMouseOver:d,onMouseUp:f,onRightClick:p,onClick:y,onDrag:E,onLoad:S,onUnmount:m}){const g=h.useContext(ne),[v,w]=h.useState(null),[k,L]=h.useState(null),[_,I]=h.useState(null),[C,T]=h.useState(null),[M,z]=h.useState(null),[H,q]=h.useState(null),[le,J]=h.useState(null),[ce,R]=h.useState(null),[$,j]=h.useState(null),[K,G]=h.useState(null),[V,A]=h.useState(null),[Le,he]=h.useState(null);return h.useEffect(()=>{v!==null&&v.setMap(g)},[g]),h.useEffect(()=>{typeof t<"u"&&v!==null&&v.setOptions(t)},[v,t]),h.useEffect(()=>{typeof e<"u"&&v!==null&&v.setDraggable(e)},[v,e]),h.useEffect(()=>{typeof n<"u"&&v!==null&&v.setEditable(n)},[v,n]),h.useEffect(()=>{typeof r<"u"&&v!==null&&v.setVisible(r)},[v,r]),h.useEffect(()=>{typeof s<"u"&&v!==null&&v.setPath(s)},[v,s]),h.useEffect(()=>{v&&i&&(k!==null&&google.maps.event.removeListener(k),L(google.maps.event.addListener(v,"dblclick",i)))},[i]),h.useEffect(()=>{v&&o&&(_!==null&&google.maps.event.removeListener(_),I(google.maps.event.addListener(v,"dragend",o)))},[o]),h.useEffect(()=>{v&&a&&(C!==null&&google.maps.event.removeListener(C),T(google.maps.event.addListener(v,"dragstart",a)))},[a]),h.useEffect(()=>{v&&l&&(M!==null&&google.maps.event.removeListener(M),z(google.maps.event.addListener(v,"mousedown",l)))},[l]),h.useEffect(()=>{v&&u&&(H!==null&&google.maps.event.removeListener(H),q(google.maps.event.addListener(v,"mousemove",u)))},[u]),h.useEffect(()=>{v&&c&&(le!==null&&google.maps.event.removeListener(le),J(google.maps.event.addListener(v,"mouseout",c)))},[c]),h.useEffect(()=>{v&&d&&(ce!==null&&google.maps.event.removeListener(ce),R(google.maps.event.addListener(v,"mouseover",d)))},[d]),h.useEffect(()=>{v&&f&&($!==null&&google.maps.event.removeListener($),j(google.maps.event.addListener(v,"mouseup",f)))},[f]),h.useEffect(()=>{v&&p&&(K!==null&&google.maps.event.removeListener(K),G(google.maps.event.addListener(v,"rightclick",p)))},[p]),h.useEffect(()=>{v&&y&&(V!==null&&google.maps.event.removeListener(V),A(google.maps.event.addListener(v,"click",y)))},[y]),h.useEffect(()=>{v&&E&&(Le!==null&&google.maps.event.removeListener(Le),he(google.maps.event.addListener(v,"drag",E)))},[E]),h.useEffect(()=>{const Y=new google.maps.Polyline(Object.assign(Object.assign({},t||PT),{map:g}));return s&&Y.setPath(s),typeof r<"u"&&Y.setVisible(r),typeof n<"u"&&Y.setEditable(n),typeof e<"u"&&Y.setDraggable(e),i&&L(google.maps.event.addListener(Y,"dblclick",i)),o&&I(google.maps.event.addListener(Y,"dragend",o)),a&&T(google.maps.event.addListener(Y,"dragstart",a)),l&&z(google.maps.event.addListener(Y,"mousedown",l)),u&&q(google.maps.event.addListener(Y,"mousemove",u)),c&&J(google.maps.event.addListener(Y,"mouseout",c)),d&&R(google.maps.event.addListener(Y,"mouseover",d)),f&&j(google.maps.event.addListener(Y,"mouseup",f)),p&&G(google.maps.event.addListener(Y,"rightclick",p)),y&&A(google.maps.event.addListener(Y,"click",y)),E&&he(google.maps.event.addListener(Y,"drag",E)),w(Y),S&&S(Y),()=>{k!==null&&google.maps.event.removeListener(k),_!==null&&google.maps.event.removeListener(_),C!==null&&google.maps.event.removeListener(C),M!==null&&google.maps.event.removeListener(M),H!==null&&google.maps.event.removeListener(H),le!==null&&google.maps.event.removeListener(le),ce!==null&&google.maps.event.removeListener(ce),$!==null&&google.maps.event.removeListener($),K!==null&&google.maps.event.removeListener(K),V!==null&&google.maps.event.removeListener(V),m&&m(Y),Y.setMap(null)}},[]),null}h.memo(AT);class DT extends h.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.state={polyline:null},this.setPolylineCallback=()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)}}componentDidMount(){const e=new google.maps.Polyline(Object.assign(Object.assign({},this.props.options||{}),{map:this.context}));this.registeredEvents=se({updaterMap:rv,eventMap:nv,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){this.state.polyline!==null&&(ie(this.registeredEvents),this.registeredEvents=se({updaterMap:rv,eventMap:nv,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),ie(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}DT.contextType=ne;const sv={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},iv={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},paths(t,e){t.setPaths(e)},visible(t,e){t.setVisible(e)}};function MT({options:t,draggable:e,editable:n,visible:r,path:s,paths:i,onDblClick:o,onDragEnd:a,onDragStart:l,onMouseDown:u,onMouseMove:c,onMouseOut:d,onMouseOver:f,onMouseUp:p,onRightClick:y,onClick:E,onDrag:S,onLoad:m,onUnmount:g}){const v=h.useContext(ne),[w,k]=h.useState(null),[L,_]=h.useState(null),[I,C]=h.useState(null),[T,M]=h.useState(null),[z,H]=h.useState(null),[q,le]=h.useState(null),[J,ce]=h.useState(null),[R,$]=h.useState(null),[j,K]=h.useState(null),[G,V]=h.useState(null),[A,Le]=h.useState(null),[he,Y]=h.useState(null);return h.useEffect(()=>{w!==null&&w.setMap(v)},[v]),h.useEffect(()=>{typeof t<"u"&&w!==null&&w.setOptions(t)},[w,t]),h.useEffect(()=>{typeof e<"u"&&w!==null&&w.setDraggable(e)},[w,e]),h.useEffect(()=>{typeof n<"u"&&w!==null&&w.setEditable(n)},[w,n]),h.useEffect(()=>{typeof r<"u"&&w!==null&&w.setVisible(r)},[w,r]),h.useEffect(()=>{typeof s<"u"&&w!==null&&w.setPath(s)},[w,s]),h.useEffect(()=>{typeof i<"u"&&w!==null&&w.setPaths(i)},[w,i]),h.useEffect(()=>{w&&o&&(L!==null&&google.maps.event.removeListener(L),_(google.maps.event.addListener(w,"dblclick",o)))},[o]),h.useEffect(()=>{w&&a&&(I!==null&&google.maps.event.removeListener(I),C(google.maps.event.addListener(w,"dragend",a)))},[a]),h.useEffect(()=>{w&&l&&(T!==null&&google.maps.event.removeListener(T),M(google.maps.event.addListener(w,"dragstart",l)))},[l]),h.useEffect(()=>{w&&u&&(z!==null&&google.maps.event.removeListener(z),H(google.maps.event.addListener(w,"mousedown",u)))},[u]),h.useEffect(()=>{w&&c&&(q!==null&&google.maps.event.removeListener(q),le(google.maps.event.addListener(w,"mousemove",c)))},[c]),h.useEffect(()=>{w&&d&&(J!==null&&google.maps.event.removeListener(J),ce(google.maps.event.addListener(w,"mouseout",d)))},[d]),h.useEffect(()=>{w&&f&&(R!==null&&google.maps.event.removeListener(R),$(google.maps.event.addListener(w,"mouseover",f)))},[f]),h.useEffect(()=>{w&&p&&(j!==null&&google.maps.event.removeListener(j),K(google.maps.event.addListener(w,"mouseup",p)))},[p]),h.useEffect(()=>{w&&y&&(G!==null&&google.maps.event.removeListener(G),V(google.maps.event.addListener(w,"rightclick",y)))},[y]),h.useEffect(()=>{w&&E&&(A!==null&&google.maps.event.removeListener(A),Le(google.maps.event.addListener(w,"click",E)))},[E]),h.useEffect(()=>{w&&S&&(he!==null&&google.maps.event.removeListener(he),Y(google.maps.event.addListener(w,"drag",S)))},[S]),h.useEffect(()=>{const re=new google.maps.Polygon(Object.assign(Object.assign({},t||{}),{map:v}));return s&&re.setPath(s),i&&re.setPaths(i),typeof r<"u"&&re.setVisible(r),typeof n<"u"&&re.setEditable(n),typeof e<"u"&&re.setDraggable(e),o&&_(google.maps.event.addListener(re,"dblclick",o)),a&&C(google.maps.event.addListener(re,"dragend",a)),l&&M(google.maps.event.addListener(re,"dragstart",l)),u&&H(google.maps.event.addListener(re,"mousedown",u)),c&&le(google.maps.event.addListener(re,"mousemove",c)),d&&ce(google.maps.event.addListener(re,"mouseout",d)),f&&$(google.maps.event.addListener(re,"mouseover",f)),p&&K(google.maps.event.addListener(re,"mouseup",p)),y&&V(google.maps.event.addListener(re,"rightclick",y)),E&&Le(google.maps.event.addListener(re,"click",E)),S&&Y(google.maps.event.addListener(re,"drag",S)),k(re),m&&m(re),()=>{L!==null&&google.maps.event.removeListener(L),I!==null&&google.maps.event.removeListener(I),T!==null&&google.maps.event.removeListener(T),z!==null&&google.maps.event.removeListener(z),q!==null&&google.maps.event.removeListener(q),J!==null&&google.maps.event.removeListener(J),R!==null&&google.maps.event.removeListener(R),j!==null&&google.maps.event.removeListener(j),G!==null&&google.maps.event.removeListener(G),A!==null&&google.maps.event.removeListener(A),g&&g(re),re.setMap(null)}},[]),null}h.memo(MT);class OT extends h.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.state={polygon:null},this.setPolygonCallback=()=>{this.state.polygon!==null&&this.props.onLoad&&this.props.onLoad(this.state.polygon)}}componentDidMount(){const e=new google.maps.Polygon(Object.assign(Object.assign({},this.props.options||{}),{map:this.context}));this.registeredEvents=se({updaterMap:iv,eventMap:sv,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polygon:e}},this.setPolygonCallback)}componentDidUpdate(e){this.state.polygon!==null&&(ie(this.registeredEvents),this.registeredEvents=se({updaterMap:iv,eventMap:sv,prevProps:e,nextProps:this.props,instance:this.state.polygon}))}componentWillUnmount(){this.state.polygon!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polygon),ie(this.registeredEvents),this.state.polygon&&this.state.polygon.setMap(null))}render(){return null}}OT.contextType=ne;const ov={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},av={bounds(t,e){t.setBounds(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},visible(t,e){t.setVisible(e)}};function $T({options:t,bounds:e,draggable:n,editable:r,visible:s,onDblClick:i,onDragEnd:o,onDragStart:a,onMouseDown:l,onMouseMove:u,onMouseOut:c,onMouseOver:d,onMouseUp:f,onRightClick:p,onClick:y,onDrag:E,onBoundsChanged:S,onLoad:m,onUnmount:g}){const v=h.useContext(ne),[w,k]=h.useState(null),[L,_]=h.useState(null),[I,C]=h.useState(null),[T,M]=h.useState(null),[z,H]=h.useState(null),[q,le]=h.useState(null),[J,ce]=h.useState(null),[R,$]=h.useState(null),[j,K]=h.useState(null),[G,V]=h.useState(null),[A,Le]=h.useState(null),[he,Y]=h.useState(null),[re,xe]=h.useState(null);return h.useEffect(()=>{w!==null&&w.setMap(v)},[v]),h.useEffect(()=>{typeof t<"u"&&w!==null&&w.setOptions(t)},[w,t]),h.useEffect(()=>{typeof n<"u"&&w!==null&&w.setDraggable(n)},[w,n]),h.useEffect(()=>{typeof r<"u"&&w!==null&&w.setEditable(r)},[w,r]),h.useEffect(()=>{typeof s<"u"&&w!==null&&w.setVisible(s)},[w,s]),h.useEffect(()=>{typeof e<"u"&&w!==null&&w.setBounds(e)},[w,e]),h.useEffect(()=>{w&&i&&(L!==null&&google.maps.event.removeListener(L),_(google.maps.event.addListener(w,"dblclick",i)))},[i]),h.useEffect(()=>{w&&o&&(I!==null&&google.maps.event.removeListener(I),C(google.maps.event.addListener(w,"dragend",o)))},[o]),h.useEffect(()=>{w&&a&&(T!==null&&google.maps.event.removeListener(T),M(google.maps.event.addListener(w,"dragstart",a)))},[a]),h.useEffect(()=>{w&&l&&(z!==null&&google.maps.event.removeListener(z),H(google.maps.event.addListener(w,"mousedown",l)))},[l]),h.useEffect(()=>{w&&u&&(q!==null&&google.maps.event.removeListener(q),le(google.maps.event.addListener(w,"mousemove",u)))},[u]),h.useEffect(()=>{w&&c&&(J!==null&&google.maps.event.removeListener(J),ce(google.maps.event.addListener(w,"mouseout",c)))},[c]),h.useEffect(()=>{w&&d&&(R!==null&&google.maps.event.removeListener(R),$(google.maps.event.addListener(w,"mouseover",d)))},[d]),h.useEffect(()=>{w&&f&&(j!==null&&google.maps.event.removeListener(j),K(google.maps.event.addListener(w,"mouseup",f)))},[f]),h.useEffect(()=>{w&&p&&(G!==null&&google.maps.event.removeListener(G),V(google.maps.event.addListener(w,"rightclick",p)))},[p]),h.useEffect(()=>{w&&y&&(A!==null&&google.maps.event.removeListener(A),Le(google.maps.event.addListener(w,"click",y)))},[y]),h.useEffect(()=>{w&&E&&(he!==null&&google.maps.event.removeListener(he),Y(google.maps.event.addListener(w,"drag",E)))},[E]),h.useEffect(()=>{w&&S&&(re!==null&&google.maps.event.removeListener(re),xe(google.maps.event.addListener(w,"bounds_changed",S)))},[S]),h.useEffect(()=>{const pe=new google.maps.Rectangle(Object.assign(Object.assign({},t||{}),{map:v}));return typeof s<"u"&&pe.setVisible(s),typeof r<"u"&&pe.setEditable(r),typeof n<"u"&&pe.setDraggable(n),typeof e<"u"&&pe.setBounds(e),i&&_(google.maps.event.addListener(pe,"dblclick",i)),o&&C(google.maps.event.addListener(pe,"dragend",o)),a&&M(google.maps.event.addListener(pe,"dragstart",a)),l&&H(google.maps.event.addListener(pe,"mousedown",l)),u&&le(google.maps.event.addListener(pe,"mousemove",u)),c&&ce(google.maps.event.addListener(pe,"mouseout",c)),d&&$(google.maps.event.addListener(pe,"mouseover",d)),f&&K(google.maps.event.addListener(pe,"mouseup",f)),p&&V(google.maps.event.addListener(pe,"rightclick",p)),y&&Le(google.maps.event.addListener(pe,"click",y)),E&&Y(google.maps.event.addListener(pe,"drag",E)),S&&xe(google.maps.event.addListener(pe,"bounds_changed",S)),k(pe),m&&m(pe),()=>{L!==null&&google.maps.event.removeListener(L),I!==null&&google.maps.event.removeListener(I),T!==null&&google.maps.event.removeListener(T),z!==null&&google.maps.event.removeListener(z),q!==null&&google.maps.event.removeListener(q),J!==null&&google.maps.event.removeListener(J),R!==null&&google.maps.event.removeListener(R),j!==null&&google.maps.event.removeListener(j),G!==null&&google.maps.event.removeListener(G),A!==null&&google.maps.event.removeListener(A),he!==null&&google.maps.event.removeListener(he),re!==null&&google.maps.event.removeListener(re),g&&g(pe),pe.setMap(null)}},[]),null}h.memo($T);class jT extends h.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.state={rectangle:null},this.setRectangleCallback=()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)}}componentDidMount(){const e=new google.maps.Rectangle(Object.assign(Object.assign({},this.props.options||{}),{map:this.context}));this.registeredEvents=se({updaterMap:av,eventMap:ov,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){this.state.rectangle!==null&&(ie(this.registeredEvents),this.registeredEvents=se({updaterMap:av,eventMap:ov,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),ie(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}jT.contextType=ne;const lv={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},uv={center(t,e){t.setCenter(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},radius(t,e){t.setRadius(e)},visible(t,e){t.setVisible(e)}},FT={};function UT({options:t,center:e,radius:n,draggable:r,editable:s,visible:i,onDblClick:o,onDragEnd:a,onDragStart:l,onMouseDown:u,onMouseMove:c,onMouseOut:d,onMouseOver:f,onMouseUp:p,onRightClick:y,onClick:E,onDrag:S,onCenterChanged:m,onRadiusChanged:g,onLoad:v,onUnmount:w}){const k=h.useContext(ne),[L,_]=h.useState(null),[I,C]=h.useState(null),[T,M]=h.useState(null),[z,H]=h.useState(null),[q,le]=h.useState(null),[J,ce]=h.useState(null),[R,$]=h.useState(null),[j,K]=h.useState(null),[G,V]=h.useState(null),[A,Le]=h.useState(null),[he,Y]=h.useState(null),[re,xe]=h.useState(null),[pe,Yt]=h.useState(null),[Ln,ci]=h.useState(null);return h.useEffect(()=>{L!==null&&L.setMap(k)},[k]),h.useEffect(()=>{typeof t<"u"&&L!==null&&L.setOptions(t)},[L,t]),h.useEffect(()=>{typeof r<"u"&&L!==null&&L.setDraggable(r)},[L,r]),h.useEffect(()=>{typeof s<"u"&&L!==null&&L.setEditable(s)},[L,s]),h.useEffect(()=>{typeof i<"u"&&L!==null&&L.setVisible(i)},[L,i]),h.useEffect(()=>{typeof n=="number"&&L!==null&&L.setRadius(n)},[L,n]),h.useEffect(()=>{typeof e<"u"&&L!==null&&L.setCenter(e)},[L,e]),h.useEffect(()=>{L&&o&&(I!==null&&google.maps.event.removeListener(I),C(google.maps.event.addListener(L,"dblclick",o)))},[o]),h.useEffect(()=>{L&&a&&(T!==null&&google.maps.event.removeListener(T),M(google.maps.event.addListener(L,"dragend",a)))},[a]),h.useEffect(()=>{L&&l&&(z!==null&&google.maps.event.removeListener(z),H(google.maps.event.addListener(L,"dragstart",l)))},[l]),h.useEffect(()=>{L&&u&&(q!==null&&google.maps.event.removeListener(q),le(google.maps.event.addListener(L,"mousedown",u)))},[u]),h.useEffect(()=>{L&&c&&(J!==null&&google.maps.event.removeListener(J),ce(google.maps.event.addListener(L,"mousemove",c)))},[c]),h.useEffect(()=>{L&&d&&(R!==null&&google.maps.event.removeListener(R),$(google.maps.event.addListener(L,"mouseout",d)))},[d]),h.useEffect(()=>{L&&f&&(j!==null&&google.maps.event.removeListener(j),K(google.maps.event.addListener(L,"mouseover",f)))},[f]),h.useEffect(()=>{L&&p&&(G!==null&&google.maps.event.removeListener(G),V(google.maps.event.addListener(L,"mouseup",p)))},[p]),h.useEffect(()=>{L&&y&&(A!==null&&google.maps.event.removeListener(A),Le(google.maps.event.addListener(L,"rightclick",y)))},[y]),h.useEffect(()=>{L&&E&&(he!==null&&google.maps.event.removeListener(he),Y(google.maps.event.addListener(L,"click",E)))},[E]),h.useEffect(()=>{L&&S&&(re!==null&&google.maps.event.removeListener(re),xe(google.maps.event.addListener(L,"drag",S)))},[S]),h.useEffect(()=>{L&&m&&(pe!==null&&google.maps.event.removeListener(pe),Yt(google.maps.event.addListener(L,"center_changed",m)))},[E]),h.useEffect(()=>{L&&g&&(Ln!==null&&google.maps.event.removeListener(Ln),ci(google.maps.event.addListener(L,"radius_changed",g)))},[g]),h.useEffect(()=>{const Ee=new google.maps.Circle(Object.assign(Object.assign({},t||FT),{map:k}));return typeof n=="number"&&Ee.setRadius(n),typeof e<"u"&&Ee.setCenter(e),typeof n=="number"&&Ee.setRadius(n),typeof i<"u"&&Ee.setVisible(i),typeof s<"u"&&Ee.setEditable(s),typeof r<"u"&&Ee.setDraggable(r),o&&C(google.maps.event.addListener(Ee,"dblclick",o)),a&&M(google.maps.event.addListener(Ee,"dragend",a)),l&&H(google.maps.event.addListener(Ee,"dragstart",l)),u&&le(google.maps.event.addListener(Ee,"mousedown",u)),c&&ce(google.maps.event.addListener(Ee,"mousemove",c)),d&&$(google.maps.event.addListener(Ee,"mouseout",d)),f&&K(google.maps.event.addListener(Ee,"mouseover",f)),p&&V(google.maps.event.addListener(Ee,"mouseup",p)),y&&Le(google.maps.event.addListener(Ee,"rightclick",y)),E&&Y(google.maps.event.addListener(Ee,"click",E)),S&&xe(google.maps.event.addListener(Ee,"drag",S)),m&&Yt(google.maps.event.addListener(Ee,"center_changed",m)),g&&ci(google.maps.event.addListener(Ee,"radius_changed",g)),_(Ee),v&&v(Ee),()=>{I!==null&&google.maps.event.removeListener(I),T!==null&&google.maps.event.removeListener(T),z!==null&&google.maps.event.removeListener(z),q!==null&&google.maps.event.removeListener(q),J!==null&&google.maps.event.removeListener(J),R!==null&&google.maps.event.removeListener(R),j!==null&&google.maps.event.removeListener(j),G!==null&&google.maps.event.removeListener(G),A!==null&&google.maps.event.removeListener(A),he!==null&&google.maps.event.removeListener(he),pe!==null&&google.maps.event.removeListener(pe),Ln!==null&&google.maps.event.removeListener(Ln),w&&w(Ee),Ee.setMap(null)}},[]),null}h.memo(UT);class BT extends h.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.state={circle:null},this.setCircleCallback=()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)}}componentDidMount(){const e=new google.maps.Circle(Object.assign(Object.assign({},this.props.options||{}),{map:this.context}));this.registeredEvents=se({updaterMap:uv,eventMap:lv,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){this.state.circle!==null&&(ie(this.registeredEvents),this.registeredEvents=se({updaterMap:uv,eventMap:lv,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){this.state.circle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.circle),ie(this.registeredEvents),this.state.circle&&this.state.circle.setMap(null))}render(){return null}}BT.contextType=ne;const cv={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},hv={add(t,e){t.add(e)},addgeojson(t,e,n){t.addGeoJson(e,n)},contains(t,e){t.contains(e)},foreach(t,e){t.forEach(e)},loadgeojson(t,e,n,r){t.loadGeoJson(e,n,r)},overridestyle(t,e,n){t.overrideStyle(e,n)},remove(t,e){t.remove(e)},revertstyle(t,e){t.revertStyle(e)},controlposition(t,e){t.setControlPosition(e)},controls(t,e){t.setControls(e)},drawingmode(t,e){t.setDrawingMode(e)},map(t,e){t.setMap(e)},style(t,e){t.setStyle(e)},togeojson(t,e){t.toGeoJson(e)}};function zT({options:t,onClick:e,onDblClick:n,onMouseDown:r,onMouseMove:s,onMouseOut:i,onMouseOver:o,onMouseUp:a,onRightClick:l,onAddFeature:u,onRemoveFeature:c,onRemoveProperty:d,onSetGeometry:f,onSetProperty:p,onLoad:y,onUnmount:E}){const S=h.useContext(ne),[m,g]=h.useState(null),[v,w]=h.useState(null),[k,L]=h.useState(null),[_,I]=h.useState(null),[C,T]=h.useState(null),[M,z]=h.useState(null),[H,q]=h.useState(null),[le,J]=h.useState(null),[ce,R]=h.useState(null),[$,j]=h.useState(null),[K,G]=h.useState(null),[V,A]=h.useState(null),[Le,he]=h.useState(null),[Y,re]=h.useState(null);return h.useEffect(()=>{m!==null&&m.setMap(S)},[S]),h.useEffect(()=>{m&&n&&(v!==null&&google.maps.event.removeListener(v),w(google.maps.event.addListener(m,"dblclick",n)))},[n]),h.useEffect(()=>{m&&r&&(k!==null&&google.maps.event.removeListener(k),L(google.maps.event.addListener(m,"mousedown",r)))},[r]),h.useEffect(()=>{m&&s&&(_!==null&&google.maps.event.removeListener(_),I(google.maps.event.addListener(m,"mousemove",s)))},[s]),h.useEffect(()=>{m&&i&&(C!==null&&google.maps.event.removeListener(C),T(google.maps.event.addListener(m,"mouseout",i)))},[i]),h.useEffect(()=>{m&&o&&(M!==null&&google.maps.event.removeListener(M),z(google.maps.event.addListener(m,"mouseover",o)))},[o]),h.useEffect(()=>{m&&a&&(H!==null&&google.maps.event.removeListener(H),q(google.maps.event.addListener(m,"mouseup",a)))},[a]),h.useEffect(()=>{m&&l&&(le!==null&&google.maps.event.removeListener(le),J(google.maps.event.addListener(m,"rightclick",l)))},[l]),h.useEffect(()=>{m&&e&&(ce!==null&&google.maps.event.removeListener(ce),R(google.maps.event.addListener(m,"click",e)))},[e]),h.useEffect(()=>{m&&u&&($!==null&&google.maps.event.removeListener($),j(google.maps.event.addListener(m,"addfeature",u)))},[u]),h.useEffect(()=>{m&&c&&(K!==null&&google.maps.event.removeListener(K),G(google.maps.event.addListener(m,"removefeature",c)))},[c]),h.useEffect(()=>{m&&d&&(V!==null&&google.maps.event.removeListener(V),A(google.maps.event.addListener(m,"removeproperty",d)))},[d]),h.useEffect(()=>{m&&f&&(Le!==null&&google.maps.event.removeListener(Le),he(google.maps.event.addListener(m,"setgeometry",f)))},[f]),h.useEffect(()=>{m&&p&&(Y!==null&&google.maps.event.removeListener(Y),re(google.maps.event.addListener(m,"setproperty",p)))},[p]),h.useEffect(()=>{if(S!==null){const xe=new google.maps.Data(Object.assign(Object.assign({},t||{}),{map:S}));n&&w(google.maps.event.addListener(xe,"dblclick",n)),r&&L(google.maps.event.addListener(xe,"mousedown",r)),s&&I(google.maps.event.addListener(xe,"mousemove",s)),i&&T(google.maps.event.addListener(xe,"mouseout",i)),o&&z(google.maps.event.addListener(xe,"mouseover",o)),a&&q(google.maps.event.addListener(xe,"mouseup",a)),l&&J(google.maps.event.addListener(xe,"rightclick",l)),e&&R(google.maps.event.addListener(xe,"click",e)),u&&j(google.maps.event.addListener(xe,"addfeature",u)),c&&G(google.maps.event.addListener(xe,"removefeature",c)),d&&A(google.maps.event.addListener(xe,"removeproperty",d)),f&&he(google.maps.event.addListener(xe,"setgeometry",f)),p&&re(google.maps.event.addListener(xe,"setproperty",p)),g(xe),y&&y(xe)}return()=>{m&&(v!==null&&google.maps.event.removeListener(v),k!==null&&google.maps.event.removeListener(k),_!==null&&google.maps.event.removeListener(_),C!==null&&google.maps.event.removeListener(C),M!==null&&google.maps.event.removeListener(M),H!==null&&google.maps.event.removeListener(H),le!==null&&google.maps.event.removeListener(le),ce!==null&&google.maps.event.removeListener(ce),$!==null&&google.maps.event.removeListener($),K!==null&&google.maps.event.removeListener(K),V!==null&&google.maps.event.removeListener(V),Le!==null&&google.maps.event.removeListener(Le),Y!==null&&google.maps.event.removeListener(Y),E&&E(m),m.setMap(null))}},[]),null}h.memo(zT);class VT extends h.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.state={data:null},this.setDataCallback=()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)}}componentDidMount(){if(this.context!==null){const e=new google.maps.Data(Object.assign(Object.assign({},this.props.options||{}),{map:this.context}));this.registeredEvents=se({updaterMap:hv,eventMap:cv,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){this.state.data!==null&&(ie(this.registeredEvents),this.registeredEvents=se({updaterMap:hv,eventMap:cv,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),ie(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}VT.contextType=ne;const dv={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},fv={options(t,e){t.setOptions(e)},url(t,e){t.setUrl(e)},zIndex(t,e){t.setZIndex(e)}};class HT extends h.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.state={kmlLayer:null},this.setKmlLayerCallback=()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)}}componentDidMount(){const e=new google.maps.KmlLayer(Object.assign(Object.assign({},this.props.options),{map:this.context}));this.registeredEvents=se({updaterMap:fv,eventMap:dv,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){this.state.kmlLayer!==null&&(ie(this.registeredEvents),this.registeredEvents=se({updaterMap:fv,eventMap:dv,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),ie(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}HT.contextType=ne;function T1(t,e){return typeof e=="function"?e(t.offsetWidth,t.offsetHeight):{x:0,y:0}}function WT(t,e){return new e(t.lat,t.lng)}function qT(t,e){return new e(new google.maps.LatLng(t.ne.lat,t.ne.lng),new google.maps.LatLng(t.sw.lat,t.sw.lng))}function KT(t,e,n){return t instanceof e?t:n(t,e)}function GT(t,e,n){return t instanceof e?t:n(t,e)}function QT(t,e,n){const r=t&&t.fromLatLngToDivPixel(n.getNorthEast()),s=t&&t.fromLatLngToDivPixel(n.getSouthWest());return r&&s?{left:`${s.x+e.x}px`,top:`${r.y+e.y}px`,width:`${r.x-s.x-e.x}px`,height:`${s.y-r.y-e.y}px`}:{left:"-9999px",top:"-9999px"}}function ZT(t,e,n){const r=t&&t.fromLatLngToDivPixel(n);if(r){const{x:s,y:i}=r;return{left:`${s+e.x}px`,top:`${i+e.y}px`}}return{left:"-9999px",top:"-9999px"}}function _1(t,e,n,r){return n!==void 0?QT(t,e,GT(n,google.maps.LatLngBounds,qT)):ZT(t,e,KT(r,google.maps.LatLng,WT))}function YT(t,e){return t.left===e.left&&t.top===e.top&&t.width===e.height&&t.height===e.height}function XT(t,e,n,r,s){class i extends google.maps.OverlayView{constructor(a,l,u,c){super(),this.container=a,this.pane=l,this.position=u,this.bounds=c}onAdd(){var a;const l=(a=this.getPanes())===null||a===void 0?void 0:a[this.pane];l==null||l.appendChild(this.container)}draw(){const a=this.getProjection(),l=Object.assign({},this.container?T1(this.container,s):{x:0,y:0}),u=_1(a,l,this.bounds,this.position);for(const[c,d]of Object.entries(u))this.container.style[c]=d}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new i(t,e,n,r)}function pv(t){return t?(t instanceof google.maps.LatLng?t:new google.maps.LatLng(t.lat,t.lng))+"":""}function mv(t){return t?(t instanceof google.maps.LatLngBounds?t:new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.east),new google.maps.LatLng(t.north,t.west)))+"":""}function JT({position:t,bounds:e,mapPaneName:n,zIndex:r,onLoad:s,onUnmount:i,getPixelPositionOffset:o,children:a}){const l=h.useContext(ne),u=h.useMemo(()=>{const d=document.createElement("div");return d.style.position="absolute",d},[]),c=h.useMemo(()=>XT(u,n,t,e,o),[u,n,t,e]);return h.useEffect(()=>(s==null||s(c),c==null||c.setMap(l),()=>{i==null||i(c),c==null||c.setMap(null)}),[l,c]),h.useEffect(()=>{u.style.zIndex=`${r}`},[r,u]),Jr.createPortal(a,u)}h.memo(JT);class Js extends h.PureComponent{constructor(e){super(e),this.state={paneEl:null,containerStyle:{position:"absolute"}},this.updatePane=()=>{const r=this.props.mapPaneName,s=this.overlayView.getPanes();Ke(!!r,"OverlayView requires props.mapPaneName but got %s",r),s?this.setState({paneEl:s[r]}):this.setState({paneEl:null})},this.onAdd=()=>{var r,s;this.updatePane(),(s=(r=this.props).onLoad)===null||s===void 0||s.call(r,this.overlayView)},this.onPositionElement=()=>{const r=this.overlayView.getProjection(),s=Object.assign({x:0,y:0},this.containerRef.current?T1(this.containerRef.current,this.props.getPixelPositionOffset):{}),i=_1(r,s,this.props.bounds,this.props.position),{left:o,top:a,width:l,height:u}=this.state.containerStyle;YT(i,{left:o,top:a,width:l,height:u})||this.setState({containerStyle:Object.assign(Object.assign({},i),{position:"absolute"})})},this.draw=()=>{this.onPositionElement()},this.onRemove=()=>{var r,s;this.setState(()=>({paneEl:null})),(s=(r=this.props).onUnmount)===null||s===void 0||s.call(r,this.overlayView)},this.containerRef=h.createRef();const n=new google.maps.OverlayView;n.onAdd=this.onAdd,n.draw=this.draw,n.onRemove=this.onRemove,this.overlayView=n}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){const n=pv(e.position),r=pv(this.props.position),s=mv(e.bounds),i=mv(this.props.bounds);(n!==r||s!==i)&&this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){const e=this.state.paneEl;return e?Jr.createPortal(x.jsx("div",Object.assign({ref:this.containerRef,style:this.state.containerStyle},{children:h.Children.only(this.props.children)})),e):null}}Js.FLOAT_PANE="floatPane";Js.MAP_PANE="mapPane";Js.MARKER_LAYER="markerLayer";Js.OVERLAY_LAYER="overlayLayer";Js.OVERLAY_MOUSE_TARGET="overlayMouseTarget";Js.contextType=ne;function e2(){}const gv={onDblClick:"dblclick",onClick:"click"},vv={opacity(t,e){t.setOpacity(e)}};function t2({url:t,bounds:e,options:n,visible:r}){const s=h.useContext(ne),i=new google.maps.LatLngBounds(new google.maps.LatLng(e.south,e.west),new google.maps.LatLng(e.north,e.east)),o=h.useMemo(()=>new google.maps.GroundOverlay(t,i,Object.assign({},n)),[]);return h.useEffect(()=>{o!==null&&o.setMap(s)},[s]),h.useEffect(()=>{typeof t<"u"&&o!==null&&(o.set("url",t),o.setMap(s))},[o,t]),h.useEffect(()=>{typeof r<"u"&&o!==null&&o.setOpacity(r?1:0)},[o,r]),h.useEffect(()=>{const a=new google.maps.LatLngBounds(new google.maps.LatLng(e.south,e.west),new google.maps.LatLng(e.north,e.east));typeof e<"u"&&o!==null&&(o.set("bounds",a),o.setMap(s))},[o,e]),null}h.memo(t2);class I1 extends h.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.state={groundOverlay:null},this.setGroundOverlayCallback=()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)}}componentDidMount(){Ke(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");const e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,Object.assign(Object.assign({},this.props.options),{map:this.context}));this.registeredEvents=se({updaterMap:vv,eventMap:gv,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){this.state.groundOverlay!==null&&(ie(this.registeredEvents),this.registeredEvents=se({updaterMap:vv,eventMap:gv,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}I1.defaultProps={onLoad:e2};I1.contextType=ne;const yv={},wv={data(t,e){t.setData(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)}};function n2({data:t,onLoad:e,onUnmount:n,options:r}){const s=h.useContext(ne),[i,o]=h.useState(null);return h.useEffect(()=>{google.maps.visualization||Ke(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),h.useEffect(()=>{Ke(!!t,"data property is required in HeatmapLayer %s",t)},[t]),h.useEffect(()=>{i!==null&&i.setMap(s)},[s]),h.useEffect(()=>{r&&i!==null&&i.setOptions(r)},[i,r]),h.useEffect(()=>{const a=new google.maps.visualization.HeatmapLayer(Object.assign(Object.assign({},r||{}),{data:t,map:s}));return o(a),e&&e(a),()=>{i!==null&&(n&&n(i),i.setMap(null))}},[]),null}h.memo(n2);class r2 extends h.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.state={heatmapLayer:null},this.setHeatmapLayerCallback=()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)}}componentDidMount(){Ke(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),Ke(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);const e=new google.maps.visualization.HeatmapLayer(Object.assign(Object.assign({},this.props.options||{}),{data:this.props.data,map:this.context}));this.registeredEvents=se({updaterMap:wv,eventMap:yv,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){ie(this.registeredEvents),this.registeredEvents=se({updaterMap:wv,eventMap:yv,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),ie(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}r2.contextType=ne;const Ev={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},xv={register(t,e,n){t.registerPanoProvider(e,n)},links(t,e){t.setLinks(e)},motionTracking(t,e){t.setMotionTracking(e)},options(t,e){t.setOptions(e)},pano(t,e){t.setPano(e)},position(t,e){t.setPosition(e)},pov(t,e){t.setPov(e)},visible(t,e){t.setVisible(e)},zoom(t,e){t.setZoom(e)}};class s2 extends h.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.state={streetViewPanorama:null},this.setStreetViewPanoramaCallback=()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)}}componentDidMount(){const e=this.context.getStreetView();this.registeredEvents=se({updaterMap:xv,eventMap:Ev,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({streetViewPanorama:e}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){this.state.streetViewPanorama!==null&&(ie(this.registeredEvents),this.registeredEvents=se({updaterMap:xv,eventMap:Ev,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),ie(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}s2.contextType=ne;class i2 extends h.PureComponent{constructor(){super(...arguments),this.state={streetViewService:null},this.setStreetViewServiceCallback=()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)}}componentDidMount(){const e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}i2.contextType=ne;const Sv={onDirectionsChanged:"directions_changed"},Lv={directions(t,e){t.setDirections(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},panel(t,e){t.setPanel(e)},routeIndex(t,e){t.setRouteIndex(e)}};class o2 extends h.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.state={directionsRenderer:null},this.setDirectionsRendererCallback=()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))}}componentDidMount(){const e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=se({updaterMap:Lv,eventMap:Sv,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){this.state.directionsRenderer!==null&&(ie(this.registeredEvents),this.registeredEvents=se({updaterMap:Lv,eventMap:Sv,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),ie(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return x.jsx(x.Fragment,{})}}o2.contextType=ne;const Cv={onPlacesChanged:"places_changed"},kv={bounds(t,e){t.setBounds(e)}};class a2 extends h.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.containerElement=h.createRef(),this.state={searchBox:null},this.setSearchBoxCallback=()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)}}componentDidMount(){if(Ke(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){const e=this.containerElement.current.querySelector("input");if(e!==null){const n=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=se({updaterMap:kv,eventMap:Cv,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{searchBox:n}},this.setSearchBoxCallback)}}}componentDidUpdate(e){this.state.searchBox!==null&&(ie(this.registeredEvents),this.registeredEvents=se({updaterMap:kv,eventMap:Cv,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),ie(this.registeredEvents))}render(){return x.jsx("div",Object.assign({ref:this.containerElement},{children:h.Children.only(this.props.children)}))}}a2.contextType=ne;const Tv={onPlaceChanged:"place_changed"},_v={bounds(t,e){t.setBounds(e)},restrictions(t,e){t.setComponentRestrictions(e)},fields(t,e){t.setFields(e)},options(t,e){t.setOptions(e)},types(t,e){t.setTypes(e)}};class b1 extends h.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.containerElement=h.createRef(),this.state={autocomplete:null},this.setAutocompleteCallback=()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)}}componentDidMount(){Ke(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);const e=this.containerElement.current.querySelector("input");if(e){const n=new google.maps.places.Autocomplete(e,this.props.options);this.registeredEvents=se({updaterMap:_v,eventMap:Tv,prevProps:{},nextProps:this.props,instance:n}),this.setState(()=>({autocomplete:n}),this.setAutocompleteCallback)}}componentDidUpdate(e){ie(this.registeredEvents),this.registeredEvents=se({updaterMap:_v,eventMap:Tv,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&ie(this.registeredEvents)}render(){return x.jsx("div",Object.assign({ref:this.containerElement,className:this.props.className},{children:h.Children.only(this.props.children)}))}}b1.defaultProps={className:""};b1.contextType=ne;/**
 * @remix-run/router v1.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mo(){return mo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mo.apply(this,arguments)}var Yn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Yn||(Yn={}));const Iv="popstate";function l2(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return td("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Vl(s)}return c2(e,n,null,t)}function Ve(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Bf(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function u2(){return Math.random().toString(36).substr(2,8)}function bv(t,e){return{usr:t.state,key:t.key,idx:e}}function td(t,e,n,r){return n===void 0&&(n=null),mo({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ei(e):e,{state:n,key:e&&e.key||r||u2()})}function Vl(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ei(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function c2(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Yn.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(mo({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=Yn.Pop;let S=c(),m=S==null?null:S-u;u=S,l&&l({action:a,location:E.location,delta:m})}function f(S,m){a=Yn.Push;let g=td(E.location,S,m);n&&n(g,S),u=c()+1;let v=bv(g,u),w=E.createHref(g);try{o.pushState(v,"",w)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(w)}i&&l&&l({action:a,location:E.location,delta:1})}function p(S,m){a=Yn.Replace;let g=td(E.location,S,m);n&&n(g,S),u=c();let v=bv(g,u),w=E.createHref(g);o.replaceState(v,"",w),i&&l&&l({action:a,location:E.location,delta:0})}function y(S){let m=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof S=="string"?S:Vl(S);return Ve(m,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,m)}let E={get action(){return a},get location(){return t(s,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Iv,d),l=S,()=>{s.removeEventListener(Iv,d),l=null}},createHref(S){return e(s,S)},createURL:y,encodeLocation(S){let m=y(S);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:p,go(S){return o.go(S)}};return E}var Nv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Nv||(Nv={}));function h2(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?ei(e):e,s=zf(r.pathname||"/",n);if(s==null)return null;let i=N1(t);d2(i);let o=null;for(let a=0;o==null&&a<i.length;++a)o=x2(i[a],C2(s));return o}function N1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Ve(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=ar([r,l.relativePath]),c=n.concat(l);i.children&&i.children.length>0&&(Ve(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),N1(i.children,e,c,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:w2(u,i.index),routesMeta:c})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of R1(i.path))s(i,o,l)}),e}function R1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=R1(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function d2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:E2(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const f2=/^:\w+$/,p2=3,m2=2,g2=1,v2=10,y2=-2,Rv=t=>t==="*";function w2(t,e){let n=t.split("/"),r=n.length;return n.some(Rv)&&(r+=y2),e&&(r+=m2),n.filter(s=>!Rv(s)).reduce((s,i)=>s+(f2.test(i)?p2:i===""?g2:v2),r)}function E2(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function x2(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=s==="/"?e:e.slice(s.length)||"/",c=S2({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;i.push({params:r,pathname:ar([s,c.pathname]),pathnameBase:I2(ar([s,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(s=ar([s,c.pathnameBase]))}return i}function S2(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=L2(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,c,d)=>{if(c==="*"){let f=a[d]||"";o=i.slice(0,i.length-f.length).replace(/(.)\/+$/,"$1")}return u[c]=k2(a[d]||"",c),u},{}),pathname:i,pathnameBase:o,pattern:t}}function L2(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Bf(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function C2(t){try{return decodeURI(t)}catch(e){return Bf(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function k2(t,e){try{return decodeURIComponent(t)}catch(n){return Bf(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function zf(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function T2(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ei(t):t;return{pathname:n?n.startsWith("/")?n:_2(n,e):e,search:b2(r),hash:N2(s)}}function _2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Mc(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function P1(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function A1(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=ei(t):(s=mo({},t),Ve(!s.pathname||!s.pathname.includes("?"),Mc("?","pathname","search",s)),Ve(!s.pathname||!s.pathname.includes("#"),Mc("#","pathname","hash",s)),Ve(!s.search||!s.search.includes("#"),Mc("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(r||o==null)a=n;else{let d=e.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=T2(s,a),u=o&&o!=="/"&&o.endsWith("/"),c=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const ar=t=>t.join("/").replace(/\/\/+/g,"/"),I2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),b2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,N2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function R2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const D1=["post","put","patch","delete"];new Set(D1);const P2=["get",...D1];new Set(P2);/**
 * React Router v6.12.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hl(){return Hl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hl.apply(this,arguments)}const Vf=h.createContext(null),A2=h.createContext(null),ti=h.createContext(null),Cu=h.createContext(null),Sr=h.createContext({outlet:null,matches:[],isDataRoute:!1}),M1=h.createContext(null);function D2(t,e){let{relative:n}=e===void 0?{}:e;Fo()||Ve(!1);let{basename:r,navigator:s}=h.useContext(ti),{hash:i,pathname:o,search:a}=$1(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ar([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Fo(){return h.useContext(Cu)!=null}function ni(){return Fo()||Ve(!1),h.useContext(Cu).location}function O1(t){h.useContext(ti).static||h.useLayoutEffect(t)}function Un(){let{isDataRoute:t}=h.useContext(Sr);return t?K2():M2()}function M2(){Fo()||Ve(!1);let t=h.useContext(Vf),{basename:e,navigator:n}=h.useContext(ti),{matches:r}=h.useContext(Sr),{pathname:s}=ni(),i=JSON.stringify(P1(r).map(l=>l.pathnameBase)),o=h.useRef(!1);return O1(()=>{o.current=!0}),h.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=A1(l,JSON.parse(i),s,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:ar([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,i,s,t])}function Hf(){let{matches:t}=h.useContext(Sr),e=t[t.length-1];return e?e.params:{}}function $1(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=h.useContext(Sr),{pathname:s}=ni(),i=JSON.stringify(P1(r).map(o=>o.pathnameBase));return h.useMemo(()=>A1(t,JSON.parse(i),s,n==="path"),[t,i,s,n])}function O2(t,e){return $2(t,e)}function $2(t,e,n){Fo()||Ve(!1);let{navigator:r}=h.useContext(ti),{matches:s}=h.useContext(Sr),i=s[s.length-1],o=i?i.params:{};i&&i.pathname;let a=i?i.pathnameBase:"/";i&&i.route;let l=ni(),u;if(e){var c;let E=typeof e=="string"?ei(e):e;a==="/"||(c=E.pathname)!=null&&c.startsWith(a)||Ve(!1),u=E}else u=l;let d=u.pathname||"/",f=a==="/"?d:d.slice(a.length)||"/",p=h2(t,{pathname:f}),y=z2(p&&p.map(E=>Object.assign({},E,{params:Object.assign({},o,E.params),pathname:ar([a,r.encodeLocation?r.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?a:ar([a,r.encodeLocation?r.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,n);return e&&y?h.createElement(Cu.Provider,{value:{location:Hl({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Yn.Pop}},y):y}function j2(){let t=q2(),e=R2(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},e),n?h.createElement("pre",{style:s},n):null,i)}const F2=h.createElement(j2,null);class U2 extends h.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?h.createElement(Sr.Provider,{value:this.props.routeContext},h.createElement(M1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function B2(t){let{routeContext:e,match:n,children:r}=t,s=h.useContext(Vf);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),h.createElement(Sr.Provider,{value:e},r)}function z2(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let i=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=i.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||Ve(!1),i=i.slice(0,Math.min(i.length,a+1))}return i.reduceRight((a,l,u)=>{let c=l.route.id?o==null?void 0:o[l.route.id]:null,d=null;n&&(d=l.route.errorElement||F2);let f=e.concat(i.slice(0,u+1)),p=()=>{let y;return c?y=d:l.route.Component?y=h.createElement(l.route.Component,null):l.route.element?y=l.route.element:y=a,h.createElement(B2,{match:l,routeContext:{outlet:a,matches:f,isDataRoute:n!=null},children:y})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?h.createElement(U2,{location:n.location,revalidation:n.revalidation,component:d,error:c,children:p(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):p()},null)}var nd;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(nd||(nd={}));var go;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(go||(go={}));function V2(t){let e=h.useContext(Vf);return e||Ve(!1),e}function H2(t){let e=h.useContext(A2);return e||Ve(!1),e}function W2(t){let e=h.useContext(Sr);return e||Ve(!1),e}function j1(t){let e=W2(),n=e.matches[e.matches.length-1];return n.route.id||Ve(!1),n.route.id}function q2(){var t;let e=h.useContext(M1),n=H2(go.UseRouteError),r=j1(go.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function K2(){let{router:t}=V2(nd.UseNavigateStable),e=j1(go.UseNavigateStable),n=h.useRef(!1);return O1(()=>{n.current=!0}),h.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Hl({fromRouteId:e},i)))},[t,e])}function un(t){Ve(!1)}function G2(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Yn.Pop,navigator:i,static:o=!1}=t;Fo()&&Ve(!1);let a=e.replace(/^\/*/,"/"),l=h.useMemo(()=>({basename:a,navigator:i,static:o}),[a,i,o]);typeof r=="string"&&(r=ei(r));let{pathname:u="/",search:c="",hash:d="",state:f=null,key:p="default"}=r,y=h.useMemo(()=>{let E=zf(u,a);return E==null?null:{location:{pathname:E,search:c,hash:d,state:f,key:p},navigationType:s}},[a,u,c,d,f,p,s]);return y==null?null:h.createElement(ti.Provider,{value:l},h.createElement(Cu.Provider,{children:n,value:y}))}function Q2(t){let{children:e,location:n}=t;return O2(rd(e),n)}var Pv;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(Pv||(Pv={}));new Promise(()=>{});function rd(t,e){e===void 0&&(e=[]);let n=[];return h.Children.forEach(t,(r,s)=>{if(!h.isValidElement(r))return;let i=[...e,s];if(r.type===h.Fragment){n.push.apply(n,rd(r.props.children,i));return}r.type!==un&&Ve(!1),!r.props.index||!r.props.children||Ve(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=rd(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.12.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sd(){return sd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sd.apply(this,arguments)}function Z2(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Y2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function X2(t,e){return t.button===0&&(!e||e==="_self")&&!Y2(t)}const J2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],Av="startTransition";function e_(t){let{basename:e,children:n,window:r}=t,s=h.useRef();s.current==null&&(s.current=l2({window:r,v5Compat:!0}));let i=s.current,[o,a]=h.useState({action:i.action,location:i.location}),l=h.useCallback(u=>{Av in Im?Im[Av](()=>a(u)):a(u)},[a]);return h.useLayoutEffect(()=>i.listen(l),[i,l]),h.createElement(G2,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:i})}const t_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",n_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,id=h.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:c}=e,d=Z2(e,J2),{basename:f}=h.useContext(ti),p,y=!1;if(typeof u=="string"&&n_.test(u)&&(p=u,t_))try{let g=new URL(window.location.href),v=u.startsWith("//")?new URL(g.protocol+u):new URL(u),w=zf(v.pathname,f);v.origin===g.origin&&w!=null?u=w+v.search+v.hash:y=!0}catch{}let E=D2(u,{relative:s}),S=r_(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:s});function m(g){r&&r(g),g.defaultPrevented||S(g)}return h.createElement("a",sd({},d,{href:p||E,onClick:y||i?r:m,ref:n,target:l}))});var Dv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(Dv||(Dv={}));var Mv;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Mv||(Mv={}));function r_(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o}=e===void 0?{}:e,a=Un(),l=ni(),u=$1(t,{relative:o});return h.useCallback(c=>{if(X2(c,n)){c.preventDefault();let d=r!==void 0?r:Vl(l)===Vl(u);a(t,{replace:d,state:s,preventScrollReset:i,relative:o})}},[l,a,u,r,s,n,t,i,o])}function F1(t,e){return function(){return t.apply(e,arguments)}}const{toString:s_}=Object.prototype,{getPrototypeOf:Wf}=Object,ku=(t=>e=>{const n=s_.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Sn=t=>(t=t.toLowerCase(),e=>ku(e)===t),Tu=t=>e=>typeof e===t,{isArray:ri}=Array,vo=Tu("undefined");function i_(t){return t!==null&&!vo(t)&&t.constructor!==null&&!vo(t.constructor)&&Gt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const U1=Sn("ArrayBuffer");function o_(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&U1(t.buffer),e}const a_=Tu("string"),Gt=Tu("function"),B1=Tu("number"),_u=t=>t!==null&&typeof t=="object",l_=t=>t===!0||t===!1,ul=t=>{if(ku(t)!=="object")return!1;const e=Wf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},u_=Sn("Date"),c_=Sn("File"),h_=Sn("Blob"),d_=Sn("FileList"),f_=t=>_u(t)&&Gt(t.pipe),p_=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Gt(t.append)&&((e=ku(t))==="formdata"||e==="object"&&Gt(t.toString)&&t.toString()==="[object FormData]"))},m_=Sn("URLSearchParams"),g_=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Uo(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),ri(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let a;for(r=0;r<o;r++)a=i[r],e.call(null,t[a],a,t)}}function z1(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const V1=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),H1=t=>!vo(t)&&t!==V1;function od(){const{caseless:t}=H1(this)&&this||{},e={},n=(r,s)=>{const i=t&&z1(e,s)||s;ul(e[i])&&ul(r)?e[i]=od(e[i],r):ul(r)?e[i]=od({},r):ri(r)?e[i]=r.slice():e[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Uo(arguments[r],n);return e}const v_=(t,e,n,{allOwnKeys:r}={})=>(Uo(e,(s,i)=>{n&&Gt(s)?t[i]=F1(s,n):t[i]=s},{allOwnKeys:r}),t),y_=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),w_=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},E_=(t,e,n,r)=>{let s,i,o;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)o=s[i],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&Wf(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},x_=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},S_=t=>{if(!t)return null;if(ri(t))return t;let e=t.length;if(!B1(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},L_=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Wf(Uint8Array)),C_=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},k_=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},T_=Sn("HTMLFormElement"),__=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),Ov=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),I_=Sn("RegExp"),W1=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Uo(n,(s,i)=>{e(s,i,t)!==!1&&(r[i]=s)}),Object.defineProperties(t,r)},b_=t=>{W1(t,(e,n)=>{if(Gt(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Gt(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},N_=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return ri(t)?r(t):r(String(t).split(e)),n},R_=()=>{},P_=(t,e)=>(t=+t,Number.isFinite(t)?t:e),Oc="abcdefghijklmnopqrstuvwxyz",$v="0123456789",q1={DIGIT:$v,ALPHA:Oc,ALPHA_DIGIT:Oc+Oc.toUpperCase()+$v},A_=(t=16,e=q1.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function D_(t){return!!(t&&Gt(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const M_=t=>{const e=new Array(10),n=(r,s)=>{if(_u(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const i=ri(r)?[]:{};return Uo(r,(o,a)=>{const l=n(o,s+1);!vo(l)&&(i[a]=l)}),e[s]=void 0,i}}return r};return n(t,0)},O_=Sn("AsyncFunction"),$_=t=>t&&(_u(t)||Gt(t))&&Gt(t.then)&&Gt(t.catch),b={isArray:ri,isArrayBuffer:U1,isBuffer:i_,isFormData:p_,isArrayBufferView:o_,isString:a_,isNumber:B1,isBoolean:l_,isObject:_u,isPlainObject:ul,isUndefined:vo,isDate:u_,isFile:c_,isBlob:h_,isRegExp:I_,isFunction:Gt,isStream:f_,isURLSearchParams:m_,isTypedArray:L_,isFileList:d_,forEach:Uo,merge:od,extend:v_,trim:g_,stripBOM:y_,inherits:w_,toFlatObject:E_,kindOf:ku,kindOfTest:Sn,endsWith:x_,toArray:S_,forEachEntry:C_,matchAll:k_,isHTMLForm:T_,hasOwnProperty:Ov,hasOwnProp:Ov,reduceDescriptors:W1,freezeMethods:b_,toObjectSet:N_,toCamelCase:__,noop:R_,toFiniteNumber:P_,findKey:z1,global:V1,isContextDefined:H1,ALPHABET:q1,generateString:A_,isSpecCompliantForm:D_,toJSONObject:M_,isAsyncFn:O_,isThenable:$_};function de(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s)}b.inherits(de,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:b.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const K1=de.prototype,G1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{G1[t]={value:t}});Object.defineProperties(de,G1);Object.defineProperty(K1,"isAxiosError",{value:!0});de.from=(t,e,n,r,s,i)=>{const o=Object.create(K1);return b.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),de.call(o,t.message,e,n,r,s),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const j_=null;function ad(t){return b.isPlainObject(t)||b.isArray(t)}function Q1(t){return b.endsWith(t,"[]")?t.slice(0,-2):t}function jv(t,e,n){return t?t.concat(e).map(function(s,i){return s=Q1(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function F_(t){return b.isArray(t)&&!t.some(ad)}const U_=b.toFlatObject(b,{},null,function(e){return/^is[A-Z]/.test(e)});function Iu(t,e,n){if(!b.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=b.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(E,S){return!b.isUndefined(S[E])});const r=n.metaTokens,s=n.visitor||c,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&b.isSpecCompliantForm(e);if(!b.isFunction(s))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(b.isDate(y))return y.toISOString();if(!l&&b.isBlob(y))throw new de("Blob is not supported. Use a Buffer instead.");return b.isArrayBuffer(y)||b.isTypedArray(y)?l&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function c(y,E,S){let m=y;if(y&&!S&&typeof y=="object"){if(b.endsWith(E,"{}"))E=r?E:E.slice(0,-2),y=JSON.stringify(y);else if(b.isArray(y)&&F_(y)||(b.isFileList(y)||b.endsWith(E,"[]"))&&(m=b.toArray(y)))return E=Q1(E),m.forEach(function(v,w){!(b.isUndefined(v)||v===null)&&e.append(o===!0?jv([E],w,i):o===null?E:E+"[]",u(v))}),!1}return ad(y)?!0:(e.append(jv(S,E,i),u(y)),!1)}const d=[],f=Object.assign(U_,{defaultVisitor:c,convertValue:u,isVisitable:ad});function p(y,E){if(!b.isUndefined(y)){if(d.indexOf(y)!==-1)throw Error("Circular reference detected in "+E.join("."));d.push(y),b.forEach(y,function(m,g){(!(b.isUndefined(m)||m===null)&&s.call(e,m,b.isString(g)?g.trim():g,E,f))===!0&&p(m,E?E.concat(g):[g])}),d.pop()}}if(!b.isObject(t))throw new TypeError("data must be an object");return p(t),e}function Fv(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function qf(t,e){this._pairs=[],t&&Iu(t,this,e)}const Z1=qf.prototype;Z1.append=function(e,n){this._pairs.push([e,n])};Z1.toString=function(e){const n=e?function(r){return e.call(this,r,Fv)}:Fv;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function B_(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Y1(t,e,n){if(!e)return t;const r=n&&n.encode||B_,s=n&&n.serialize;let i;if(s?i=s(e,n):i=b.isURLSearchParams(e)?e.toString():new qf(e,n).toString(r),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class z_{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){b.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Uv=z_,X1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},V_=typeof URLSearchParams<"u"?URLSearchParams:qf,H_=typeof FormData<"u"?FormData:null,W_=typeof Blob<"u"?Blob:null,q_=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),K_=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),fn={isBrowser:!0,classes:{URLSearchParams:V_,FormData:H_,Blob:W_},isStandardBrowserEnv:q_,isStandardBrowserWebWorkerEnv:K_,protocols:["http","https","file","blob","url","data"]};function G_(t,e){return Iu(t,new fn.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return fn.isNode&&b.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function Q_(t){return b.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Z_(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function J1(t){function e(n,r,s,i){let o=n[i++];const a=Number.isFinite(+o),l=i>=n.length;return o=!o&&b.isArray(s)?s.length:o,l?(b.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!b.isObject(s[o]))&&(s[o]=[]),e(n,r,s[o],i)&&b.isArray(s[o])&&(s[o]=Z_(s[o])),!a)}if(b.isFormData(t)&&b.isFunction(t.entries)){const n={};return b.forEachEntry(t,(r,s)=>{e(Q_(r),s,n,0)}),n}return null}const Y_={"Content-Type":void 0};function X_(t,e,n){if(b.isString(t))try{return(e||JSON.parse)(t),b.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const bu={transitional:X1,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=b.isObject(e);if(i&&b.isHTMLForm(e)&&(e=new FormData(e)),b.isFormData(e))return s&&s?JSON.stringify(J1(e)):e;if(b.isArrayBuffer(e)||b.isBuffer(e)||b.isStream(e)||b.isFile(e)||b.isBlob(e))return e;if(b.isArrayBufferView(e))return e.buffer;if(b.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return G_(e,this.formSerializer).toString();if((a=b.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Iu(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),X_(e)):e}],transformResponse:[function(e){const n=this.transitional||bu.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(e&&b.isString(e)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?de.from(a,de.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:fn.classes.FormData,Blob:fn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};b.forEach(["delete","get","head"],function(e){bu.headers[e]={}});b.forEach(["post","put","patch"],function(e){bu.headers[e]=b.merge(Y_)});const Kf=bu,J_=b.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),eI=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||e[n]&&J_[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Bv=Symbol("internals");function xi(t){return t&&String(t).trim().toLowerCase()}function cl(t){return t===!1||t==null?t:b.isArray(t)?t.map(cl):String(t)}function tI(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const nI=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function $c(t,e,n,r,s){if(b.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!b.isString(e)){if(b.isString(r))return e.indexOf(r)!==-1;if(b.isRegExp(r))return r.test(e)}}function rI(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function sI(t,e){const n=b.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,o){return this[r].call(this,e,s,i,o)},configurable:!0})})}class Nu{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(a,l,u){const c=xi(l);if(!c)throw new Error("header name must be a non-empty string");const d=b.findKey(s,c);(!d||s[d]===void 0||u===!0||u===void 0&&s[d]!==!1)&&(s[d||l]=cl(a))}const o=(a,l)=>b.forEach(a,(u,c)=>i(u,c,l));return b.isPlainObject(e)||e instanceof this.constructor?o(e,n):b.isString(e)&&(e=e.trim())&&!nI(e)?o(eI(e),n):e!=null&&i(n,e,r),this}get(e,n){if(e=xi(e),e){const r=b.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return tI(s);if(b.isFunction(n))return n.call(this,s,r);if(b.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=xi(e),e){const r=b.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||$c(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(o){if(o=xi(o),o){const a=b.findKey(r,o);a&&(!n||$c(r,r[a],a,n))&&(delete r[a],s=!0)}}return b.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||$c(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return b.forEach(this,(s,i)=>{const o=b.findKey(r,i);if(o){n[o]=cl(s),delete n[i];return}const a=e?rI(i):String(i).trim();a!==i&&delete n[i],n[a]=cl(s),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return b.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&b.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[Bv]=this[Bv]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=xi(o);r[a]||(sI(s,o),r[a]=!0)}return b.isArray(e)?e.forEach(i):i(e),this}}Nu.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);b.freezeMethods(Nu.prototype);b.freezeMethods(Nu);const Nn=Nu;function jc(t,e){const n=this||Kf,r=e||n,s=Nn.from(r.headers);let i=r.data;return b.forEach(t,function(a){i=a.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function eE(t){return!!(t&&t.__CANCEL__)}function Bo(t,e,n){de.call(this,t??"canceled",de.ERR_CANCELED,e,n),this.name="CanceledError"}b.inherits(Bo,de,{__CANCEL__:!0});function iI(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new de("Request failed with status code "+n.status,[de.ERR_BAD_REQUEST,de.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const oI=fn.isStandardBrowserEnv?function(){return{write:function(n,r,s,i,o,a){const l=[];l.push(n+"="+encodeURIComponent(r)),b.isNumber(s)&&l.push("expires="+new Date(s).toGMTString()),b.isString(i)&&l.push("path="+i),b.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function aI(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function lI(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function tE(t,e){return t&&!aI(e)?lI(t,e):e}const uI=fn.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function s(i){let o=i;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=s(window.location.href),function(o){const a=b.isString(o)?s(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function cI(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function hI(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=r[i];o||(o=u),n[s]=l,r[s]=u;let d=i,f=0;for(;d!==s;)f+=n[d++],d=d%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),u-o<e)return;const p=c&&u-c;return p?Math.round(f*1e3/p):void 0}}function zv(t,e){let n=0;const r=hI(50,250);return s=>{const i=s.loaded,o=s.lengthComputable?s.total:void 0,a=i-n,l=r(a),u=i<=o;n=i;const c={loaded:i,total:o,progress:o?i/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&u?(o-i)/l:void 0,event:s};c[e?"download":"upload"]=!0,t(c)}}const dI=typeof XMLHttpRequest<"u",fI=dI&&function(t){return new Promise(function(n,r){let s=t.data;const i=Nn.from(t.headers).normalize(),o=t.responseType;let a;function l(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}b.isFormData(s)&&(fn.isStandardBrowserEnv||fn.isStandardBrowserWebWorkerEnv?i.setContentType(!1):i.setContentType("multipart/form-data;",!1));let u=new XMLHttpRequest;if(t.auth){const p=t.auth.username||"",y=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";i.set("Authorization","Basic "+btoa(p+":"+y))}const c=tE(t.baseURL,t.url);u.open(t.method.toUpperCase(),Y1(c,t.params,t.paramsSerializer),!0),u.timeout=t.timeout;function d(){if(!u)return;const p=Nn.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),E={data:!o||o==="text"||o==="json"?u.responseText:u.response,status:u.status,statusText:u.statusText,headers:p,config:t,request:u};iI(function(m){n(m),l()},function(m){r(m),l()},E),u=null}if("onloadend"in u?u.onloadend=d:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(d)},u.onabort=function(){u&&(r(new de("Request aborted",de.ECONNABORTED,t,u)),u=null)},u.onerror=function(){r(new de("Network Error",de.ERR_NETWORK,t,u)),u=null},u.ontimeout=function(){let y=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const E=t.transitional||X1;t.timeoutErrorMessage&&(y=t.timeoutErrorMessage),r(new de(y,E.clarifyTimeoutError?de.ETIMEDOUT:de.ECONNABORTED,t,u)),u=null},fn.isStandardBrowserEnv){const p=(t.withCredentials||uI(c))&&t.xsrfCookieName&&oI.read(t.xsrfCookieName);p&&i.set(t.xsrfHeaderName,p)}s===void 0&&i.setContentType(null),"setRequestHeader"in u&&b.forEach(i.toJSON(),function(y,E){u.setRequestHeader(E,y)}),b.isUndefined(t.withCredentials)||(u.withCredentials=!!t.withCredentials),o&&o!=="json"&&(u.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&u.addEventListener("progress",zv(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",zv(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=p=>{u&&(r(!p||p.type?new Bo(null,t,u):p),u.abort(),u=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const f=cI(c);if(f&&fn.protocols.indexOf(f)===-1){r(new de("Unsupported protocol "+f+":",de.ERR_BAD_REQUEST,t));return}u.send(s||null)})},hl={http:j_,xhr:fI};b.forEach(hl,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const pI={getAdapter:t=>{t=b.isArray(t)?t:[t];const{length:e}=t;let n,r;for(let s=0;s<e&&(n=t[s],!(r=b.isString(n)?hl[n.toLowerCase()]:n));s++);if(!r)throw r===!1?new de(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(b.hasOwnProp(hl,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!b.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:hl};function Fc(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Bo(null,t)}function Vv(t){return Fc(t),t.headers=Nn.from(t.headers),t.data=jc.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),pI.getAdapter(t.adapter||Kf.adapter)(t).then(function(r){return Fc(t),r.data=jc.call(t,t.transformResponse,r),r.headers=Nn.from(r.headers),r},function(r){return eE(r)||(Fc(t),r&&r.response&&(r.response.data=jc.call(t,t.transformResponse,r.response),r.response.headers=Nn.from(r.response.headers))),Promise.reject(r)})}const Hv=t=>t instanceof Nn?t.toJSON():t;function Fs(t,e){e=e||{};const n={};function r(u,c,d){return b.isPlainObject(u)&&b.isPlainObject(c)?b.merge.call({caseless:d},u,c):b.isPlainObject(c)?b.merge({},c):b.isArray(c)?c.slice():c}function s(u,c,d){if(b.isUndefined(c)){if(!b.isUndefined(u))return r(void 0,u,d)}else return r(u,c,d)}function i(u,c){if(!b.isUndefined(c))return r(void 0,c)}function o(u,c){if(b.isUndefined(c)){if(!b.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function a(u,c,d){if(d in e)return r(u,c);if(d in t)return r(void 0,u)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c)=>s(Hv(u),Hv(c),!0)};return b.forEach(Object.keys(Object.assign({},t,e)),function(c){const d=l[c]||s,f=d(t[c],e[c],c);b.isUndefined(f)&&d!==a||(n[c]=f)}),n}const nE="1.4.0",Gf={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Gf[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Wv={};Gf.transitional=function(e,n,r){function s(i,o){return"[Axios v"+nE+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(e===!1)throw new de(s(o," has been removed"+(n?" in "+n:"")),de.ERR_DEPRECATED);return n&&!Wv[o]&&(Wv[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,a):!0}};function mI(t,e,n){if(typeof t!="object")throw new de("options must be an object",de.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],o=e[i];if(o){const a=t[i],l=a===void 0||o(a,i,t);if(l!==!0)throw new de("option "+i+" must be "+l,de.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new de("Unknown option "+i,de.ERR_BAD_OPTION)}}const ld={assertOptions:mI,validators:Gf},zn=ld.validators;class Wl{constructor(e){this.defaults=e,this.interceptors={request:new Uv,response:new Uv}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Fs(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&ld.assertOptions(r,{silentJSONParsing:zn.transitional(zn.boolean),forcedJSONParsing:zn.transitional(zn.boolean),clarifyTimeoutError:zn.transitional(zn.boolean)},!1),s!=null&&(b.isFunction(s)?n.paramsSerializer={serialize:s}:ld.assertOptions(s,{encode:zn.function,serialize:zn.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o;o=i&&b.merge(i.common,i[n.method]),o&&b.forEach(["delete","get","head","post","put","patch","common"],y=>{delete i[y]}),n.headers=Nn.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(E){typeof E.runWhen=="function"&&E.runWhen(n)===!1||(l=l&&E.synchronous,a.unshift(E.fulfilled,E.rejected))});const u=[];this.interceptors.response.forEach(function(E){u.push(E.fulfilled,E.rejected)});let c,d=0,f;if(!l){const y=[Vv.bind(this),void 0];for(y.unshift.apply(y,a),y.push.apply(y,u),f=y.length,c=Promise.resolve(n);d<f;)c=c.then(y[d++],y[d++]);return c}f=a.length;let p=n;for(d=0;d<f;){const y=a[d++],E=a[d++];try{p=y(p)}catch(S){E.call(this,S);break}}try{c=Vv.call(this,p)}catch(y){return Promise.reject(y)}for(d=0,f=u.length;d<f;)c=c.then(u[d++],u[d++]);return c}getUri(e){e=Fs(this.defaults,e);const n=tE(e.baseURL,e.url);return Y1(n,e.params,e.paramsSerializer)}}b.forEach(["delete","get","head","options"],function(e){Wl.prototype[e]=function(n,r){return this.request(Fs(r||{},{method:e,url:n,data:(r||{}).data}))}});b.forEach(["post","put","patch"],function(e){function n(r){return function(i,o,a){return this.request(Fs(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Wl.prototype[e]=n(),Wl.prototype[e+"Form"]=n(!0)});const dl=Wl;class Qf{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i,o,a){r.reason||(r.reason=new Bo(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new Qf(function(s){e=s}),cancel:e}}}const gI=Qf;function vI(t){return function(n){return t.apply(null,n)}}function yI(t){return b.isObject(t)&&t.isAxiosError===!0}const ud={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ud).forEach(([t,e])=>{ud[e]=t});const wI=ud;function rE(t){const e=new dl(t),n=F1(dl.prototype.request,e);return b.extend(n,dl.prototype,e,{allOwnKeys:!0}),b.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return rE(Fs(t,s))},n}const Ge=rE(Kf);Ge.Axios=dl;Ge.CanceledError=Bo;Ge.CancelToken=gI;Ge.isCancel=eE;Ge.VERSION=nE;Ge.toFormData=Iu;Ge.AxiosError=de;Ge.Cancel=Ge.CanceledError;Ge.all=function(e){return Promise.all(e)};Ge.spread=vI;Ge.isAxiosError=yI;Ge.mergeConfig=Fs;Ge.AxiosHeaders=Nn;Ge.formToJSON=t=>J1(b.isHTMLForm(t)?new FormData(t):t);Ge.HttpStatusCode=wI;Ge.default=Ge;const mr=Ge,EI={width:"100%",height:"400px"},Uc={lat:-17.3312118,lng:-66.2285893},xI=()=>{const t=Un(),[e,n]=h.useState(""),[r,s]=h.useState(""),[i,o]=h.useState(""),[a,l]=h.useState(""),[u,c]=h.useState(""),[d,f]=h.useState(""),[p,y]=h.useState(""),[E,S]=h.useState(""),[m,g]=h.useState(""),[v,w]=h.useState(Uc),[k,L]=h.useState(null),{isLoaded:_}=zk({id:"google-map-script",googleMapsApiKey:"AIzaSyAafA-dKEkh5lqptUl2PQa81YBqpxU41Kc"}),I=T=>{const M=T.latLng.lat(),z=T.latLng.lng();w({lat:M,lng:z}),L({lat:M,lng:z})},C=async T=>{if(T.preventDefault(),console.log("Name:",e),console.log("RazonSocial:",r),console.log("NIT:",i),console.log("Representante:",a),console.log("Email:",u),console.log("Password:",d),console.log("Telefono:",p),console.log("Celular:",E),console.log("Address:",m),k){const{lat:M,lng:z}=k;console.log("Latitude:",M),console.log("Longitude:",z);try{const H=await mr.post("https://apidelasilo.azurewebsites.net/api/Asiloes",{nombre:e,razonSocial:r,nit:i,representante:a,email:u,password:d,telefono:p,celular:E,direccion:m,latitud:k==null?void 0:k.lat,longitud:k==null?void 0:k.lng});console.log("Respuesta de la API:",H.data)}catch(H){console.error("Error al enviar los datos:",H)}}n(""),s(""),o(""),l(""),c(""),f(""),y(""),S(""),g(""),w(Uc),t("/login")};return x.jsxs("div",{className:"bg-gradient-to-br from-red-100 via-red-300 to-blue-500 min-h-screen  items-center justify-center",children:[x.jsx("h1",{className:" text-black font-bold mb-5 ",children:"Registro de Asilo"}),x.jsxs("form",{onSubmit:C,className:"ml-20 mr-20 ",children:[x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{htmlFor:"nombre",className:"block text-sm font-medium  text-gray-700",children:"Nombre"}),x.jsx("input",{type:"text",id:"nombre",className:"mt-1 px-4 py-2 block w-full rounded-md border-gray-300 focus:border-blue-500 focus:ring-blue-500",required:!0,value:e,onChange:T=>n(T.target.value)})]}),x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{htmlFor:"razonSocial",className:"block text-sm font-medium text-gray-700",children:"Razon Social"}),x.jsx("input",{type:"text",id:"razonSocial",className:"mt-1 px-4 py-2 block w-full rounded-md border-gray-300 focus:border-blue-500 focus:ring-blue-500",required:!0,value:r,onChange:T=>s(T.target.value)})]}),x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{htmlFor:"nit",className:"block text-sm font-medium text-gray-700",children:"NIT"}),x.jsx("input",{type:"text",id:"nit",className:"mt-1 px-4 py-2 block w-full rounded-md border-gray-300 focus:border-blue-500 focus:ring-blue-500",required:!0,value:i,onChange:T=>o(T.target.value)})]}),x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{htmlFor:"representante",className:"block text-sm font-medium text-gray-700",children:"Representante"}),x.jsx("input",{type:"text",id:"representante",className:"mt-1 px-4 py-2 block w-full rounded-md border-gray-300 focus:border-blue-500 focus:ring-blue-500",required:!0,value:a,onChange:T=>l(T.target.value)})]}),x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Correo Electrnico"}),x.jsx("input",{type:"email",id:"email",className:"mt-1 px-4 py-2 block w-full rounded-md border-gray-300 focus:border-blue-500 focus:ring-blue-500",required:!0,value:u,onChange:T=>c(T.target.value)})]}),x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Contrasea"}),x.jsx("input",{type:"password",id:"password",className:"mt-1 px-4 py-2 block w-full rounded-md border-gray-300 focus:border-blue-500 focus:ring-blue-500",required:!0,value:d,onChange:T=>f(T.target.value)})]}),x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{htmlFor:"telefono",className:"block text-sm font-medium text-gray-700",children:"Telefono"}),x.jsx("input",{type:"number",id:"telefono",className:"mt-1 px-4 py-2 block w-full rounded-md border-gray-300 focus:border-blue-500 focus:ring-blue-500",value:p,onChange:T=>y(T.target.value)})]}),x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{htmlFor:"celular",className:"block text-sm font-medium text-gray-700",children:"Celular"}),x.jsx("input",{type:"number",id:"celular",className:"mt-1 px-4 py-2 block w-full rounded-md border-gray-300 focus:border-blue-500 focus:ring-blue-500",required:!0,value:E,onChange:T=>S(T.target.value)})]}),x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{htmlFor:"direccion",className:"block text-sm font-medium text-gray-700",children:"Direccin"}),x.jsx("input",{type:"text",id:"direccion",className:"mt-1 px-4 py-2 block w-full rounded-md border-gray-300 focus:border-blue-500 focus:ring-blue-500",required:!0,value:m,onChange:T=>g(T.target.value)})]}),x.jsxs("div",{className:"mb-6",children:[x.jsx("label",{htmlFor:"map",className:"block text-sm font-medium text-gray-700",children:"Ubicacin en el Mapa"}),_?x.jsx(Mk,{mapContainerStyle:EI,center:v,zoom:10,onClick:I,children:k&&x.jsx(x1,{position:k})}):x.jsx("div",{className:"h-[300px] bg-gray-300"})]}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("button",{type:"submit",className:"bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Registrarse"}),x.jsx("button",{type:"button",className:"text-gray-500 hover:text-gray-700",onClick:()=>{c(""),f(""),o(""),n(""),g(""),w(Uc)},children:"Cancelar"})]})]})]})},qv=()=>{const[t,e]=h.useState(""),[n,r]=h.useState(""),[s,i]=h.useState(!1),o=c=>{e(c.target.value)},a=c=>{r(c.target.value)},l=Un(),u=async c=>{c.preventDefault(),console.log("Email:",t),console.log("Password:",n);try{const d=await mr.post("https://apidelasilo.azurewebsites.net/api/Asiloes/login",{email:t,password:n});if(d.status===200){const f=d.data.token,p=d.data.asilo;localStorage.setItem("token",f),localStorage.setItem("userData",JSON.stringify(p)),i(!0),console.log("Usuario correcto"),l("/Campaings")}else{const f=d.data.message}}catch(d){console.error("Error:",d)}};return x.jsx("div",{className:"bg-gradient-to-br from-red-100 via-red-300 to-blue-500 min-h-screen flex items-center justify-center",children:x.jsxs("form",{className:"bg-white shadow-md rounded m-auto p-10 w-full max-w-xl",style:{maxWidth:"600px"},onSubmit:u,children:[x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"email",children:"Email"}),x.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-white-700 leading-tight focus:outline-none focus:shadow-outline",id:"email",type:"email",placeholder:"Email",value:t,onChange:o,required:!0})]}),x.jsxs("div",{className:"mb-6",children:[x.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"password",children:"Password"}),x.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-white-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",id:"password",type:"password",placeholder:"Password",value:n,onChange:a,required:!0})]}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"submit",children:"Sign In"}),x.jsx(id,{to:"/register",children:"Registro"})]})]})})},SI=()=>{const t=Un(),e=JSON.parse(localStorage.getItem("userData")),n=()=>{localStorage.clear(),t("/login")};return x.jsx(x.Fragment,{children:x.jsx("div",{className:"bg-gradient-to-br from-red-100 via-red-300 to-blue-500 min-h-screen flex items-center justify-center",children:x.jsxs("div",{className:"bg-white m-4 p-5 rounded-md",children:[x.jsx("h1",{className:"text-2xl text-black font-bold mb-4",children:"Hola Mundo!"}),e&&x.jsxs("p",{className:"text-2xl text-black font-bold mb-4",children:["Bienvenido, ",e.nombre,"! Tu correo electrnico es ",e.email,"."]}),x.jsx(id,{className:"bg-blue-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline mt-4",to:"/report/2",children:"Reporte"}),x.jsx(id,{className:"bg-blue-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline mt-4",to:"/lista/2",children:"Lista Pendientes"}),x.jsx("button",{className:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline mt-4",onClick:n,children:"Cerrar sesin"})]})})})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},LI=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},iE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,c=i>>2,d=(i&3)<<4|a>>4;let f=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(f=64)),r.push(n[c],n[d],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(sE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):LI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||d==null)throw new CI;const f=i<<2|a>>4;if(r.push(f),u!==64){const p=a<<4&240|u>>2;if(r.push(p),d!==64){const y=u<<6&192|d;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class CI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kI=function(t){const e=sE(t);return iE.encodeByteArray(e,!0)},ql=function(t){return kI(t).replace(/\./g,"")},TI=function(t){try{return iE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II=()=>_I().__FIREBASE_DEFAULTS__,bI=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},NI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&TI(t[1]);return e&&JSON.parse(e)},Zf=()=>{try{return II()||bI()||NI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},RI=t=>{var e,n;return(n=(e=Zf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},oE=t=>{const e=RI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},aE=()=>{var t;return(t=Zf())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[ql(JSON.stringify(n)),ql(JSON.stringify(o)),a].join(".")}function AI(){var t;const e=(t=Zf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DI(){try{return typeof indexedDB=="object"}catch{return!1}}function MI(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI="FirebaseError";class es extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=OI,Object.setPrototypeOf(this,es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uE.prototype.create)}}class uE{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?$I(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new es(s,a,r)}}function $I(t,e){return t.replace(jI,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const jI=/\{\$([^}]+)}/g;function cd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Kv(i)&&Kv(o)){if(!cd(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Kv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(t){return t&&t._delegate?t._delegate:t}class Us{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new PI;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BI(e))try{this.getOrInitializeService({instanceIdentifier:Ir})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ir){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ir){return this.instances.has(e)}getOptions(e=Ir){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:UI(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ir){return this.component?this.component.multipleInstances?e:Ir:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UI(t){return t===Ir?void 0:t}function BI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new FI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ve||(ve={}));const VI={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},HI=ve.INFO,WI={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},qI=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=WI[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cE{constructor(e){this.name=e,this._logLevel=HI,this._logHandler=qI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}}const KI=(t,e)=>e.some(n=>t instanceof n);let Gv,Qv;function GI(){return Gv||(Gv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QI(){return Qv||(Qv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hE=new WeakMap,hd=new WeakMap,dE=new WeakMap,Bc=new WeakMap,Yf=new WeakMap;function ZI(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(lr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&hE.set(n,t)}).catch(()=>{}),Yf.set(e,t),e}function YI(t){if(hd.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});hd.set(t,e)}let dd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return hd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||dE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return lr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function XI(t){dd=t(dd)}function JI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(zc(this),e,...n);return dE.set(r,e.sort?e.sort():[e]),lr(r)}:QI().includes(t)?function(...e){return t.apply(zc(this),e),lr(hE.get(this))}:function(...e){return lr(t.apply(zc(this),e))}}function eb(t){return typeof t=="function"?JI(t):(t instanceof IDBTransaction&&YI(t),KI(t,GI())?new Proxy(t,dd):t)}function lr(t){if(t instanceof IDBRequest)return ZI(t);if(Bc.has(t))return Bc.get(t);const e=eb(t);return e!==t&&(Bc.set(t,e),Yf.set(e,t)),e}const zc=t=>Yf.get(t);function tb(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=lr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(lr(o.result),l.oldVersion,l.newVersion,lr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const nb=["get","getKey","getAll","getAllKeys","count"],rb=["put","add","delete","clear"],Vc=new Map;function Zv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Vc.get(e))return Vc.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=rb.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||nb.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return Vc.set(e,i),i}XI(t=>({...t,get:(e,n,r)=>Zv(e,n)||t.get(e,n,r),has:(e,n)=>!!Zv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ib(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ib(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const fd="@firebase/app",Yv="0.9.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr=new cE("@firebase/app"),ob="@firebase/app-compat",ab="@firebase/analytics-compat",lb="@firebase/analytics",ub="@firebase/app-check-compat",cb="@firebase/app-check",hb="@firebase/auth",db="@firebase/auth-compat",fb="@firebase/database",pb="@firebase/database-compat",mb="@firebase/functions",gb="@firebase/functions-compat",vb="@firebase/installations",yb="@firebase/installations-compat",wb="@firebase/messaging",Eb="@firebase/messaging-compat",xb="@firebase/performance",Sb="@firebase/performance-compat",Lb="@firebase/remote-config",Cb="@firebase/remote-config-compat",kb="@firebase/storage",Tb="@firebase/storage-compat",_b="@firebase/firestore",Ib="@firebase/firestore-compat",bb="firebase",Nb="9.22.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd="[DEFAULT]",Rb={[fd]:"fire-core",[ob]:"fire-core-compat",[lb]:"fire-analytics",[ab]:"fire-analytics-compat",[cb]:"fire-app-check",[ub]:"fire-app-check-compat",[hb]:"fire-auth",[db]:"fire-auth-compat",[fb]:"fire-rtdb",[pb]:"fire-rtdb-compat",[mb]:"fire-fn",[gb]:"fire-fn-compat",[vb]:"fire-iid",[yb]:"fire-iid-compat",[wb]:"fire-fcm",[Eb]:"fire-fcm-compat",[xb]:"fire-perf",[Sb]:"fire-perf-compat",[Lb]:"fire-rc",[Cb]:"fire-rc-compat",[kb]:"fire-gcs",[Tb]:"fire-gcs-compat",[_b]:"fire-fst",[Ib]:"fire-fst-compat","fire-js":"fire-js",[bb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl=new Map,md=new Map;function Pb(t,e){try{t.container.addComponent(e)}catch(n){Wr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function yo(t){const e=t.name;if(md.has(e))return Wr.debug(`There were multiple attempts to register component ${e}.`),!1;md.set(e,t);for(const n of Kl.values())Pb(n,t);return!0}function fE(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ur=new uE("app","Firebase",Ab);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ur.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE=Nb;function mE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:pd,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw ur.create("bad-app-name",{appName:String(s)});if(n||(n=aE()),!n)throw ur.create("no-options");const i=Kl.get(s);if(i){if(cd(n,i.options)&&cd(r,i.config))return i;throw ur.create("duplicate-app",{appName:s})}const o=new zI(s);for(const l of md.values())o.addComponent(l);const a=new Db(n,r,o);return Kl.set(s,a),a}function gE(t=pd){const e=Kl.get(t);if(!e&&t===pd&&aE())return mE();if(!e)throw ur.create("no-app",{appName:t});return e}function cr(t,e,n){var r;let s=(r=Rb[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wr.warn(a.join(" "));return}yo(new Us(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb="firebase-heartbeat-database",Ob=1,wo="firebase-heartbeat-store";let Hc=null;function vE(){return Hc||(Hc=tb(Mb,Ob,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(wo)}}}).catch(t=>{throw ur.create("idb-open",{originalErrorMessage:t.message})})),Hc}async function $b(t){try{return await(await vE()).transaction(wo).objectStore(wo).get(yE(t))}catch(e){if(e instanceof es)Wr.warn(e.message);else{const n=ur.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Wr.warn(n.message)}}}async function Xv(t,e){try{const r=(await vE()).transaction(wo,"readwrite");await r.objectStore(wo).put(e,yE(t)),await r.done}catch(n){if(n instanceof es)Wr.warn(n.message);else{const r=ur.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Wr.warn(r.message)}}}function yE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb=1024,Fb=30*24*60*60*1e3;class Ub{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zb(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Jv();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const i=new Date(s.date).valueOf();return Date.now()-i<=Fb}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Jv(),{heartbeatsToSend:n,unsentEntries:r}=Bb(this._heartbeatsCache.heartbeats),s=ql(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Jv(){return new Date().toISOString().substring(0,10)}function Bb(t,e=jb){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),ey(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),ey(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class zb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return DI()?MI().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await $b(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Xv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Xv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function ey(t){return ql(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(t){yo(new Us("platform-logger",e=>new sb(e),"PRIVATE")),yo(new Us("heartbeat",e=>new Ub(e),"PRIVATE")),cr(fd,Yv,t),cr(fd,Yv,"esm2017"),cr("fire-js","")}Vb("");var Hb="firebase",Wb="9.22.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cr(Hb,Wb,"app");var qb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},O,Xf=Xf||{},Z=qb||self;function Ru(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function zo(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Kb(t){return Object.prototype.hasOwnProperty.call(t,Wc)&&t[Wc]||(t[Wc]=++Gb)}var Wc="closure_uid_"+(1e9*Math.random()>>>0),Gb=0;function Qb(t,e,n){return t.call.apply(t.bind,arguments)}function Zb(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function pt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?pt=Qb:pt=Zb,pt.apply(null,arguments)}function Oa(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Je(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[s].apply(r,o)}}function Lr(){this.s=this.s,this.o=this.o}var Yb=0;Lr.prototype.s=!1;Lr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Yb!=0)&&Kb(this)};Lr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const wE=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Jf(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function ty(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Ru(r)){const s=t.length||0,i=r.length||0;t.length=s+i;for(let o=0;o<i;o++)t[s+o]=r[o]}else t.push(r)}}function mt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}mt.prototype.h=function(){this.defaultPrevented=!0};var Xb=function(){if(!Z.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Z.addEventListener("test",()=>{},e),Z.removeEventListener("test",()=>{},e)}catch{}return t}();function Eo(t){return/^[\s\xa0]*$/.test(t)}function Pu(){var t=Z.navigator;return t&&(t=t.userAgent)?t:""}function dn(t){return Pu().indexOf(t)!=-1}function ep(t){return ep[" "](t),t}ep[" "]=function(){};function Jb(t,e){var n=WN;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var eN=dn("Opera"),Bs=dn("Trident")||dn("MSIE"),EE=dn("Edge"),gd=EE||Bs,xE=dn("Gecko")&&!(Pu().toLowerCase().indexOf("webkit")!=-1&&!dn("Edge"))&&!(dn("Trident")||dn("MSIE"))&&!dn("Edge"),tN=Pu().toLowerCase().indexOf("webkit")!=-1&&!dn("Edge");function SE(){var t=Z.document;return t?t.documentMode:void 0}var vd;e:{var qc="",Kc=function(){var t=Pu();if(xE)return/rv:([^\);]+)(\)|;)/.exec(t);if(EE)return/Edge\/([\d\.]+)/.exec(t);if(Bs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(tN)return/WebKit\/(\S+)/.exec(t);if(eN)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Kc&&(qc=Kc?Kc[1]:""),Bs){var Gc=SE();if(Gc!=null&&Gc>parseFloat(qc)){vd=String(Gc);break e}}vd=qc}var yd;if(Z.document&&Bs){var ny=SE();yd=ny||parseInt(vd,10)||void 0}else yd=void 0;var nN=yd;function xo(t,e){if(mt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(xE){e:{try{ep(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:rN[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&xo.$.h.call(this)}}Je(xo,mt);var rN={2:"touch",3:"pen",4:"mouse"};xo.prototype.h=function(){xo.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Vo="closure_listenable_"+(1e6*Math.random()|0),sN=0;function iN(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++sN,this.fa=this.ia=!1}function Au(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function tp(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function oN(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function LE(t){const e={};for(const n in t)e[n]=t[n];return e}const ry="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function CE(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<ry.length;i++)n=ry[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Du(t){this.src=t,this.g={},this.h=0}Du.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=Ed(t,e,r,s);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new iN(e,this.src,i,!!r,s),e.ia=n,t.push(e)),e};function wd(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=wE(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(Au(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Ed(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return s}return-1}var np="closure_lm_"+(1e6*Math.random()|0),Qc={};function kE(t,e,n,r,s){if(r&&r.once)return _E(t,e,n,r,s);if(Array.isArray(e)){for(var i=0;i<e.length;i++)kE(t,e[i],n,r,s);return null}return n=ip(n),t&&t[Vo]?t.O(e,n,zo(r)?!!r.capture:!!r,s):TE(t,e,n,!1,r,s)}function TE(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var o=zo(s)?!!s.capture:!!s,a=sp(t);if(a||(t[np]=a=new Du(t)),n=a.add(e,n,r,o,i),n.proxy)return n;if(r=aN(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Xb||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(bE(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function aN(){function t(n){return e.call(t.src,t.listener,n)}const e=lN;return t}function _E(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)_E(t,e[i],n,r,s);return null}return n=ip(n),t&&t[Vo]?t.P(e,n,zo(r)?!!r.capture:!!r,s):TE(t,e,n,!0,r,s)}function IE(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)IE(t,e[i],n,r,s);else r=zo(r)?!!r.capture:!!r,n=ip(n),t&&t[Vo]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=Ed(i,n,r,s),-1<n&&(Au(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=sp(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Ed(e,n,r,s)),(n=-1<t?e[t]:null)&&rp(n))}function rp(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Vo])wd(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(bE(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=sp(e))?(wd(n,t),n.h==0&&(n.src=null,e[np]=null)):Au(t)}}}function bE(t){return t in Qc?Qc[t]:Qc[t]="on"+t}function lN(t,e){if(t.fa)t=!0;else{e=new xo(e,this);var n=t.listener,r=t.la||t.src;t.ia&&rp(t),t=n.call(r,e)}return t}function sp(t){return t=t[np],t instanceof Du?t:null}var Zc="__closure_events_fn_"+(1e9*Math.random()>>>0);function ip(t){return typeof t=="function"?t:(t[Zc]||(t[Zc]=function(e){return t.handleEvent(e)}),t[Zc])}function Xe(){Lr.call(this),this.i=new Du(this),this.S=this,this.J=null}Je(Xe,Lr);Xe.prototype[Vo]=!0;Xe.prototype.removeEventListener=function(t,e,n,r){IE(this,t,e,n,r)};function it(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new mt(e,t);else if(e instanceof mt)e.target=e.target||t;else{var s=e;e=new mt(r,t),CE(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];s=$a(o,r,!0,e)&&s}if(o=e.g=t,s=$a(o,r,!0,e)&&s,s=$a(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)o=e.g=n[i],s=$a(o,r,!1,e)&&s}Xe.prototype.N=function(){if(Xe.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Au(n[r]);delete t.g[e],t.h--}}this.J=null};Xe.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Xe.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function $a(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&wd(t.i,o),s=a.call(l,r)!==!1&&s}}return s&&!r.defaultPrevented}var op=Z.JSON.stringify;class uN{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function cN(){var t=ap;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class hN{constructor(){this.h=this.g=null}add(e,n){const r=NE.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var NE=new uN(()=>new dN,t=>t.reset());class dN{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function fN(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function pN(t){Z.setTimeout(()=>{throw t},0)}let So,Lo=!1,ap=new hN,RE=()=>{const t=Z.Promise.resolve(void 0);So=()=>{t.then(mN)}};var mN=()=>{for(var t;t=cN();){try{t.h.call(t.g)}catch(n){pN(n)}var e=NE;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Lo=!1};function Mu(t,e){Xe.call(this),this.h=t||1,this.g=e||Z,this.j=pt(this.qb,this),this.l=Date.now()}Je(Mu,Xe);O=Mu.prototype;O.ga=!1;O.T=null;O.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),it(this,"tick"),this.ga&&(lp(this),this.start()))}};O.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function lp(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}O.N=function(){Mu.$.N.call(this),lp(this),delete this.g};function up(t,e,n){if(typeof t=="function")n&&(t=pt(t,n));else if(t&&typeof t.handleEvent=="function")t=pt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Z.setTimeout(t,e||0)}function PE(t){t.g=up(()=>{t.g=null,t.i&&(t.i=!1,PE(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class gN extends Lr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:PE(this)}N(){super.N(),this.g&&(Z.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Co(t){Lr.call(this),this.h=t,this.g={}}Je(Co,Lr);var sy=[];function AE(t,e,n,r){Array.isArray(n)||(n&&(sy[0]=n.toString()),n=sy);for(var s=0;s<n.length;s++){var i=kE(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function DE(t){tp(t.g,function(e,n){this.g.hasOwnProperty(n)&&rp(e)},t),t.g={}}Co.prototype.N=function(){Co.$.N.call(this),DE(this)};Co.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ou(){this.g=!0}Ou.prototype.Ea=function(){this.g=!1};function vN(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function yN(t,e,n,r,s,i,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+o})}function xs(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+EN(t,n)+(r?" "+r:"")})}function wN(t,e){t.info(function(){return"TIMEOUT: "+e})}Ou.prototype.info=function(){};function EN(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return op(n)}catch{return e}}var ts={},iy=null;function $u(){return iy=iy||new Xe}ts.Ta="serverreachability";function ME(t){mt.call(this,ts.Ta,t)}Je(ME,mt);function ko(t){const e=$u();it(e,new ME(e))}ts.STAT_EVENT="statevent";function OE(t,e){mt.call(this,ts.STAT_EVENT,t),this.stat=e}Je(OE,mt);function xt(t){const e=$u();it(e,new OE(e,t))}ts.Ua="timingevent";function $E(t,e){mt.call(this,ts.Ua,t),this.size=e}Je($E,mt);function Ho(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Z.setTimeout(function(){t()},e)}var ju={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},jE={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function cp(){}cp.prototype.h=null;function oy(t){return t.h||(t.h=t.i())}function FE(){}var Wo={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function hp(){mt.call(this,"d")}Je(hp,mt);function dp(){mt.call(this,"c")}Je(dp,mt);var xd;function Fu(){}Je(Fu,cp);Fu.prototype.g=function(){return new XMLHttpRequest};Fu.prototype.i=function(){return{}};xd=new Fu;function qo(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Co(this),this.P=xN,t=gd?125:void 0,this.V=new Mu(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new UE}function UE(){this.i=null,this.g="",this.h=!1}var xN=45e3,Sd={},Gl={};O=qo.prototype;O.setTimeout=function(t){this.P=t};function Ld(t,e,n){t.L=1,t.v=Bu(Mn(e)),t.s=n,t.S=!0,BE(t,null)}function BE(t,e){t.G=Date.now(),Ko(t),t.A=Mn(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),QE(n.i,"t",r),t.C=0,n=t.l.J,t.h=new UE,t.g=gx(t.l,n?e:null,!t.s),0<t.O&&(t.M=new gN(pt(t.Pa,t,t.g),t.O)),AE(t.U,t.g,"readystatechange",t.nb),e=t.I?LE(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),ko(),vN(t.j,t.u,t.A,t.m,t.W,t.s)}O.nb=function(t){t=t.target;const e=this.M;e&&pn(t)==3?e.l():this.Pa(t)};O.Pa=function(t){try{if(t==this.g)e:{const c=pn(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||gd||this.g&&(this.h.h||this.g.ja()||cy(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?ko(3):ko(2)),Uu(this);var n=this.g.da();this.ca=n;t:if(zE(this)){var r=cy(this.g);t="";var s=r.length,i=pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ar(this),Hi(this);var o="";break t}this.h.i=new Z.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.splice(0,s),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,yN(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Eo(a)){var u=a;break t}}u=null}if(n=u)xs(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Cd(this,n);else{this.i=!1,this.o=3,xt(12),Ar(this),Hi(this);break e}}this.S?(VE(this,c,o),gd&&this.i&&c==3&&(AE(this.U,this.V,"tick",this.mb),this.V.start())):(xs(this.j,this.m,o,null),Cd(this,o)),c==4&&Ar(this),this.i&&!this.J&&(c==4?dx(this.l,this):(this.i=!1,Ko(this)))}else zN(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,xt(12)):(this.o=0,xt(13)),Ar(this),Hi(this)}}}catch{}finally{}};function zE(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function VE(t,e,n){let r=!0,s;for(;!t.J&&t.C<n.length;)if(s=SN(t,n),s==Gl){e==4&&(t.o=4,xt(14),r=!1),xs(t.j,t.m,null,"[Incomplete Response]");break}else if(s==Sd){t.o=4,xt(15),xs(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else xs(t.j,t.m,s,null),Cd(t,s);zE(t)&&s!=Gl&&s!=Sd&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,xt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),yp(e),e.M=!0,xt(11))):(xs(t.j,t.m,n,"[Invalid Chunked Response]"),Ar(t),Hi(t))}O.mb=function(){if(this.g){var t=pn(this.g),e=this.g.ja();this.C<e.length&&(Uu(this),VE(this,t,e),this.i&&t!=4&&Ko(this))}};function SN(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Gl:(n=Number(e.substring(n,r)),isNaN(n)?Sd:(r+=1,r+n>e.length?Gl:(e=e.slice(r,r+n),t.C=r+n,e)))}O.cancel=function(){this.J=!0,Ar(this)};function Ko(t){t.Y=Date.now()+t.P,HE(t,t.P)}function HE(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Ho(pt(t.lb,t),e)}function Uu(t){t.B&&(Z.clearTimeout(t.B),t.B=null)}O.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(wN(this.j,this.A),this.L!=2&&(ko(),xt(17)),Ar(this),this.o=2,Hi(this)):HE(this,this.Y-t)};function Hi(t){t.l.H==0||t.J||dx(t.l,t)}function Ar(t){Uu(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,lp(t.V),DE(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Cd(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||kd(n.i,t))){if(!t.K&&kd(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Yl(n),Hu(n);else break e;vp(n),xt(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=Ho(pt(n.ib,n),6e3));if(1>=XE(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Dr(n,11)}else if((t.K||n.g==t)&&Yl(n),!Eo(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let u=s[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const y=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var i=r.i;i.g||y.indexOf("spdy")==-1&&y.indexOf("quic")==-1&&y.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(fp(i,i.h),i.h=null))}if(r.F){const E=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;E&&(r.Da=E,ke(r.I,r.F,E))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=mx(r,r.J?r.pa:null,r.Y),o.K){JE(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(Uu(a),Ko(a)),r.g=o}else cx(r);0<n.j.length&&Wu(n)}else u[0]!="stop"&&u[0]!="close"||Dr(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Dr(n,7):gp(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}ko(4)}catch{}}function LN(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Ru(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function CN(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Ru(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function WE(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Ru(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=CN(t),r=LN(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}var qE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kN(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function jr(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof jr){this.h=t.h,Ql(this,t.j),this.s=t.s,this.g=t.g,Zl(this,t.m),this.l=t.l;var e=t.i,n=new To;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),ay(this,n),this.o=t.o}else t&&(e=String(t).match(qE))?(this.h=!1,Ql(this,e[1]||"",!0),this.s=bi(e[2]||""),this.g=bi(e[3]||"",!0),Zl(this,e[4]),this.l=bi(e[5]||"",!0),ay(this,e[6]||"",!0),this.o=bi(e[7]||"")):(this.h=!1,this.i=new To(null,this.h))}jr.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ni(e,ly,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ni(e,ly,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ni(n,n.charAt(0)=="/"?IN:_N,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ni(n,NN)),t.join("")};function Mn(t){return new jr(t)}function Ql(t,e,n){t.j=n?bi(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Zl(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function ay(t,e,n){e instanceof To?(t.i=e,RN(t.i,t.h)):(n||(e=Ni(e,bN)),t.i=new To(e,t.h))}function ke(t,e,n){t.i.set(e,n)}function Bu(t){return ke(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function bi(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ni(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,TN),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function TN(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var ly=/[#\/\?@]/g,_N=/[#\?:]/g,IN=/[#\?]/g,bN=/[#\?@]/g,NN=/#/g;function To(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Cr(t){t.g||(t.g=new Map,t.h=0,t.i&&kN(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}O=To.prototype;O.add=function(t,e){Cr(this),this.i=null,t=si(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function KE(t,e){Cr(t),e=si(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function GE(t,e){return Cr(t),e=si(t,e),t.g.has(e)}O.forEach=function(t,e){Cr(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};O.ta=function(){Cr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let i=0;i<s.length;i++)n.push(e[r])}return n};O.Z=function(t){Cr(this);let e=[];if(typeof t=="string")GE(this,t)&&(e=e.concat(this.g.get(si(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};O.set=function(t,e){return Cr(this),this.i=null,t=si(this,t),GE(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};O.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function QE(t,e,n){KE(t,e),0<n.length&&(t.i=null,t.g.set(si(t,e),Jf(n)),t.h+=n.length)}O.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),t.push(s)}}return this.i=t.join("&")};function si(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function RN(t,e){e&&!t.j&&(Cr(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(KE(this,r),QE(this,s,n))},t)),t.j=e}var PN=class{constructor(t,e){this.g=t,this.map=e}};function ZE(t){this.l=t||AN,Z.PerformanceNavigationTiming?(t=Z.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Z.g&&Z.g.Ka&&Z.g.Ka()&&Z.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var AN=10;function YE(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function XE(t){return t.h?1:t.g?t.g.size:0}function kd(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function fp(t,e){t.g?t.g.add(e):t.h=e}function JE(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}ZE.prototype.cancel=function(){if(this.i=ex(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function ex(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Jf(t.i)}var DN=class{stringify(t){return Z.JSON.stringify(t,void 0)}parse(t){return Z.JSON.parse(t,void 0)}};function MN(){this.g=new DN}function ON(t,e,n){const r=n||"";try{WE(t,function(s,i){let o=s;zo(s)&&(o=op(s)),e.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function $N(t,e){const n=new Ou;if(Z.Image){const r=new Image;r.onload=Oa(ja,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Oa(ja,n,r,"TestLoadImage: error",!1,e),r.onabort=Oa(ja,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Oa(ja,n,r,"TestLoadImage: timeout",!1,e),Z.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function ja(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function Go(t){this.l=t.fc||null,this.j=t.ob||!1}Je(Go,cp);Go.prototype.g=function(){return new zu(this.l,this.j)};Go.prototype.i=function(t){return function(){return t}}({});function zu(t,e){Xe.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=pp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Je(zu,Xe);var pp=0;O=zu.prototype;O.open=function(t,e){if(this.readyState!=pp)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,_o(this)};O.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Z).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};O.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qo(this)),this.readyState=pp};O.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,_o(this)),this.g&&(this.readyState=3,_o(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Z.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;tx(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function tx(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}O.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Qo(this):_o(this),this.readyState==3&&tx(this)}};O.Za=function(t){this.g&&(this.response=this.responseText=t,Qo(this))};O.Ya=function(t){this.g&&(this.response=t,Qo(this))};O.ka=function(){this.g&&Qo(this)};function Qo(t){t.readyState=4,t.l=null,t.j=null,t.A=null,_o(t)}O.setRequestHeader=function(t,e){this.v.append(t,e)};O.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};O.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function _o(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(zu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var jN=Z.JSON.parse;function Me(t){Xe.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=nx,this.L=this.M=!1}Je(Me,Xe);var nx="",FN=/^https?$/i,UN=["POST","PUT"];O=Me.prototype;O.Oa=function(t){this.M=t};O.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():xd.g(),this.C=this.u?oy(this.u):oy(xd),this.g.onreadystatechange=pt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){uy(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=Z.FormData&&t instanceof Z.FormData,!(0<=wE(UN,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ix(this),0<this.B&&((this.L=BN(this.g))?(this.g.timeout=this.B,this.g.ontimeout=pt(this.ua,this)):this.A=up(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){uy(this,i)}};function BN(t){return Bs&&typeof t.timeout=="number"&&t.ontimeout!==void 0}O.ua=function(){typeof Xf<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,it(this,"timeout"),this.abort(8))};function uy(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,rx(t),Vu(t)}function rx(t){t.F||(t.F=!0,it(t,"complete"),it(t,"error"))}O.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,it(this,"complete"),it(this,"abort"),Vu(this))};O.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Vu(this,!0)),Me.$.N.call(this)};O.La=function(){this.s||(this.G||this.v||this.l?sx(this):this.kb())};O.kb=function(){sx(this)};function sx(t){if(t.h&&typeof Xf<"u"&&(!t.C[1]||pn(t)!=4||t.da()!=2)){if(t.v&&pn(t)==4)up(t.La,0,t);else if(it(t,"readystatechange"),pn(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var s=String(t.I).match(qE)[1]||null;!s&&Z.self&&Z.self.location&&(s=Z.self.location.protocol.slice(0,-1)),r=!FN.test(s?s.toLowerCase():"")}n=r}if(n)it(t,"complete"),it(t,"success");else{t.m=6;try{var i=2<pn(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",rx(t)}}finally{Vu(t)}}}}function Vu(t,e){if(t.g){ix(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||it(t,"ready");try{n.onreadystatechange=r}catch{}}}function ix(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Z.clearTimeout(t.A),t.A=null)}O.isActive=function(){return!!this.g};function pn(t){return t.g?t.g.readyState:0}O.da=function(){try{return 2<pn(this)?this.g.status:-1}catch{return-1}};O.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};O.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),jN(e)}};function cy(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case nx:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function zN(t){const e={};t=(t.g&&2<=pn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Eo(t[r]))continue;var n=fN(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[s]||[];e[s]=i,i.push(n)}oN(e,function(r){return r.join(", ")})}O.Ia=function(){return this.m};O.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function ox(t){let e="";return tp(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function mp(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=ox(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ke(t,e,n))}function Si(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function ax(t){this.Ga=0,this.j=[],this.l=new Ou,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Si("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Si("baseRetryDelayMs",5e3,t),this.hb=Si("retryDelaySeedMs",1e4,t),this.eb=Si("forwardChannelMaxRetries",2,t),this.xa=Si("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new ZE(t&&t.concurrentRequestLimit),this.Ja=new MN,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}O=ax.prototype;O.ra=8;O.H=1;function gp(t){if(lx(t),t.H==3){var e=t.W++,n=Mn(t.I);if(ke(n,"SID",t.K),ke(n,"RID",e),ke(n,"TYPE","terminate"),Zo(t,n),e=new qo(t,t.l,e),e.L=2,e.v=Bu(Mn(n)),n=!1,Z.navigator&&Z.navigator.sendBeacon)try{n=Z.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Z.Image&&(new Image().src=e.v,n=!0),n||(e.g=gx(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Ko(e)}px(t)}function Hu(t){t.g&&(yp(t),t.g.cancel(),t.g=null)}function lx(t){Hu(t),t.u&&(Z.clearTimeout(t.u),t.u=null),Yl(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Z.clearTimeout(t.m),t.m=null)}function Wu(t){if(!YE(t.i)&&!t.m){t.m=!0;var e=t.Na;So||RE(),Lo||(So(),Lo=!0),ap.add(e,t),t.C=0}}function VN(t,e){return XE(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Ho(pt(t.Na,t,e),fx(t,t.C)),t.C++,!0)}O.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new qo(this,this.l,t);let i=this.s;if(this.U&&(i?(i=LE(i),CE(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=ux(this,s,e),n=Mn(this.I),ke(n,"RID",t),ke(n,"CVER",22),this.F&&ke(n,"X-HTTP-Session-Id",this.F),Zo(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(ox(i)))+"&"+e:this.o&&mp(n,this.o,i)),fp(this.i,s),this.bb&&ke(n,"TYPE","init"),this.P?(ke(n,"$req",e),ke(n,"SID","null"),s.aa=!0,Ld(s,n,null)):Ld(s,n,e),this.H=2}}else this.H==3&&(t?hy(this,t):this.j.length==0||YE(this.i)||hy(this))};function hy(t,e){var n;e?n=e.m:n=t.W++;const r=Mn(t.I);ke(r,"SID",t.K),ke(r,"RID",n),ke(r,"AID",t.V),Zo(t,r),t.o&&t.s&&mp(r,t.o,t.s),n=new qo(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=ux(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),fp(t.i,n),Ld(n,r,e)}function Zo(t,e){t.na&&tp(t.na,function(n,r){ke(e,r,n)}),t.h&&WE({},function(n,r){ke(e,r,n)})}function ux(t,e,n){n=Math.min(t.j.length,n);var r=t.h?pt(t.h.Va,t.h,t):null;e:{var s=t.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let u=s[l].g;const c=s[l].map;if(u-=i,0>u)i=Math.max(0,s[l].g-100),a=!1;else try{ON(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function cx(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;So||RE(),Lo||(So(),Lo=!0),ap.add(e,t),t.A=0}}function vp(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Ho(pt(t.Ma,t),fx(t,t.A)),t.A++,!0)}O.Ma=function(){if(this.u=null,hx(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Ho(pt(this.jb,this),t)}};O.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,xt(10),Hu(this),hx(this))};function yp(t){t.B!=null&&(Z.clearTimeout(t.B),t.B=null)}function hx(t){t.g=new qo(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Mn(t.wa);ke(e,"RID","rpc"),ke(e,"SID",t.K),ke(e,"AID",t.V),ke(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ke(e,"TO",t.qa),ke(e,"TYPE","xmlhttp"),Zo(t,e),t.o&&t.s&&mp(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Bu(Mn(e)),n.s=null,n.S=!0,BE(n,t)}O.ib=function(){this.v!=null&&(this.v=null,Hu(this),vp(this),xt(19))};function Yl(t){t.v!=null&&(Z.clearTimeout(t.v),t.v=null)}function dx(t,e){var n=null;if(t.g==e){Yl(t),yp(t),t.g=null;var r=2}else if(kd(t.i,e))n=e.F,JE(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var s=t.C;r=$u(),it(r,new $E(r,n)),Wu(t)}else cx(t);else if(s=e.o,s==3||s==0&&0<e.ca||!(r==1&&VN(t,e)||r==2&&vp(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:Dr(t,5);break;case 4:Dr(t,10);break;case 3:Dr(t,6);break;default:Dr(t,2)}}}function fx(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Dr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=pt(t.pb,t);n||(n=new jr("//www.google.com/images/cleardot.gif"),Z.location&&Z.location.protocol=="http"||Ql(n,"https"),Bu(n)),$N(n.toString(),r)}else xt(2);t.H=0,t.h&&t.h.za(e),px(t),lx(t)}O.pb=function(t){t?(this.l.info("Successfully pinged google.com"),xt(2)):(this.l.info("Failed to ping google.com"),xt(1))};function px(t){if(t.H=0,t.ma=[],t.h){const e=ex(t.i);(e.length!=0||t.j.length!=0)&&(ty(t.ma,e),ty(t.ma,t.j),t.i.i.length=0,Jf(t.j),t.j.length=0),t.h.ya()}}function mx(t,e,n){var r=n instanceof jr?Mn(n):new jr(n);if(r.g!="")e&&(r.g=e+"."+r.g),Zl(r,r.m);else{var s=Z.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new jr(null);r&&Ql(i,r),e&&(i.g=e),s&&Zl(i,s),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&ke(r,n,e),ke(r,"VER",t.ra),Zo(t,r),r}function gx(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Me(new Go({ob:!0})):new Me(t.va),e.Oa(t.J),e}O.isActive=function(){return!!this.h&&this.h.isActive(this)};function vx(){}O=vx.prototype;O.Ba=function(){};O.Aa=function(){};O.za=function(){};O.ya=function(){};O.isActive=function(){return!0};O.Va=function(){};function Xl(){if(Bs&&!(10<=Number(nN)))throw Error("Environmental error: no available transport.")}Xl.prototype.g=function(t,e){return new Ft(t,e)};function Ft(t,e){Xe.call(this),this.g=new ax(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Eo(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Eo(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ii(this)}Je(Ft,Xe);Ft.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;xt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=mx(t,null,t.Y),Wu(t)};Ft.prototype.close=function(){gp(this.g)};Ft.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=op(t),t=n);e.j.push(new PN(e.fb++,t)),e.H==3&&Wu(e)};Ft.prototype.N=function(){this.g.h=null,delete this.j,gp(this.g),delete this.g,Ft.$.N.call(this)};function yx(t){hp.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Je(yx,hp);function wx(){dp.call(this),this.status=1}Je(wx,dp);function ii(t){this.g=t}Je(ii,vx);ii.prototype.Ba=function(){it(this.g,"a")};ii.prototype.Aa=function(t){it(this.g,new yx(t))};ii.prototype.za=function(t){it(this.g,new wx)};ii.prototype.ya=function(){it(this.g,"b")};function HN(){this.blockSize=-1}function on(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Je(on,HN);on.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Yc(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var i=t.g[3],o=e+(i^n&(s^i))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(s^i&(n^s))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(n^s^i)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(s^(n|~i))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+i&4294967295}on.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=n;)Yc(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[s++]=t.charCodeAt(i++),s==this.blockSize){Yc(this,r),s=0;break}}else for(;i<e;)if(r[s++]=t[i++],s==this.blockSize){Yc(this,r),s=0;break}}this.h=s,this.i+=e};on.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function we(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var i=t[s]|0;r&&i==e||(n[s]=i,r=!1)}this.g=n}var WN={};function wp(t){return-128<=t&&128>t?Jb(t,function(e){return new we([e|0],0>e?-1:0)}):new we([t|0],0>t?-1:0)}function mn(t){if(isNaN(t)||!isFinite(t))return Is;if(0>t)return rt(mn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Td;return new we(e,0)}function Ex(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return rt(Ex(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=mn(Math.pow(e,8)),r=Is,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+i),e);8>i?(i=mn(Math.pow(e,i)),r=r.R(i).add(mn(o))):(r=r.R(n),r=r.add(mn(o)))}return r}var Td=4294967296,Is=wp(0),_d=wp(1),dy=wp(16777216);O=we.prototype;O.ea=function(){if(Wt(this))return-rt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Td+r)*e,e*=Td}return t};O.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(In(this))return"0";if(Wt(this))return"-"+rt(this).toString(t);for(var e=mn(Math.pow(t,6)),n=this,r="";;){var s=eu(n,e).g;n=Jl(n,s.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,In(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};O.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function In(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Wt(t){return t.h==-1}O.X=function(t){return t=Jl(this,t),Wt(t)?-1:In(t)?0:1};function rt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new we(n,~t.h).add(_d)}O.abs=function(){return Wt(this)?rt(this):this};O.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(t.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new we(n,n[n.length-1]&-2147483648?-1:0)};function Jl(t,e){return t.add(rt(e))}O.R=function(t){if(In(this)||In(t))return Is;if(Wt(this))return Wt(t)?rt(this).R(rt(t)):rt(rt(this).R(t));if(Wt(t))return rt(this.R(rt(t)));if(0>this.X(dy)&&0>t.X(dy))return mn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(s)>>>16,l=t.D(s)&65535;n[2*r+2*s]+=o*l,Fa(n,2*r+2*s),n[2*r+2*s+1]+=i*l,Fa(n,2*r+2*s+1),n[2*r+2*s+1]+=o*a,Fa(n,2*r+2*s+1),n[2*r+2*s+2]+=i*a,Fa(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new we(n,0)};function Fa(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Li(t,e){this.g=t,this.h=e}function eu(t,e){if(In(e))throw Error("division by zero");if(In(t))return new Li(Is,Is);if(Wt(t))return e=eu(rt(t),e),new Li(rt(e.g),rt(e.h));if(Wt(e))return e=eu(t,rt(e)),new Li(rt(e.g),e.h);if(30<t.g.length){if(Wt(t)||Wt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=_d,r=e;0>=r.X(t);)n=fy(n),r=fy(r);var s=is(n,1),i=is(r,1);for(r=is(r,2),n=is(n,2);!In(r);){var o=i.add(r);0>=o.X(t)&&(s=s.add(n),i=o),r=is(r,1),n=is(n,1)}return e=Jl(t,s.R(e)),new Li(s,e)}for(s=Is;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=mn(n),o=i.R(e);Wt(o)||0<o.X(t);)n-=r,i=mn(n),o=i.R(e);In(i)&&(i=_d),s=s.add(i),t=Jl(t,o)}return new Li(s,t)}O.gb=function(t){return eu(this,t).h};O.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new we(n,this.h&t.h)};O.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new we(n,this.h|t.h)};O.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new we(n,this.h^t.h)};function fy(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new we(n,t.h)}function is(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],i=0;i<r;i++)s[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new we(s,t.h)}Xl.prototype.createWebChannel=Xl.prototype.g;Ft.prototype.send=Ft.prototype.u;Ft.prototype.open=Ft.prototype.m;Ft.prototype.close=Ft.prototype.close;ju.NO_ERROR=0;ju.TIMEOUT=8;ju.HTTP_ERROR=6;jE.COMPLETE="complete";FE.EventType=Wo;Wo.OPEN="a";Wo.CLOSE="b";Wo.ERROR="c";Wo.MESSAGE="d";Xe.prototype.listen=Xe.prototype.O;Me.prototype.listenOnce=Me.prototype.P;Me.prototype.getLastError=Me.prototype.Sa;Me.prototype.getLastErrorCode=Me.prototype.Ia;Me.prototype.getStatus=Me.prototype.da;Me.prototype.getResponseJson=Me.prototype.Wa;Me.prototype.getResponseText=Me.prototype.ja;Me.prototype.send=Me.prototype.ha;Me.prototype.setWithCredentials=Me.prototype.Oa;on.prototype.digest=on.prototype.l;on.prototype.reset=on.prototype.reset;on.prototype.update=on.prototype.j;we.prototype.add=we.prototype.add;we.prototype.multiply=we.prototype.R;we.prototype.modulo=we.prototype.gb;we.prototype.compare=we.prototype.X;we.prototype.toNumber=we.prototype.ea;we.prototype.toString=we.prototype.toString;we.prototype.getBits=we.prototype.D;we.fromNumber=mn;we.fromString=Ex;var qN=function(){return new Xl},KN=function(){return $u()},Xc=ju,GN=jE,QN=ts,py={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ZN=Go,Ua=FE,YN=Me,XN=on,bs=we;const my="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ct.UNAUTHENTICATED=new ct(null),ct.GOOGLE_CREDENTIALS=new ct("google-credentials-uid"),ct.FIRST_PARTY=new ct("first-party-uid"),ct.MOCK_USER=new ct("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oi="9.22.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr=new cE("@firebase/firestore");function gy(){return qr.logLevel}function B(t,...e){if(qr.logLevel<=ve.DEBUG){const n=e.map(Ep);qr.debug(`Firestore (${oi}): ${t}`,...n)}}function On(t,...e){if(qr.logLevel<=ve.ERROR){const n=e.map(Ep);qr.error(`Firestore (${oi}): ${t}`,...n)}}function zs(t,...e){if(qr.logLevel<=ve.WARN){const n=e.map(Ep);qr.warn(`Firestore (${oi}): ${t}`,...n)}}function Ep(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(t="Unexpected state"){const e=`FIRESTORE (${oi}) INTERNAL ASSERTION FAILED: `+t;throw On(e),new Error(e)}function Ie(t,e){t||Q()}function te(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class U extends es{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class JN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ct.UNAUTHENTICATED))}shutdown(){}}class eR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class tR{constructor(e){this.t=e,this.currentUser=ct.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new hr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new hr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new hr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ie(typeof r.accessToken=="string"),new xx(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ie(e===null||typeof e=="string"),new ct(e)}}class nR{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=ct.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class rR{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new nR(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(ct.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iR{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=i=>{i.error!=null&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.T;return this.T=i.token,B("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.I.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.I.getImmediate({optional:!0});i?s(i):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ie(typeof n.token=="string"),this.T=n.token,new sR(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=oR(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function ge(t,e){return t<e?-1:t>e?1:0}function Vs(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new U(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new U(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new U(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new U(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return qe.fromMillis(Date.now())}static fromDate(e){return qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new qe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ge(this.nanoseconds,e.nanoseconds):ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.timestamp=e}static fromTimestamp(e){return new X(e)}static min(){return new X(new qe(0,0))}static max(){return new X(new qe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,n,r){n===void 0?n=0:n>e.length&&Q(),r===void 0?r=e.length-n:r>e.length-n&&Q(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Io.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Io?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Te extends Io{construct(e,n,r){return new Te(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new U(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Te(n)}static emptyPath(){return new Te([])}}const aR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ft extends Io{construct(e,n,r){return new ft(e,n,r)}static isValidIdentifier(e){return aR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ft(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new U(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new U(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new U(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new U(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ft(n)}static emptyPath(){return new ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.path=e}static fromPath(e){return new W(Te.fromString(e))}static fromName(e){return new W(Te.fromString(e).popFirst(5))}static empty(){return new W(Te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Te.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Te.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new W(new Te(e.slice()))}}function lR(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=X.fromTimestamp(r===1e9?new qe(n+1,0):new qe(n,r));return new gr(s,W.empty(),e)}function uR(t){return new gr(t.readTime,t.key,-1)}class gr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new gr(X.min(),W.empty(),-1)}static max(){return new gr(X.max(),W.empty(),-1)}}function cR(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=W.comparator(t.documentKey,e.documentKey),n!==0?n:ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yo(t){if(t.code!==N.FAILED_PRECONDITION||t.message!==hR)throw t;B("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new D((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof D?n:D.resolve(n)}catch(n){return D.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):D.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):D.reject(n)}static resolve(e){return new D((n,r)=>{n(e)})}static reject(e){return new D((n,r)=>{r(e)})}static waitFor(e){return new D((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=D.resolve(!1);for(const r of e)n=n.next(s=>s?D.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new D((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===i&&r(o)},c=>s(c))}})}static doWhile(e,n){return new D((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function Xo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}xp.ct=-1;function qu(t){return t==null}function tu(t){return t===0&&1/t==-1/0}function fR(t){return typeof t=="number"&&Number.isInteger(t)&&!tu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ns(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Lx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e,n){this.comparator=e,this.root=n||nt.EMPTY}insert(e,n){return new Ae(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nt.BLACK,null,null))}remove(e){return new Ae(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ba(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ba(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ba(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ba(this.root,e,this.comparator,!0)}}class Ba{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??nt.RED,this.left=s??nt.EMPTY,this.right=i??nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new nt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return nt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return nt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Q();const e=this.left.check();if(e!==this.right.check())throw Q();return e+(this.isRed()?0:1)}}nt.EMPTY=null,nt.RED=!0,nt.BLACK=!1;nt.EMPTY=new class{constructor(){this.size=0}get key(){throw Q()}get value(){throw Q()}get color(){throw Q()}get left(){throw Q()}get right(){throw Q()}copy(t,e,n,r,s){return this}insert(t,e,n){return new nt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.comparator=e,this.data=new Ae(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new yy(this.data.getIterator())}getIteratorFrom(e){return new yy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof gt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new gt(this.comparator);return n.data=e,n}}class yy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.fields=e,e.sort(ft.comparator)}static empty(){return new At([])}unionWith(e){let n=new gt(ft.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new At(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Vs(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Cx("Invalid base64 string: "+s):s}}(e);return new yt(n)}static fromUint8Array(e){const n=function(r){let s="";for(let i=0;i<r.length;++i)s+=String.fromCharCode(r[i]);return s}(e);return new yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yt.EMPTY_BYTE_STRING=new yt("");const pR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vr(t){if(Ie(!!t),typeof t=="string"){let e=0;const n=pR.exec(t);if(Ie(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ue(t.seconds),nanos:Ue(t.nanos)}}function Ue(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Kr(t){return typeof t=="string"?yt.fromBase64String(t):yt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Lp(t){const e=t.mapValue.fields.__previous_value__;return Sp(e)?Lp(e):e}function bo(t){const e=vr(t.mapValue.fields.__local_write_time__.timestampValue);return new qe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e,n,r,s,i,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class No{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new No("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof No&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Gr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Sp(t)?4:gR(t)?9007199254740991:10:Q()}function xn(t,e){if(t===e)return!0;const n=Gr(t);if(n!==Gr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bo(t).isEqual(bo(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const i=vr(r.timestampValue),o=vr(s.timestampValue);return i.seconds===o.seconds&&i.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return Kr(r.bytesValue).isEqual(Kr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return Ue(r.geoPointValue.latitude)===Ue(s.geoPointValue.latitude)&&Ue(r.geoPointValue.longitude)===Ue(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Ue(r.integerValue)===Ue(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const i=Ue(r.doubleValue),o=Ue(s.doubleValue);return i===o?tu(i)===tu(o):isNaN(i)&&isNaN(o)}return!1}(t,e);case 9:return Vs(t.arrayValue.values||[],e.arrayValue.values||[],xn);case 10:return function(r,s){const i=r.mapValue.fields||{},o=s.mapValue.fields||{};if(vy(i)!==vy(o))return!1;for(const a in i)if(i.hasOwnProperty(a)&&(o[a]===void 0||!xn(i[a],o[a])))return!1;return!0}(t,e);default:return Q()}}function Ro(t,e){return(t.values||[]).find(n=>xn(n,e))!==void 0}function Hs(t,e){if(t===e)return 0;const n=Gr(t),r=Gr(e);if(n!==r)return ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ge(t.booleanValue,e.booleanValue);case 2:return function(s,i){const o=Ue(s.integerValue||s.doubleValue),a=Ue(i.integerValue||i.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return wy(t.timestampValue,e.timestampValue);case 4:return wy(bo(t),bo(e));case 5:return ge(t.stringValue,e.stringValue);case 6:return function(s,i){const o=Kr(s),a=Kr(i);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(s,i){const o=s.split("/"),a=i.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=ge(o[l],a[l]);if(u!==0)return u}return ge(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,i){const o=ge(Ue(s.latitude),Ue(i.latitude));return o!==0?o:ge(Ue(s.longitude),Ue(i.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,i){const o=s.values||[],a=i.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=Hs(o[l],a[l]);if(u)return u}return ge(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,i){if(s===za.mapValue&&i===za.mapValue)return 0;if(s===za.mapValue)return 1;if(i===za.mapValue)return-1;const o=s.fields||{},a=Object.keys(o),l=i.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const d=ge(a[c],u[c]);if(d!==0)return d;const f=Hs(o[a[c]],l[u[c]]);if(f!==0)return f}return ge(a.length,u.length)}(t.mapValue,e.mapValue);default:throw Q()}}function wy(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ge(t,e);const n=vr(t),r=vr(e),s=ge(n.seconds,r.seconds);return s!==0?s:ge(n.nanos,r.nanos)}function Ws(t){return Id(t)}function Id(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const s=vr(r);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Kr(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,W.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let s="[",i=!0;for(const o of r.values||[])i?i=!1:s+=",",s+=Id(o);return s+"]"}(t.arrayValue):"mapValue"in t?function(r){const s=Object.keys(r.fields||{}).sort();let i="{",o=!0;for(const a of s)o?o=!1:i+=",",i+=`${a}:${Id(r.fields[a])}`;return i+"}"}(t.mapValue):Q();var e,n}function Ey(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function bd(t){return!!t&&"integerValue"in t}function Cp(t){return!!t&&"arrayValue"in t}function xy(t){return!!t&&"nullValue"in t}function Sy(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function fl(t){return!!t&&"mapValue"in t}function Wi(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ns(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Wi(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Wi(t.arrayValue.values[n]);return e}return Object.assign({},t)}function gR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.value=e}static empty(){return new Tt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!fl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wi(n)}setAll(e){let n=ft.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Wi(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());fl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return xn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];fl(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ns(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Tt(Wi(this.value))}}function kx(t){const e=[];return ns(t.fields,(n,r)=>{const s=new ft([n]);if(fl(r)){const i=kx(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new At(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new dt(e,0,X.min(),X.min(),X.min(),Tt.empty(),0)}static newFoundDocument(e,n,r,s){return new dt(e,1,n,X.min(),r,s,0)}static newNoDocument(e,n){return new dt(e,2,n,X.min(),X.min(),Tt.empty(),0)}static newUnknownDocument(e,n){return new dt(e,3,n,X.min(),X.min(),Tt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(X.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=X.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n){this.position=e,this.inclusive=n}}function Ly(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=W.comparator(W.fromName(o.referenceValue),n.key):r=Hs(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Cy(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!xn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n="asc"){this.field=e,this.dir=n}}function vR(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{}class ze extends Tx{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new wR(e,n,r):n==="array-contains"?new SR(e,r):n==="in"?new LR(e,r):n==="not-in"?new CR(e,r):n==="array-contains-any"?new kR(e,r):new ze(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ER(e,r):new xR(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Hs(n,this.value)):n!==null&&Gr(this.value)===Gr(n)&&this.matchesComparison(Hs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class an extends Tx{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new an(e,n)}matches(e){return _x(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function _x(t){return t.op==="and"}function Ix(t){return yR(t)&&_x(t)}function yR(t){for(const e of t.filters)if(e instanceof an)return!1;return!0}function Nd(t){if(t instanceof ze)return t.field.canonicalString()+t.op.toString()+Ws(t.value);if(Ix(t))return t.filters.map(e=>Nd(e)).join(",");{const e=t.filters.map(n=>Nd(n)).join(",");return`${t.op}(${e})`}}function bx(t,e){return t instanceof ze?function(n,r){return r instanceof ze&&n.op===r.op&&n.field.isEqual(r.field)&&xn(n.value,r.value)}(t,e):t instanceof an?function(n,r){return r instanceof an&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((s,i,o)=>s&&bx(i,r.filters[o]),!0):!1}(t,e):void Q()}function Nx(t){return t instanceof ze?function(e){return`${e.field.canonicalString()} ${e.op} ${Ws(e.value)}`}(t):t instanceof an?function(e){return e.op.toString()+" {"+e.getFilters().map(Nx).join(" ,")+"}"}(t):"Filter"}class wR extends ze{constructor(e,n,r){super(e,n,r),this.key=W.fromName(r.referenceValue)}matches(e){const n=W.comparator(e.key,this.key);return this.matchesComparison(n)}}class ER extends ze{constructor(e,n){super(e,"in",n),this.keys=Rx("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class xR extends ze{constructor(e,n){super(e,"not-in",n),this.keys=Rx("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Rx(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>W.fromName(r.referenceValue))}class SR extends ze{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Cp(n)&&Ro(n.arrayValue,this.value)}}class LR extends ze{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ro(this.value.arrayValue,n)}}class CR extends ze{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ro(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ro(this.value.arrayValue,n)}}class kR extends ze{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Cp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ro(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.dt=null}}function ky(t,e=null,n=[],r=[],s=null,i=null,o=null){return new TR(t,e,n,r,s,i,o)}function kp(t){const e=te(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Nd(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),qu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ws(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ws(r)).join(",")),e.dt=n}return e.dt}function Tp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!vR(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!bx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Cy(t.startAt,e.startAt)&&Cy(t.endAt,e.endAt)}function Rd(t){return W.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}}function _R(t,e,n,r,s,i,o,a){return new Jo(t,e,n,r,s,i,o,a)}function Px(t){return new Jo(t)}function Ty(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Ax(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function _p(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function Dx(t){return t.collectionGroup!==null}function Ns(t){const e=te(t);if(e.wt===null){e.wt=[];const n=_p(e),r=Ax(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new qi(n)),e.wt.push(new qi(ft.keyField(),"asc"));else{let s=!1;for(const i of e.explicitOrderBy)e.wt.push(i),i.field.isKeyField()&&(s=!0);if(!s){const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new qi(ft.keyField(),i))}}}return e.wt}function $n(t){const e=te(t);if(!e._t)if(e.limitType==="F")e._t=ky(e.path,e.collectionGroup,Ns(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const i of Ns(e)){const o=i.dir==="desc"?"asc":"desc";n.push(new qi(i.field,o))}const r=e.endAt?new nu(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new nu(e.startAt.position,e.startAt.inclusive):null;e._t=ky(e.path,e.collectionGroup,n,e.filters,e.limit,r,s)}return e._t}function Pd(t,e){e.getFirstInequalityField(),_p(t);const n=t.filters.concat([e]);return new Jo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ad(t,e,n){return new Jo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ku(t,e){return Tp($n(t),$n(e))&&t.limitType===e.limitType}function Mx(t){return`${kp($n(t))}|lt:${t.limitType}`}function Dd(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>Nx(r)).join(", ")}]`),qu(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ws(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ws(r)).join(",")),`Target(${n})`}($n(t))}; limitType=${t.limitType})`}function Gu(t,e){return e.isFoundDocument()&&function(n,r){const s=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):W.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,r){for(const s of Ns(n))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const s of n.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(s,i,o){const a=Ly(s,i,o);return s.inclusive?a<=0:a<0}(n.startAt,Ns(n),r)||n.endAt&&!function(s,i,o){const a=Ly(s,i,o);return s.inclusive?a>=0:a>0}(n.endAt,Ns(n),r))}(t,e)}function IR(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Ox(t){return(e,n)=>{let r=!1;for(const s of Ns(t)){const i=bR(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function bR(t,e,n){const r=t.field.isKeyField()?W.comparator(e.key,n.key):function(s,i,o){const a=i.data.field(s),l=o.data.field(s);return a!==null&&l!==null?Hs(a,l):Q()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Q()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ns(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return Lx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR=new Ae(W.comparator);function jn(){return NR}const $x=new Ae(W.comparator);function Ri(...t){let e=$x;for(const n of t)e=e.insert(n.key,n);return e}function jx(t){let e=$x;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Mr(){return Ki()}function Fx(){return Ki()}function Ki(){return new ai(t=>t.toString(),(t,e)=>t.isEqual(e))}const RR=new Ae(W.comparator),PR=new gt(W.comparator);function oe(...t){let e=PR;for(const n of t)e=e.add(n);return e}const AR=new gt(ge);function DR(){return AR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tu(e)?"-0":e}}function Bx(t){return{integerValue:""+t}}function MR(t,e){return fR(e)?Bx(e):Ux(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(){this._=void 0}}function OR(t,e,n){return t instanceof ru?function(r,s){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Sp(s)&&(s=Lp(s)),s&&(i.fields.__previous_value__=s),{mapValue:i}}(n,e):t instanceof Po?Vx(t,e):t instanceof Ao?Hx(t,e):function(r,s){const i=zx(r,s),o=_y(i)+_y(r.gt);return bd(i)&&bd(r.gt)?Bx(o):Ux(r.serializer,o)}(t,e)}function $R(t,e,n){return t instanceof Po?Vx(t,e):t instanceof Ao?Hx(t,e):n}function zx(t,e){return t instanceof su?bd(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class ru extends Qu{}class Po extends Qu{constructor(e){super(),this.elements=e}}function Vx(t,e){const n=Wx(e);for(const r of t.elements)n.some(s=>xn(s,r))||n.push(r);return{arrayValue:{values:n}}}class Ao extends Qu{constructor(e){super(),this.elements=e}}function Hx(t,e){let n=Wx(e);for(const r of t.elements)n=n.filter(s=>!xn(s,r));return{arrayValue:{values:n}}}class su extends Qu{constructor(e,n){super(),this.serializer=e,this.gt=n}}function _y(t){return Ue(t.integerValue||t.doubleValue)}function Wx(t){return Cp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function jR(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Po&&r instanceof Po||n instanceof Ao&&r instanceof Ao?Vs(n.elements,r.elements,xn):n instanceof su&&r instanceof su?xn(n.gt,r.gt):n instanceof ru&&r instanceof ru}(t.transform,e.transform)}class FR{constructor(e,n){this.version=e,this.transformResults=n}}class wn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new wn}static exists(e){return new wn(void 0,e)}static updateTime(e){return new wn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Zu{}function qx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Gx(t.key,wn.none()):new ea(t.key,t.data,wn.none());{const n=t.data,r=Tt.empty();let s=new gt(ft.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new kr(t.key,r,new At(s.toArray()),wn.none())}}function UR(t,e,n){t instanceof ea?function(r,s,i){const o=r.value.clone(),a=by(r.fieldTransforms,s,i.transformResults);o.setAll(a),s.convertToFoundDocument(i.version,o).setHasCommittedMutations()}(t,e,n):t instanceof kr?function(r,s,i){if(!pl(r.precondition,s))return void s.convertToUnknownDocument(i.version);const o=by(r.fieldTransforms,s,i.transformResults),a=s.data;a.setAll(Kx(r)),a.setAll(o),s.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(t,e,n):function(r,s,i){s.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,n)}function Gi(t,e,n,r){return t instanceof ea?function(s,i,o,a){if(!pl(s.precondition,i))return o;const l=s.value.clone(),u=Ny(s.fieldTransforms,a,i);return l.setAll(u),i.convertToFoundDocument(i.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof kr?function(s,i,o,a){if(!pl(s.precondition,i))return o;const l=Ny(s.fieldTransforms,a,i),u=i.data;return u.setAll(Kx(s)),u.setAll(l),i.convertToFoundDocument(i.version,u).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(s,i,o){return pl(s.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):o}(t,e,n)}function BR(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=zx(r.transform,s||null);i!=null&&(n===null&&(n=Tt.empty()),n.set(r.field,i))}return n||null}function Iy(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Vs(n,r,(s,i)=>jR(s,i))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ea extends Zu{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class kr extends Zu{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Kx(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function by(t,e,n){const r=new Map;Ie(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,$R(o,a,n[s]))}return r}function Ny(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,OR(i,o,e))}return r}class Gx extends Zu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zR extends Zu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&UR(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Gi(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Gi(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Fx();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=qx(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(X.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),oe())}isEqual(e){return this.batchId===e.batchId&&Vs(this.mutations,e.mutations,(n,r)=>Iy(n,r))&&Vs(this.baseMutations,e.baseMutations,(n,r)=>Iy(n,r))}}class Ip{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ie(e.mutations.length===r.length);let s=RR;const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Ip(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe,ue;function qR(t){switch(t){default:return Q();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}function Qx(t){if(t===void 0)return On("GRPC error has no .code"),N.UNKNOWN;switch(t){case Fe.OK:return N.OK;case Fe.CANCELLED:return N.CANCELLED;case Fe.UNKNOWN:return N.UNKNOWN;case Fe.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case Fe.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case Fe.INTERNAL:return N.INTERNAL;case Fe.UNAVAILABLE:return N.UNAVAILABLE;case Fe.UNAUTHENTICATED:return N.UNAUTHENTICATED;case Fe.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case Fe.NOT_FOUND:return N.NOT_FOUND;case Fe.ALREADY_EXISTS:return N.ALREADY_EXISTS;case Fe.PERMISSION_DENIED:return N.PERMISSION_DENIED;case Fe.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case Fe.ABORTED:return N.ABORTED;case Fe.OUT_OF_RANGE:return N.OUT_OF_RANGE;case Fe.UNIMPLEMENTED:return N.UNIMPLEMENTED;case Fe.DATA_LOSS:return N.DATA_LOSS;default:return Q()}}(ue=Fe||(Fe={}))[ue.OK=0]="OK",ue[ue.CANCELLED=1]="CANCELLED",ue[ue.UNKNOWN=2]="UNKNOWN",ue[ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ue[ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ue[ue.NOT_FOUND=5]="NOT_FOUND",ue[ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",ue[ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",ue[ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",ue[ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ue[ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ue[ue.ABORTED=10]="ABORTED",ue[ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",ue[ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",ue[ue.INTERNAL=13]="INTERNAL",ue[ue.UNAVAILABLE=14]="UNAVAILABLE",ue[ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Va}static getOrCreateInstance(){return Va===null&&(Va=new bp),Va}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Va=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR=new bs([4294967295,4294967295],0);function Ry(t){const e=KR().encode(t),n=new XN;return n.update(e),new Uint8Array(n.digest())}function Py(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new bs([n,r],0),new bs([s,i],0)]}class Np{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Pi(`Invalid padding: ${n}`);if(r<0)throw new Pi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Pi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Pi(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=bs.fromNumber(this.It)}Et(e,n,r){let s=e.add(n.multiply(bs.fromNumber(r)));return s.compare(GR)===1&&(s=new bs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=Ry(e),[r,s]=Py(n);for(let i=0;i<this.hashCount;i++){const o=this.Et(r,s,i);if(!this.At(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Np(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.It===0)return;const n=Ry(e),[r,s]=Py(n);for(let i=0;i<this.hashCount;i++){const o=this.Et(r,s,i);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Pi extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,ta.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Yu(X.min(),s,new Ae(ge),jn(),oe())}}class ta{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ta(r,n,oe(),oe(),oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e,n,r,s){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=s}}class Zx{constructor(e,n){this.targetId=e,this.Vt=n}}class Yx{constructor(e,n,r=yt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Ay{constructor(){this.St=0,this.Dt=My(),this.Ct=yt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=oe(),n=oe(),r=oe();return this.Dt.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Q()}}),new ta(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=My()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class QR{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=jn(),this.zt=Dy(),this.Wt=new Ae(ge)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:Q()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,s)=>{this.te(s)&&n(s)})}ne(e){var n;const r=e.targetId,s=e.Vt.count,i=this.se(r);if(i){const o=i.target;if(Rd(o))if(s===0){const a=new W(o.path);this.Yt(r,a,dt.newNoDocument(a,X.min()))}else Ie(s===1);else{const a=this.ie(r);if(a!==s){const l=this.re(e,a);if(l!==0){this.ee(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,u)}(n=bp.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(u,c,d){var f,p,y,E,S,m;const g={localCacheCount:c,existenceFilterCount:d.count},v=d.unchangedNames;return v&&(g.bloomFilter={applied:u===0,hashCount:(f=v==null?void 0:v.hashCount)!==null&&f!==void 0?f:0,bitmapLength:(E=(y=(p=v==null?void 0:v.bits)===null||p===void 0?void 0:p.bitmap)===null||y===void 0?void 0:y.length)!==null&&E!==void 0?E:0,padding:(m=(S=v==null?void 0:v.bits)===null||S===void 0?void 0:S.padding)!==null&&m!==void 0?m:0}),g}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:s}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=r;let l,u;try{l=Kr(i).toUint8Array()}catch(c){if(c instanceof Cx)return zs("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw c}try{u=new Np(l,o,a)}catch(c){return zs(c instanceof Pi?"BloomFilter error: ":"Applying bloom filter failed: ",c),1}return u.It===0?1:s!==n-this.oe(e.targetId,u)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let s=0;return r.forEach(i=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;n.vt(a)||(this.Yt(e,i,null),s++)}),s}ce(e){const n=new Map;this.Qt.forEach((i,o)=>{const a=this.se(o);if(a){if(i.current&&Rd(a.target)){const l=new W(a.target.path);this.jt.get(l)!==null||this.ae(o,l)||this.Yt(o,l,dt.newNoDocument(l,e))}i.Mt&&(n.set(o,i.Ot()),i.Ft())}});let r=oe();this.zt.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.se(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.jt.forEach((i,o)=>o.setReadTime(e));const s=new Yu(e,n,this.Wt,this.jt,r);return this.jt=jn(),this.zt=Dy(),this.Wt=new Ae(ge),s}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const s=this.Zt(e);this.ae(e,n)?s.Bt(n,1):s.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new Ay,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new gt(ge),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||B("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Ay),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function Dy(){return new Ae(W.comparator)}function My(){return new Ae(W.comparator)}const ZR=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),YR=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),XR=(()=>({and:"AND",or:"OR"}))();class JR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Md(t,e){return t.useProto3Json||qu(e)?e:{value:e}}function iu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Xx(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function eP(t,e){return iu(t,e.toTimestamp())}function En(t){return Ie(!!t),X.fromTimestamp(function(e){const n=vr(e);return new qe(n.seconds,n.nanos)}(t))}function Rp(t,e){return function(n){return new Te(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function Jx(t){const e=Te.fromString(t);return Ie(rS(e)),e}function Od(t,e){return Rp(t.databaseId,e.path)}function Jc(t,e){const n=Jx(e);if(n.get(1)!==t.databaseId.projectId)throw new U(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new U(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new W(eS(n))}function $d(t,e){return Rp(t.databaseId,e)}function tP(t){const e=Jx(t);return e.length===4?Te.emptyPath():eS(e)}function jd(t){return new Te(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function eS(t){return Ie(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Oy(t,e,n){return{name:Od(t,e),fields:n.value.mapValue.fields}}function nP(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Q()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(l,u){return l.useProto3Json?(Ie(u===void 0||typeof u=="string"),yt.fromBase64String(u||"")):(Ie(u===void 0||u instanceof Uint8Array),yt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?N.UNKNOWN:Qx(l.code);return new U(u,l.message||"")}(o);n=new Yx(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Jc(t,r.document.name),i=En(r.document.updateTime),o=r.document.createTime?En(r.document.createTime):X.min(),a=new Tt({mapValue:{fields:r.document.fields}}),l=dt.newFoundDocument(s,i,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new ml(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Jc(t,r.document),i=r.readTime?En(r.readTime):X.min(),o=dt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new ml([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Jc(t,r.document),i=r.removedTargetIds||[];n=new ml([],i,s,null)}else{if(!("filter"in e))return Q();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new WR(s,i),a=r.targetId;n=new Zx(a,o)}}return n}function rP(t,e){let n;if(e instanceof ea)n={update:Oy(t,e.key,e.value)};else if(e instanceof Gx)n={delete:Od(t,e.key)};else if(e instanceof kr)n={update:Oy(t,e.key,e.data),updateMask:dP(e.fieldMask)};else{if(!(e instanceof zR))return Q();n={verify:Od(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,i){const o=i.transform;if(o instanceof ru)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Po)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Ao)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof su)return{fieldPath:i.field.canonicalString(),increment:o.gt};throw Q()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:eP(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Q()}(t,e.precondition)),n}function sP(t,e){return t&&t.length>0?(Ie(e!==void 0),t.map(n=>function(r,s){let i=r.updateTime?En(r.updateTime):En(s);return i.isEqual(X.min())&&(i=En(s)),new FR(i,r.transformResults||[])}(n,e))):[]}function iP(t,e){return{documents:[$d(t,e.path)]}}function oP(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=$d(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=$d(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(l){if(l.length!==0)return nS(an.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const i=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:os(c.field),direction:uP(c.dir)}}(u))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const o=Md(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function aP(t){let e=tP(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ie(r===1);const c=n.from[0];c.allDescendants?s=c.collectionId:e=e.child(c.collectionId)}let i=[];n.where&&(i=function(c){const d=tS(c);return d instanceof an&&Ix(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(d){return new qi(as(d.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(c)));let a=null;n.limit&&(a=function(c){let d;return d=typeof c=="object"?c.value:c,qu(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(c){const d=!!c.before,f=c.values||[];return new nu(f,d)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const d=!c.before,f=c.values||[];return new nu(f,d)}(n.endAt)),_R(e,s,o,i,a,"F",l,u)}function lP(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function tS(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=as(e.unaryFilter.field);return ze.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=as(e.unaryFilter.field);return ze.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=as(e.unaryFilter.field);return ze.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=as(e.unaryFilter.field);return ze.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Q()}}(t):t.fieldFilter!==void 0?function(e){return ze.create(as(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Q()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return an.create(e.compositeFilter.filters.map(n=>tS(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Q()}}(e.compositeFilter.op))}(t):Q()}function uP(t){return ZR[t]}function cP(t){return YR[t]}function hP(t){return XR[t]}function os(t){return{fieldPath:t.canonicalString()}}function as(t){return ft.fromServerFormat(t.fieldPath)}function nS(t){return t instanceof ze?function(e){if(e.op==="=="){if(Sy(e.value))return{unaryFilter:{field:os(e.field),op:"IS_NAN"}};if(xy(e.value))return{unaryFilter:{field:os(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Sy(e.value))return{unaryFilter:{field:os(e.field),op:"IS_NOT_NAN"}};if(xy(e.value))return{unaryFilter:{field:os(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:os(e.field),op:cP(e.op),value:e.value}}}(t):t instanceof an?function(e){const n=e.getFilters().map(r=>nS(r));return n.length===1?n[0]:{compositeFilter:{op:hP(e.op),filters:n}}}(t):Q()}function dP(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function rS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e,n,r,s,i=X.min(),o=X.min(),a=yt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Xn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e){this.fe=e}}function pP(t){const e=aP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ad(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(){this.rn=new gP}addToCollectionParentIndex(e,n){return this.rn.add(n),D.resolve()}getCollectionParents(e,n){return D.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return D.resolve()}deleteFieldIndex(e,n){return D.resolve()}getDocumentsMatchingTarget(e,n){return D.resolve(null)}getIndexType(e,n){return D.resolve(0)}getFieldIndexes(e,n){return D.resolve([])}getNextCollectionGroupToUpdate(e){return D.resolve(null)}getMinOffset(e,n){return D.resolve(gr.min())}getMinOffsetFromCollectionGroup(e,n){return D.resolve(gr.min())}updateCollectionGroup(e,n,r){return D.resolve()}updateIndexEntries(e,n){return D.resolve()}}class gP{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new gt(Te.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new gt(Te.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new qs(0)}static Mn(){return new qs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(){this.changes=new ai(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?D.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Gi(r.mutation,s,At.empty(),qe.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=oe()){const s=Mr();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Ri();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Mr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,oe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=jn();const o=Ki(),a=Ki();return n.forEach((l,u)=>{const c=r.get(u.key);s.has(u.key)&&(c===void 0||c.mutation instanceof kr)?i=i.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Gi(c.mutation,u,c.mutation.getFieldMask(),qe.now())):o.set(u.key,At.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new yP(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ki();let s=new Ae((o,a)=>o-a),i=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||At.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(s.get(a.batchId)||oe()).add(l);s=s.insert(a.batchId,d)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=Fx();c.forEach(f=>{if(!i.has(f)){const p=qx(n.get(f),r.get(f));p!==null&&d.set(f,p),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return D.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(s){return W.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Dx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):D.resolve(Mr());let a=-1,l=i;return o.next(u=>D.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),i.get(c)?D.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,oe())).next(c=>({batchId:a,changes:jx(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new W(n)).next(r=>{let s=Ri();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const s=n.collectionGroup;let i=Ri();return this.indexManager.getCollectionParents(e,s).next(o=>D.forEach(o,a=>{const l=function(u,c){return new Jo(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,d)=>{i=i.insert(c,d)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(i=>(s=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s))).next(i=>{s.forEach((a,l)=>{const u=l.getKey();i.get(u)===null&&(i=i.insert(u,dt.newInvalidDocument(u)))});let o=Ri();return i.forEach((a,l)=>{const u=s.get(a);u!==void 0&&Gi(u.mutation,l,At.empty(),qe.now()),Gu(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return D.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:En(r.createTime)}),D.resolve()}getNamedQuery(e,n){return D.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:pP(r.bundledQuery),readTime:En(r.readTime)}}(n)),D.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(){this.overlays=new Ae(W.comparator),this.ls=new Map}getOverlay(e,n){return D.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Mr();return D.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.we(e,n,i)}),D.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.ls.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.ls.delete(r)),D.resolve()}getOverlaysForCollection(e,n,r){const s=Mr(),i=n.length+1,o=new W(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return D.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ae((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=i.get(u.largestBatchId);c===null&&(c=Mr(),i=i.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Mr(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=s)););return D.resolve(a)}we(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.ls.get(s.largestBatchId).delete(r.key);this.ls.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new HR(n,r));let i=this.ls.get(n);i===void 0&&(i=oe(),this.ls.set(n,i)),this.ls.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(){this.fs=new gt(Qe.ds),this.ws=new gt(Qe._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Qe(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Qe(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new W(new Te([])),r=new Qe(n,e),s=new Qe(n,e+1),i=[];return this.ws.forEachInRange([r,s],o=>{this.ys(o),i.push(o.key)}),i}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new W(new Te([])),r=new Qe(n,e),s=new Qe(n,e+1);let i=oe();return this.ws.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Qe(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Qe{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return W.comparator(e.key,n.key)||ge(e.As,n.As)}static _s(e,n){return ge(e.As,n.As)||W.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new gt(Qe.ds)}checkEmpty(e){return D.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new VR(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Rs=this.Rs.add(new Qe(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return D.resolve(o)}lookupMutationBatch(e,n){return D.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.bs(r),i=s<0?0:s;return D.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return D.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return D.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Qe(n,0),s=new Qe(n,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([r,s],o=>{const a=this.Ps(o.As);i.push(a)}),D.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new gt(ge);return n.forEach(s=>{const i=new Qe(s,0),o=new Qe(s,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([i,o],a=>{r=r.add(a.As)})}),D.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;W.isDocumentKey(i)||(i=i.child(""));const o=new Qe(new W(i),0);let a=new gt(ge);return this.Rs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.As)),!0)},o),D.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const s=this.Ps(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ie(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return D.forEach(n.mutations,s=>{const i=new Qe(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Qe(n,0),s=this.Rs.firstAfterOrEqual(r);return D.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,D.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e){this.Ds=e,this.docs=new Ae(W.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return D.resolve(r?r.document.mutableCopy():dt.newInvalidDocument(n))}getEntries(e,n){let r=jn();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():dt.newInvalidDocument(s))}),D.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=jn();const o=n.path,a=new W(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||cR(uR(c),r)<=0||(s.has(c.key)||Gu(n,c))&&(i=i.insert(c.key,c.mutableCopy()))}return D.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Q()}Cs(e,n){return D.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new CP(this)}getSize(e){return D.resolve(this.size)}}class CP extends vP{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.os.addEntry(e,s)):this.os.removeEntry(r)}),D.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e){this.persistence=e,this.xs=new ai(n=>kp(n),Tp),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Pp,this.targetCount=0,this.Ms=qs.kn()}forEachTarget(e,n){return this.xs.forEach((r,s)=>n(s)),D.resolve()}getLastRemoteSnapshotVersion(e){return D.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return D.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),D.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),D.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new qs(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,D.resolve()}updateTargetData(e,n){return this.Fn(n),D.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,D.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),D.waitFor(i).next(()=>s)}getTargetCount(e){return D.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return D.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),D.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),D.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),D.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return D.resolve(r)}containsKey(e,n){return D.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e,n){this.$s={},this.overlays={},this.Os=new xp(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new kP(this),this.indexManager=new mP,this.remoteDocumentCache=function(r){return new LP(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new fP(n),this.qs=new EP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new xP,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new SP(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){B("MemoryPersistence","Starting transaction:",e);const s=new _P(this.Os.next());return this.referenceDelegate.Us(),r(s).next(i=>this.referenceDelegate.Ks(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Gs(e,n){return D.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class _P extends dR{constructor(e){super(),this.currentSequenceNumber=e}}class Ap{constructor(e){this.persistence=e,this.Qs=new Pp,this.js=null}static zs(e){return new Ap(e)}get Ws(){if(this.js)return this.js;throw Q()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),D.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),D.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),D.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(s=>this.Ws.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Ws.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return D.forEach(this.Ws,r=>{const s=W.fromPath(r);return this.Hs(e,s).next(i=>{i||n.removeEntry(s,X.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return D.or([()=>D.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=s}static Li(e,n){let r=oe(),s=oe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Dp(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,s){return this.Ki(e,n).next(i=>i||this.Gi(e,n,s,r)).next(i=>i||this.Qi(e,n))}Ki(e,n){if(Ty(n))return D.resolve(null);let r=$n(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Ad(n,null,"F"),r=$n(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=oe(...i);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ji(n,a);return this.zi(n,u,o,l.readTime)?this.Ki(e,Ad(n,null,"F")):this.Wi(e,u,n,l)}))})))}Gi(e,n,r,s){return Ty(n)||s.isEqual(X.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(i=>{const o=this.ji(n,i);return this.zi(n,o,r,s)?this.Qi(e,n):(gy()<=ve.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Dd(n)),this.Wi(e,o,n,lR(s,-1)))})}ji(e,n){let r=new gt(Ox(e));return n.forEach((s,i)=>{Gu(e,i)&&(r=r.add(i))}),r}zi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Qi(e,n){return gy()<=ve.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",Dd(n)),this.Ui.getDocumentsMatchingQuery(e,n,gr.min())}Wi(e,n,r,s){return this.Ui.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e,n,r,s){this.persistence=e,this.Hi=n,this.serializer=s,this.Ji=new Ae(ge),this.Yi=new ai(i=>kp(i),Tp),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wP(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function NP(t,e,n,r){return new bP(t,e,n,r)}async function sS(t,e){const n=te(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=oe();for(const u of s){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of i){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({er:u,removedBatchIds:o,addedBatchIds:a}))})})}function RP(t,e){const n=te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,d=c.keys();let f=D.resolve();return d.forEach(p=>{f=f.next(()=>u.getEntry(a,p)).next(y=>{const E=l.docVersions.get(p);Ie(E!==null),y.version.compareTo(E)<0&&(c.applyToRemoteDocument(y,l),y.isValidDocument()&&(y.setReadTime(l.commitVersion),u.addEntry(y)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=oe();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function iS(t){const e=te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function PP(t,e){const n=te(t),r=e.snapshotVersion;let s=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});s=n.Ji;const a=[];e.targetChanges.forEach((c,d)=>{const f=s.get(d);if(!f)return;a.push(n.Bs.removeMatchingKeys(i,c.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(i,c.addedDocuments,d)));let p=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(yt.EMPTY_BYTE_STRING,X.min()).withLastLimboFreeSnapshotVersion(X.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),s=s.insert(d,p),function(y,E,S){return y.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(f,p,c)&&a.push(n.Bs.updateTargetData(i,p))});let l=jn(),u=oe();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,c))}),a.push(AP(i,o,e.documentUpdates).next(c=>{l=c.nr,u=c.sr})),!r.isEqual(X.min())){const c=n.Bs.getLastRemoteSnapshotVersion(i).next(d=>n.Bs.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(c)}return D.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.Ji=s,i))}function AP(t,e,n){let r=oe(),s=oe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=jn();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(X.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):B("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{nr:o,sr:s}})}function DP(t,e){const n=te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function MP(t,e){const n=te(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Bs.getTargetData(r,e).next(i=>i?(s=i,D.resolve(s)):n.Bs.allocateTargetId(r).next(o=>(s=new Xn(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ji.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function Fd(t,e,n){const r=te(t),s=r.Ji.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Xo(o))throw o;B("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(s.target)}function $y(t,e,n){const r=te(t);let s=X.min(),i=oe();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=te(a),d=c.Yi.get(u);return d!==void 0?D.resolve(c.Ji.get(d)):c.Bs.getTargetData(l,u)}(r,o,$n(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?s:X.min(),n?i:oe())).next(a=>(OP(r,IR(e),a),{documents:a,ir:i})))}function OP(t,e,n){let r=t.Xi.get(e)||X.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Xi.set(e,r)}class jy{constructor(){this.activeTargetIds=DR()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $P{constructor(){this.Hr=new jy,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new jy,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){B("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){B("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ha=null;function eh(){return Ha===null?Ha=268435456+Math.round(2147483648*Math.random()):Ha++,"0x"+Ha.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ut="WebChannelConnection";class BP extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,s,i){const o=eh(),a=this.To(e,n);B("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const l={};return this.Eo(l,s,i),this.Ao(e,a,l,r).then(u=>(B("RestConnection",`Received RPC '${e}' ${o}: `,u),u),u=>{throw zs("RestConnection",`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}vo(e,n,r,s,i,o){return this.Io(e,n,r,s,i)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+oi,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}To(e,n){const r=FP[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,s){const i=eh();return new Promise((o,a)=>{const l=new YN;l.setWithCredentials(!0),l.listenOnce(GN.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Xc.NO_ERROR:const c=l.getResponseJson();B(ut,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(c)),o(c);break;case Xc.TIMEOUT:B(ut,`RPC '${e}' ${i} timed out`),a(new U(N.DEADLINE_EXCEEDED,"Request time out"));break;case Xc.HTTP_ERROR:const d=l.getStatus();if(B(ut,`RPC '${e}' ${i} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const y=function(E){const S=E.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(S)>=0?S:N.UNKNOWN}(p.status);a(new U(y,p.message))}else a(new U(N.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new U(N.UNAVAILABLE,"Connection failed."));break;default:Q()}}finally{B(ut,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);B(ut,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",u,r,15)})}Ro(e,n,r){const s=eh(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=qN(),a=KN(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new ZN({})),this.Eo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=i.join("");B(ut,`Creating RPC '${e}' stream ${s}: ${c}`,l);const d=o.createWebChannel(c,l);let f=!1,p=!1;const y=new UP({ro:S=>{p?B(ut,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(f||(B(ut,`Opening RPC '${e}' stream ${s} transport.`),d.open(),f=!0),B(ut,`RPC '${e}' stream ${s} sending:`,S),d.send(S))},oo:()=>d.close()}),E=(S,m,g)=>{S.listen(m,v=>{try{g(v)}catch(w){setTimeout(()=>{throw w},0)}})};return E(d,Ua.EventType.OPEN,()=>{p||B(ut,`RPC '${e}' stream ${s} transport opened.`)}),E(d,Ua.EventType.CLOSE,()=>{p||(p=!0,B(ut,`RPC '${e}' stream ${s} transport closed`),y.wo())}),E(d,Ua.EventType.ERROR,S=>{p||(p=!0,zs(ut,`RPC '${e}' stream ${s} transport errored:`,S),y.wo(new U(N.UNAVAILABLE,"The operation could not be completed")))}),E(d,Ua.EventType.MESSAGE,S=>{var m;if(!p){const g=S.data[0];Ie(!!g);const v=g,w=v.error||((m=v[0])===null||m===void 0?void 0:m.error);if(w){B(ut,`RPC '${e}' stream ${s} received error:`,w);const k=w.status;let L=function(I){const C=Fe[I];if(C!==void 0)return Qx(C)}(k),_=w.message;L===void 0&&(L=N.INTERNAL,_="Unknown error status: "+k+" with message "+w.message),p=!0,y.wo(new U(L,_)),d.close()}else B(ut,`RPC '${e}' stream ${s} received:`,g),y._o(g)}}),E(a,QN.STAT_EVENT,S=>{S.stat===py.PROXY?B(ut,`RPC '${e}' stream ${s} detected buffering proxy`):S.stat===py.NOPROXY&&B(ut,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{y.fo()},0),y}}function th(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xu(t){return new JR(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=s,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),s=Math.max(0,n-r);s>0&&B("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,s,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,n,r,s,i,o,a,l){this.ii=e,this.$o=r,this.Oo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new oS(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(On(n.toString()),On("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Fo===n&&this.Zo(r,s)},r=>{e(()=>{const s=new U(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(s)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(s=>{r(()=>this.tu(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return B("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(B("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zP extends aS{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=nP(this.serializer,e),r=function(s){if(!("targetChange"in s))return X.min();const i=s.targetChange;return i.targetIds&&i.targetIds.length?X.min():i.readTime?En(i.readTime):X.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=jd(this.serializer),n.addTarget=function(s,i){let o;const a=i.target;if(o=Rd(a)?{documents:iP(s,a)}:{query:oP(s,a)},o.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){o.resumeToken=Xx(s,i.resumeToken);const l=Md(s,i.expectedCount);l!==null&&(o.expectedCount=l)}else if(i.snapshotVersion.compareTo(X.min())>0){o.readTime=iu(s,i.snapshotVersion.toTimestamp());const l=Md(s,i.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const r=lP(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=jd(this.serializer),n.removeTarget=e,this.Wo(n)}}class VP extends aS{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Ie(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=sP(e.writeResults,e.commitTime),r=En(e.commitTime);return this.listener.cu(r,n)}return Ie(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=jd(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>rP(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.lu=!1}fu(){if(this.lu)throw new U(N.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.Io(e,n,r,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new U(N.UNKNOWN,s.toString())})}vo(e,n,r,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.vo(e,n,r,i,o,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new U(N.UNKNOWN,i.toString())})}terminate(){this.lu=!0}}class WP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(On(n),this.mu=!1):B("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr(o=>{r.enqueueAndForget(async()=>{rs(this)&&(B("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=te(a);l.vu.add(4),await na(l),l.bu.set("Unknown"),l.vu.delete(4),await Ju(l)}(this))})}),this.bu=new WP(r,s)}}async function Ju(t){if(rs(t))for(const e of t.Ru)await e(!0)}async function na(t){for(const e of t.Ru)await e(!1)}function lS(t,e){const n=te(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),$p(n)?Op(n):li(n).Ko()&&Mp(n,e))}function uS(t,e){const n=te(t),r=li(n);n.Au.delete(e),r.Ko()&&cS(n,e),n.Au.size===0&&(r.Ko()?r.jo():rs(n)&&n.bu.set("Unknown"))}function Mp(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(X.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}li(t).su(e)}function cS(t,e){t.Vu.qt(e),li(t).iu(e)}function Op(t){t.Vu=new QR({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),li(t).start(),t.bu.gu()}function $p(t){return rs(t)&&!li(t).Uo()&&t.Au.size>0}function rs(t){return te(t).vu.size===0}function hS(t){t.Vu=void 0}async function KP(t){t.Au.forEach((e,n)=>{Mp(t,e)})}async function GP(t,e){hS(t),$p(t)?(t.bu.Iu(e),Op(t)):t.bu.set("Unknown")}async function QP(t,e,n){if(t.bu.set("Online"),e instanceof Yx&&e.state===2&&e.cause)try{await async function(r,s){const i=s.cause;for(const o of s.targetIds)r.Au.has(o)&&(await r.remoteSyncer.rejectListen(o,i),r.Au.delete(o),r.Vu.removeTarget(o))}(t,e)}catch(r){B("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ou(t,r)}else if(e instanceof ml?t.Vu.Ht(e):e instanceof Zx?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(X.min()))try{const r=await iS(t.localStore);n.compareTo(r)>=0&&await function(s,i){const o=s.Vu.ce(i);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=s.Au.get(l);u&&s.Au.set(l,u.withResumeToken(a.resumeToken,i))}}),o.targetMismatches.forEach((a,l)=>{const u=s.Au.get(a);if(!u)return;s.Au.set(a,u.withResumeToken(yt.EMPTY_BYTE_STRING,u.snapshotVersion)),cS(s,a);const c=new Xn(u.target,a,l,u.sequenceNumber);Mp(s,c)}),s.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){B("RemoteStore","Failed to raise snapshot:",r),await ou(t,r)}}async function ou(t,e,n){if(!Xo(e))throw e;t.vu.add(1),await na(t),t.bu.set("Offline"),n||(n=()=>iS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{B("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await Ju(t)})}function dS(t,e){return e().catch(n=>ou(t,n,e))}async function ec(t){const e=te(t),n=yr(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;ZP(e);)try{const s=await DP(e.localStore,r);if(s===null){e.Eu.length===0&&n.jo();break}r=s.batchId,YP(e,s)}catch(s){await ou(e,s)}fS(e)&&pS(e)}function ZP(t){return rs(t)&&t.Eu.length<10}function YP(t,e){t.Eu.push(e);const n=yr(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function fS(t){return rs(t)&&!yr(t).Uo()&&t.Eu.length>0}function pS(t){yr(t).start()}async function XP(t){yr(t).hu()}async function JP(t){const e=yr(t);for(const n of t.Eu)e.uu(n.mutations)}async function eA(t,e,n){const r=t.Eu.shift(),s=Ip.from(r,e,n);await dS(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await ec(t)}async function tA(t,e){e&&yr(t).ou&&await async function(n,r){if(s=r.code,qR(s)&&s!==N.ABORTED){const i=n.Eu.shift();yr(n).Qo(),await dS(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,r)),await ec(n)}var s}(t,e),fS(t)&&pS(t)}async function Uy(t,e){const n=te(t);n.asyncQueue.verifyOperationInProgress(),B("RemoteStore","RemoteStore received new credentials");const r=rs(n);n.vu.add(3),await na(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await Ju(n)}async function nA(t,e){const n=te(t);e?(n.vu.delete(2),await Ju(n)):e||(n.vu.add(2),await na(n),n.bu.set("Unknown"))}function li(t){return t.Su||(t.Su=function(e,n,r){const s=te(e);return s.fu(),new zP(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{uo:KP.bind(null,t),ao:GP.bind(null,t),nu:QP.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),$p(t)?Op(t):t.bu.set("Unknown")):(await t.Su.stop(),hS(t))})),t.Su}function yr(t){return t.Du||(t.Du=function(e,n,r){const s=te(e);return s.fu(),new VP(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{uo:XP.bind(null,t),ao:tA.bind(null,t),au:JP.bind(null,t),cu:eA.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await ec(t)):(await t.Du.stop(),t.Eu.length>0&&(B("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new jp(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new U(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fp(t,e){if(On("AsyncQueue",`${e}: ${t}`),Xo(t))return new U(N.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e){this.comparator=e?(n,r)=>e(n,r)||W.comparator(n.key,r.key):(n,r)=>W.comparator(n.key,r.key),this.keyedMap=Ri(),this.sortedSet=new Ae(this.comparator)}static emptySet(e){return new Rs(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Rs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Rs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(){this.Cu=new Ae(W.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):Q():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ks{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ks(e,n,Rs.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ku(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(){this.Nu=void 0,this.listeners=[]}}class sA{constructor(){this.queries=new ai(e=>Mx(e),Ku),this.onlineState="Unknown",this.ku=new Set}}async function iA(t,e){const n=te(t),r=e.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new rA),s)try{i.Nu=await n.onListen(r)}catch(o){const a=Fp(o,`Initialization of query '${Dd(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,i),i.listeners.push(e),e.Mu(n.onlineState),i.Nu&&e.$u(i.Nu)&&Up(n)}async function oA(t,e){const n=te(t),r=e.query;let s=!1;const i=n.queries.get(r);if(i){const o=i.listeners.indexOf(e);o>=0&&(i.listeners.splice(o,1),s=i.listeners.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function aA(t,e){const n=te(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.listeners)a.$u(s)&&(r=!0);o.Nu=s}}r&&Up(n)}function lA(t,e,n){const r=te(t),s=r.queries.get(e);if(s)for(const i of s.listeners)i.onError(n);r.queries.delete(e)}function Up(t){t.ku.forEach(e=>{e.next()})}class uA{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ks(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=Ks.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e){this.key=e}}class gS{constructor(e){this.key=e}}class cA{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=oe(),this.mutatedKeys=oe(),this.tc=Ox(e),this.ec=new Rs(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new By,s=n?n.ec:this.ec;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((c,d)=>{const f=s.get(c),p=Gu(this.query,d)?d:null,y=!!f&&this.mutatedKeys.has(f.key),E=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let S=!1;f&&p?f.data.isEqual(p.data)?y!==E&&(r.track({type:3,doc:p}),S=!0):this.rc(f,p)||(r.track({type:2,doc:p}),S=!0,(l&&this.tc(p,l)>0||u&&this.tc(p,u)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),S=!0):f&&!p&&(r.track({type:1,doc:f}),S=!0,(l||u)&&(a=!0)),S&&(p?(o=o.add(p),i=E?i.add(c):i.delete(c)):(o=o.delete(c),i=i.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),i=i.delete(c.key),r.track({type:1,doc:c})}return{ec:o,ic:r,zi:a,mutatedKeys:i}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const s=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort((u,c)=>function(d,f){const p=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q()}};return p(d)-p(f)}(u.type,c.type)||this.tc(u.doc,c.doc)),this.oc(r);const o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,i.length!==0||l?{snapshot:new Ks(this.query,e.ec,s,i,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new By,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=oe(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new gS(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new mS(r))}),n}hc(e){this.Yu=e.ir,this.Zu=oe();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Ks.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class hA{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class dA{constructor(e){this.key=e,this.fc=!1}}class fA{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new ai(a=>Mx(a),Ku),this._c=new Map,this.mc=new Set,this.gc=new Ae(W.comparator),this.yc=new Map,this.Ic=new Pp,this.Tc={},this.Ec=new Map,this.Ac=qs.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function pA(t,e){const n=CA(t);let r,s;const i=n.wc.get(e);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.lc();else{const o=await MP(n.localStore,$n(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,s=await mA(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&lS(n.remoteStore,o)}return s}async function mA(t,e,n,r,s){t.Rc=(d,f,p)=>async function(y,E,S,m){let g=E.view.sc(S);g.zi&&(g=await $y(y.localStore,E.query,!1).then(({documents:k})=>E.view.sc(k,g)));const v=m&&m.targetChanges.get(E.targetId),w=E.view.applyChanges(g,y.isPrimaryClient,v);return Vy(y,E.targetId,w.cc),w.snapshot}(t,d,f,p);const i=await $y(t.localStore,e,!0),o=new cA(e,i.ir),a=o.sc(i.documents),l=ta.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);Vy(t,n,u.cc);const c=new hA(e,n,o);return t.wc.set(e,c),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),u.snapshot}async function gA(t,e){const n=te(t),r=n.wc.get(e),s=n._c.get(r.targetId);if(s.length>1)return n._c.set(r.targetId,s.filter(i=>!Ku(i,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Fd(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),uS(n.remoteStore,r.targetId),Ud(n,r.targetId)}).catch(Yo)):(Ud(n,r.targetId),await Fd(n.localStore,r.targetId,!0))}async function vA(t,e,n){const r=kA(t);try{const s=await function(i,o){const a=te(i),l=qe.now(),u=o.reduce((f,p)=>f.add(p.key),oe());let c,d;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=jn(),y=oe();return a.Zi.getEntries(f,u).next(E=>{p=E,p.forEach((S,m)=>{m.isValidDocument()||(y=y.add(S))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,p)).next(E=>{c=E;const S=[];for(const m of o){const g=BR(m,c.get(m.key).overlayedDocument);g!=null&&S.push(new kr(m.key,g,kx(g.value.mapValue),wn.exists(!0)))}return a.mutationQueue.addMutationBatch(f,l,S,o)}).next(E=>{d=E;const S=E.applyToLocalDocumentSet(c,y);return a.documentOverlayCache.saveOverlays(f,E.batchId,S)})}).then(()=>({batchId:d.batchId,changes:jx(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(i,o,a){let l=i.Tc[i.currentUser.toKey()];l||(l=new Ae(ge)),l=l.insert(o,a),i.Tc[i.currentUser.toKey()]=l}(r,s.batchId,n),await ra(r,s.changes),await ec(r.remoteStore)}catch(s){const i=Fp(s,"Failed to persist write");n.reject(i)}}async function vS(t,e){const n=te(t);try{const r=await PP(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.yc.get(i);o&&(Ie(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.fc=!0:s.modifiedDocuments.size>0?Ie(o.fc):s.removedDocuments.size>0&&(Ie(o.fc),o.fc=!1))}),await ra(n,r,e)}catch(r){await Yo(r)}}function zy(t,e,n){const r=te(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.wc.forEach((i,o)=>{const a=o.view.Mu(e);a.snapshot&&s.push(a.snapshot)}),function(i,o){const a=te(i);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const d of c.listeners)d.Mu(o)&&(l=!0)}),l&&Up(a)}(r.eventManager,e),s.length&&r.dc.nu(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function yA(t,e,n){const r=te(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.yc.get(e),i=s&&s.key;if(i){let o=new Ae(W.comparator);o=o.insert(i,dt.newNoDocument(i,X.min()));const a=oe().add(i),l=new Yu(X.min(),new Map,new Ae(ge),o,a);await vS(r,l),r.gc=r.gc.remove(i),r.yc.delete(e),Bp(r)}else await Fd(r.localStore,e,!1).then(()=>Ud(r,e,n)).catch(Yo)}async function wA(t,e){const n=te(t),r=e.batch.batchId;try{const s=await RP(n.localStore,e);wS(n,r,null),yS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ra(n,s)}catch(s){await Yo(s)}}async function EA(t,e,n){const r=te(t);try{const s=await function(i,o){const a=te(i);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(Ie(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);wS(r,e,n),yS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ra(r,s)}catch(s){await Yo(s)}}function yS(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function wS(t,e,n){const r=te(t);let s=r.Tc[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Tc[r.currentUser.toKey()]=s}}function Ud(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||ES(t,r)})}function ES(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(uS(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),Bp(t))}function Vy(t,e,n){for(const r of n)r instanceof mS?(t.Ic.addReference(r.key,e),xA(t,r)):r instanceof gS?(B("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||ES(t,r.key)):Q()}function xA(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(B("SyncEngine","New document in limbo: "+n),t.mc.add(r),Bp(t))}function Bp(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new W(Te.fromString(e)),r=t.Ac.next();t.yc.set(r,new dA(n)),t.gc=t.gc.insert(n,r),lS(t.remoteStore,new Xn($n(Px(n.path)),r,"TargetPurposeLimboResolution",xp.ct))}}async function ra(t,e,n){const r=te(t),s=[],i=[],o=[];r.wc.isEmpty()||(r.wc.forEach((a,l)=>{o.push(r.Rc(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){s.push(u);const c=Dp.Li(l.targetId,u);i.push(c)}}))}),await Promise.all(o),r.dc.nu(s),await async function(a,l){const u=te(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>D.forEach(l,d=>D.forEach(d.Fi,f=>u.persistence.referenceDelegate.addReference(c,d.targetId,f)).next(()=>D.forEach(d.Bi,f=>u.persistence.referenceDelegate.removeReference(c,d.targetId,f)))))}catch(c){if(!Xo(c))throw c;B("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const d=c.targetId;if(!c.fromCache){const f=u.Ji.get(d),p=f.snapshotVersion,y=f.withLastLimboFreeSnapshotVersion(p);u.Ji=u.Ji.insert(d,y)}}}(r.localStore,i))}async function SA(t,e){const n=te(t);if(!n.currentUser.isEqual(e)){B("SyncEngine","User change. New user:",e.toKey());const r=await sS(n.localStore,e);n.currentUser=e,function(s,i){s.Ec.forEach(o=>{o.forEach(a=>{a.reject(new U(N.CANCELLED,i))})}),s.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ra(n,r.er)}}function LA(t,e){const n=te(t),r=n.yc.get(e);if(r&&r.fc)return oe().add(r.key);{let s=oe();const i=n._c.get(e);if(!i)return s;for(const o of i){const a=n.wc.get(o);s=s.unionWith(a.view.nc)}return s}}function CA(t){const e=te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=vS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=LA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yA.bind(null,e),e.dc.nu=aA.bind(null,e.eventManager),e.dc.Pc=lA.bind(null,e.eventManager),e}function kA(t){const e=te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EA.bind(null,e),e}class Hy{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Xu(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return NP(this.persistence,new IP,e.initialUser,this.serializer)}createPersistence(e){return new TP(Ap.zs,this.serializer)}createSharedClientState(e){return new $P}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class TA{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>zy(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=SA.bind(null,this.syncEngine),await nA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new sA}createDatastore(e){const n=Xu(e.databaseInfo.databaseId),r=(s=e.databaseInfo,new BP(s));var s;return function(i,o,a,l){return new HP(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,s=e.asyncQueue,i=a=>zy(this.syncEngine,a,0),o=Fy.D()?new Fy:new jP,new qP(n,r,s,i,o);var n,r,s,i,o}createSyncEngine(e,n){return function(r,s,i,o,a,l,u){const c=new fA(r,s,i,o,a,l);return u&&(c.vc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=te(e);B("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await na(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):On("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=ct.UNAUTHENTICATED,this.clientId=Sx.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{B("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(B("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new U(N.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Fp(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function nh(t,e){t.asyncQueue.verifyOperationInProgress(),B("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await sS(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Wy(t,e){t.asyncQueue.verifyOperationInProgress();const n=await NA(t);B("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(s=>Uy(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,i)=>Uy(e.remoteStore,i)),t._onlineComponents=e}function bA(t){return t.name==="FirebaseError"?t.code===N.FAILED_PRECONDITION||t.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function NA(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){B("FirestoreClient","Using user provided OfflineComponentProvider");try{await nh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!bA(n))throw n;zs("Error using user provided cache. Falling back to memory cache: "+n),await nh(t,new Hy)}}else B("FirestoreClient","Using default OfflineComponentProvider"),await nh(t,new Hy);return t._offlineComponents}async function xS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(B("FirestoreClient","Using user provided OnlineComponentProvider"),await Wy(t,t._uninitializedComponentsProvider._online)):(B("FirestoreClient","Using default OnlineComponentProvider"),await Wy(t,new TA))),t._onlineComponents}function RA(t){return xS(t).then(e=>e.syncEngine)}async function PA(t){const e=await xS(t),n=e.eventManager;return n.onListen=pA.bind(null,e.syncEngine),n.onUnlisten=gA.bind(null,e.syncEngine),n}function AA(t,e,n={}){const r=new hr;return t.asyncQueue.enqueueAndForget(async()=>function(s,i,o,a,l){const u=new _A({next:d=>{i.enqueueAndForget(()=>oA(s,c)),d.fromCache&&a.source==="server"?l.reject(new U(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new uA(o,u,{includeMetadataChanges:!0,Ku:!0});return iA(s,c)}(await PA(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(t,e,n){if(!n)throw new U(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function DA(t,e,n,r){if(e===!0&&r===!0)throw new U(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Ky(t){if(!W.isDocumentKey(t))throw new U(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Gy(t){if(W.isDocumentKey(t))throw new U(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function tc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Q()}function Gs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new U(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tc(t);throw new U(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new U(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new U(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=SS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new U(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new U(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new U(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class nc{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qy({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new U(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new U(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qy(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new JN;switch(n.type){case"firstParty":return new rR(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new U(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=qy.get(e);n&&(B("ComponentProvider","Removing Datastore"),qy.delete(e),n.terminate())}(this),Promise.resolve()}}function MA(t,e,n,r={}){var s;const i=(t=Gs(t,nc))._getSettings();if(i.host!=="firestore.googleapis.com"&&i.host!==e&&zs("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=ct.MOCK_USER;else{o=lE(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new U(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new ct(l)}t._authCredentials=new eR(new xx(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ot(this.firestore,e,this._key)}}class ui{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ui(this.firestore,e,this._query)}}class dr extends ui{constructor(e,n,r){super(e,n,Px(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new W(e))}withConverter(e){return new dr(this.firestore,e,this._path)}}function rc(t,e,...n){if(t=jt(t),LS("collection","path",e),t instanceof nc){const r=Te.fromString(e,...n);return Gy(r),new dr(t,null,r)}{if(!(t instanceof Ot||t instanceof dr))throw new U(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Te.fromString(e,...n));return Gy(r),new dr(t.firestore,null,r)}}function sc(t,e,...n){if(t=jt(t),arguments.length===1&&(e=Sx.A()),LS("doc","path",e),t instanceof nc){const r=Te.fromString(e,...n);return Ky(r),new Ot(t,null,new W(r))}{if(!(t instanceof Ot||t instanceof dr))throw new U(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Te.fromString(e,...n));return Ky(r),new Ot(t.firestore,t instanceof dr?t.converter:null,new W(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new oS(this,"async_queue_retry"),this.Xc=()=>{const n=th();n&&B("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=th();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=th();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new hr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Xo(e))throw e;B("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const s=function(i){let o=i.message||"";return i.stack&&(o=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),o}(r);throw On("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const s=jp.createAndSchedule(this,e,n,r,i=>this.na(i));return this.zc.push(s),s}Zc(){this.Wc&&Q()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class ic extends nc{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new OA,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||kS(this),this._firestoreClient.terminate()}}function $A(t,e){const n=typeof t=="object"?t:gE(),r=typeof t=="string"?t:e||"(default)",s=fE(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=oE("firestore");i&&MA(s,...i)}return s}function CS(t){return t._firestoreClient||kS(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function kS(t){var e,n,r;const s=t._freezeSettings(),i=function(o,a,l,u){return new mR(o,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,SS(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new IA(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.cache.kind,_offline:s.cache._offlineComponentProvider,_online:s.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qs(yt.fromBase64String(e))}catch(n){throw new U(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qs(yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new U(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new U(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new U(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ge(this._lat,e._lat)||ge(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA=/^__.*__$/;class FA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new kr(e,this.data,this.fieldMask,n,this.fieldTransforms):new ea(e,this.data,n,this.fieldTransforms)}}class TS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new kr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function _S(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q()}}class Hp{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Hp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.aa({path:r,la:!1});return s.fa(e),s}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.aa({path:r,la:!1});return s.ua(),s}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return au(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(_S(this.ca)&&jA.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class UA{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Xu(e)}ya(e,n,r,s=!1){return new Hp({ca:e,methodName:n,ga:r,path:ft.emptyPath(),la:!1,ma:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wp(t){const e=t._freezeSettings(),n=Xu(t._databaseId);return new UA(t._databaseId,!!e.ignoreUndefinedProperties,n)}function BA(t,e,n,r,s,i={}){const o=t.ya(i.merge||i.mergeFields?2:0,e,n,s);qp("Data must be an object, but it was:",o,r);const a=IS(r,o);let l,u;if(i.merge)l=new At(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const c=[];for(const d of i.mergeFields){const f=Bd(e,d,n);if(!o.contains(f))throw new U(N.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);NS(c,f)||c.push(f)}l=new At(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new FA(new Tt(a),l,u)}class ac extends zp{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ac}}function zA(t,e,n,r){const s=t.ya(1,e,n);qp("Data must be an object, but it was:",s,r);const i=[],o=Tt.empty();ns(r,(l,u)=>{const c=Kp(e,l,n);u=jt(u);const d=s.da(c);if(u instanceof ac)i.push(c);else{const f=sa(u,d);f!=null&&(i.push(c),o.set(c,f))}});const a=new At(i);return new TS(o,a,s.fieldTransforms)}function VA(t,e,n,r,s,i){const o=t.ya(1,e,n),a=[Bd(e,r,n)],l=[s];if(i.length%2!=0)throw new U(N.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(Bd(e,i[f])),l.push(i[f+1]);const u=[],c=Tt.empty();for(let f=a.length-1;f>=0;--f)if(!NS(u,a[f])){const p=a[f];let y=l[f];y=jt(y);const E=o.da(p);if(y instanceof ac)u.push(p);else{const S=sa(y,E);S!=null&&(u.push(p),c.set(p,S))}}const d=new At(u);return new TS(c,d,o.fieldTransforms)}function HA(t,e,n,r=!1){return sa(n,t.ya(r?4:3,e))}function sa(t,e){if(bS(t=jt(t)))return qp("Unsupported field value:",e,t),IS(t,e);if(t instanceof zp)return function(n,r){if(!_S(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const s=[];let i=0;for(const o of n){let a=sa(o,r.wa(i));a==null&&(a={nullValue:"NULL_VALUE"}),s.push(a),i++}return{arrayValue:{values:s}}}(t,e)}return function(n,r){if((n=jt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return MR(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=qe.fromDate(n);return{timestampValue:iu(r.serializer,s)}}if(n instanceof qe){const s=new qe(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:iu(r.serializer,s)}}if(n instanceof Vp)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Qs)return{bytesValue:Xx(r.serializer,n._byteString)};if(n instanceof Ot){const s=r.databaseId,i=n.firestore._databaseId;if(!i.isEqual(s))throw r._a(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Rp(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${tc(n)}`)}(t,e)}function IS(t,e){const n={};return Lx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ns(t,(r,s)=>{const i=sa(s,e.ha(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function bS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof qe||t instanceof Vp||t instanceof Qs||t instanceof Ot||t instanceof zp)}function qp(t,e,n){if(!bS(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=tc(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function Bd(t,e,n){if((e=jt(e))instanceof oc)return e._internalPath;if(typeof e=="string")return Kp(t,e);throw au("Field path arguments must be of type string or ",t,!1,void 0,n)}const WA=new RegExp("[~\\*/\\[\\]]");function Kp(t,e,n){if(e.search(WA)>=0)throw au(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new oc(...e.split("."))._internalPath}catch{throw au(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function au(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new U(N.INVALID_ARGUMENT,a+t+l)}function NS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Gp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class qA extends RS{data(){return super.data()}}function Gp(t,e){return typeof e=="string"?Kp(t,e):e instanceof oc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new U(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qp{}class GA extends Qp{}function Zp(t,e,...n){let r=[];e instanceof Qp&&r.push(e),r=r.concat(n),function(s){const i=s.filter(a=>a instanceof Xp).length,o=s.filter(a=>a instanceof lc).length;if(i>1||i>0&&o>0)throw new U(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class lc extends GA{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new lc(e,n,r)}_apply(e){const n=this._parse(e);return PS(e._query,n),new ui(e.firestore,e.converter,Pd(e._query,n))}_parse(e){const n=Wp(e.firestore);return function(s,i,o,a,l,u,c){let d;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new U(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){Yy(c,u);const f=[];for(const p of c)f.push(Zy(a,s,p));d={arrayValue:{values:f}}}else d=Zy(a,s,c)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||Yy(c,u),d=HA(o,i,c,u==="in"||u==="not-in");return ze.create(l,u,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Yp(t,e,n){const r=e,s=Gp("where",t);return lc._create(s,r,n)}class Xp extends Qp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Xp(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:an.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,s){let i=r;const o=s.getFlattenedFilters();for(const a of o)PS(i,a),i=Pd(i,a)}(e._query,n),new ui(e.firestore,e.converter,Pd(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Zy(t,e,n){if(typeof(n=jt(n))=="string"){if(n==="")throw new U(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Dx(e)&&n.indexOf("/")!==-1)throw new U(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Te.fromString(n));if(!W.isDocumentKey(r))throw new U(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ey(t,new W(r))}if(n instanceof Ot)return Ey(t,n._key);throw new U(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tc(n)}.`)}function Yy(t,e){if(!Array.isArray(t)||t.length===0)throw new U(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function PS(t,e){if(e.isInequality()){const r=_p(t),s=e.field;if(r!==null&&!r.isEqual(s))throw new U(N.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${s.toString()}'`);const i=Ax(t);i!==null&&QA(t,s,i)}const n=function(r,s){for(const i of r)for(const o of i.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new U(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new U(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function QA(t,e,n){if(!n.isEqual(e))throw new U(N.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class ZA{convertValue(e,n="none"){switch(Gr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ue(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Kr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Q()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ns(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new Vp(Ue(e.latitude),Ue(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Lp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(bo(e));default:return null}}convertTimestamp(e){const n=vr(e);return new qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Te.fromString(e);Ie(rS(r));const s=new No(r.get(1),r.get(3)),i=new W(r.popFirst(5));return s.isEqual(n)||On(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class XA extends RS{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new gl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Gp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class gl extends XA{data(e={}){return super.data(e)}}class JA{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Wa(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new gl(this._firestore,this._userDataWriter,r.key,r,new Wa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new U(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let i=0;return r._snapshot.docChanges.map(o=>{const a=new gl(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Wa(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:i++}})}{let i=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const a=new gl(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Wa(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=i.indexOf(o.doc.key),i=i.delete(o.doc.key)),o.type!==1&&(i=i.add(o.doc),u=i.indexOf(o.doc.key)),{type:eD(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function eD(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q()}}class tD extends ZA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,n)}}function Jp(t){t=Gs(t,ui);const e=Gs(t.firestore,ic),n=CS(e),r=new tD(e);return KA(t._query),AA(n,t._query).then(s=>new JA(e,r,t,s))}function em(t,e,n,...r){t=Gs(t,Ot);const s=Gs(t.firestore,ic),i=Wp(s);let o;return o=typeof(e=jt(e))=="string"||e instanceof oc?VA(i,"updateDoc",t._key,e,n,r):zA(i,"updateDoc",t._key,e),AS(s,[o.toMutation(t._key,wn.exists(!0))])}function nD(t,e){const n=Gs(t.firestore,ic),r=sc(t),s=YA(t.converter,e);return AS(n,[BA(Wp(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,wn.exists(!1))]).then(()=>r)}function AS(t,e){return function(n,r){const s=new hr;return n.asyncQueue.enqueueAndForget(async()=>vA(await RA(n),r,s)),s.promise}(CS(t),e)}(function(t,e=!0){(function(n){oi=n})(pE),yo(new Us("firestore",(n,{instanceIdentifier:r,options:s})=>{const i=n.getProvider("app").getImmediate(),o=new ic(new tR(n.getProvider("auth-internal")),new iR(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new U(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new No(a.options.projectId,l)}(i,r),i);return s=Object.assign({useFetchStreams:e},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),cr(my,"3.12.1",t),cr(my,"3.12.1","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS="firebasestorage.googleapis.com",MS="storageBucket",rD=2*60*1e3,sD=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e extends es{constructor(e,n,r=0){super(rh(e),`Firebase Storage: ${n} (${rh(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,$e.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return rh(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Oe;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Oe||(Oe={}));function rh(t){return"storage/"+t}function tm(){const t="An unknown error occurred, please check the error payload for server response.";return new $e(Oe.UNKNOWN,t)}function iD(t){return new $e(Oe.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function oD(t){return new $e(Oe.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function aD(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new $e(Oe.UNAUTHENTICATED,t)}function lD(){return new $e(Oe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function uD(t){return new $e(Oe.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function cD(){return new $e(Oe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function hD(){return new $e(Oe.CANCELED,"User canceled the upload/download.")}function dD(t){return new $e(Oe.INVALID_URL,"Invalid URL '"+t+"'.")}function fD(t){return new $e(Oe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function pD(){return new $e(Oe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+MS+"' property when initializing the app?")}function mD(){return new $e(Oe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function gD(){return new $e(Oe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function vD(t){return new $e(Oe.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function zd(t){return new $e(Oe.INVALID_ARGUMENT,t)}function OS(){return new $e(Oe.APP_DELETED,"The Firebase app was deleted.")}function yD(t){return new $e(Oe.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Qi(t,e){return new $e(Oe.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ci(t){throw new $e(Oe.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Dt.makeFromUrl(e,n)}catch{return new Dt(e,"")}if(r.path==="")return r;throw fD(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(w){w.path.charAt(w.path.length-1)==="/"&&(w.path_=w.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function u(w){w.path_=decodeURIComponent(w.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${c}/b/${s}/o${f}`,"i"),y={bucket:1,path:3},E=n===DS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",m=new RegExp(`^https?://${E}/${s}/${S}`,"i"),v=[{regex:a,indices:l,postModify:i},{regex:p,indices:y,postModify:u},{regex:m,indices:{bucket:1,path:2},postModify:u}];for(let w=0;w<v.length;w++){const k=v[w],L=k.regex.exec(e);if(L){const _=L[k.indices.bucket];let I=L[k.indices.path];I||(I=""),r=new Dt(_,I),k.postModify(r);break}}if(r==null)throw dD(e);return r}}class wD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...S){u||(u=!0,e.apply(null,S))}function d(S){s=setTimeout(()=>{s=null,t(p,l())},S)}function f(){i&&clearTimeout(i)}function p(S,...m){if(u){f();return}if(S){f(),c.call(null,S,...m);return}if(l()||o){f(),c.call(null,S,...m);return}r<64&&(r*=2);let v;a===1?(a=2,v=0):v=(r+Math.random())*1e3,d(v)}let y=!1;function E(S){y||(y=!0,f(),!u&&(s!==null?(S||(a=2),clearTimeout(s),d(0)):S||(a=1)))}return d(0),i=setTimeout(()=>{o=!0,E(!0)},n),E}function xD(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(t){return t!==void 0}function LD(t){return typeof t=="object"&&!Array.isArray(t)}function nm(t){return typeof t=="string"||t instanceof String}function Xy(t){return rm()&&t instanceof Blob}function rm(){return typeof Blob<"u"&&!AI()}function Jy(t,e,n,r){if(r<e)throw zd(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw zd(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sm(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function $S(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fr;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Fr||(Fr={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e,n,r,s,i,o,a,l,u,c,d,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,y)=>{this.resolve_=p,this.reject_=y,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new qa(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===Fr.NO_ERROR,l=i.getStatus();if(!a||CD(l,this.additionalRetryCodes_)&&this.retry){const c=i.getErrorCode()===Fr.ABORT;r(!1,new qa(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new qa(u,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());SD(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=tm();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?OS():hD();o(l)}else{const l=cD();o(l)}};this.canceled_?n(!1,new qa(!1,null,!0)):this.backoffId_=ED(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&xD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class qa{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function TD(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function _D(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function ID(t,e){e&&(t["X-Firebase-GMPID"]=e)}function bD(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function ND(t,e,n,r,s,i,o=!0){const a=$S(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return ID(u,e),TD(u,n),_D(u,i),bD(u,r),new kD(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function PD(...t){const e=RD();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(rm())return new Blob(t);throw new $e(Oe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function AD(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(t){if(typeof atob>"u")throw vD("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class sh{constructor(e,n){this.data=e,this.contentType=n||null}}function MD(t,e){switch(t){case gn.RAW:return new sh(jS(e));case gn.BASE64:case gn.BASE64URL:return new sh(FS(t,e));case gn.DATA_URL:return new sh($D(e),jD(e))}throw tm()}function jS(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function OD(t){let e;try{e=decodeURIComponent(t)}catch{throw Qi(gn.DATA_URL,"Malformed data URL.")}return jS(e)}function FS(t,e){switch(t){case gn.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw Qi(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case gn.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw Qi(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=DD(e)}catch(s){throw s.message.includes("polyfill")?s:Qi(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class US{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Qi(gn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=FD(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function $D(t){const e=new US(t);return e.base64?FS(gn.BASE64,e.rest):OD(e.rest)}function jD(t){return new US(t).contentType}function FD(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e,n){let r=0,s="";Xy(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(Xy(this.data_)){const r=this.data_,s=AD(r,e,n);return s===null?null:new Kn(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Kn(r,!0)}}static getBlob(...e){if(rm()){const n=e.map(r=>r instanceof Kn?r.data_:r);return new Kn(PD.apply(null,n))}else{const n=e.map(o=>nm(o)?MD(gn.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new Kn(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(t){let e;try{e=JSON.parse(t)}catch{return null}return LD(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function BD(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function zS(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(t,e){return e}class wt{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||zD}}let Ka=null;function VD(t){return!nm(t)||t.length<2?t:zS(t)}function VS(){if(Ka)return Ka;const t=[];t.push(new wt("bucket")),t.push(new wt("generation")),t.push(new wt("metageneration")),t.push(new wt("name","fullPath",!0));function e(i,o){return VD(o)}const n=new wt("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new wt("size");return s.xform=r,t.push(s),t.push(new wt("timeCreated")),t.push(new wt("updated")),t.push(new wt("md5Hash",null,!0)),t.push(new wt("cacheControl",null,!0)),t.push(new wt("contentDisposition",null,!0)),t.push(new wt("contentEncoding",null,!0)),t.push(new wt("contentLanguage",null,!0)),t.push(new wt("contentType",null,!0)),t.push(new wt("metadata","customMetadata",!0)),Ka=t,Ka}function HD(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new Dt(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function WD(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return HD(r,t),r}function HS(t,e,n){const r=BS(e);return r===null?null:WD(t,r,n)}function qD(t,e,n,r){const s=BS(e);if(s===null||!nm(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(u=>{const c=t.bucket,d=t.fullPath,f="/b/"+o(c)+"/o/"+o(d),p=sm(f,n,r),y=$S({alt:"media",token:u});return p+y})[0]}function KD(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class WS{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(t){if(!t)throw tm()}function GD(t,e){function n(r,s){const i=HS(t,s,e);return qS(i!==null),i}return n}function QD(t,e){function n(r,s){const i=HS(t,s,e);return qS(i!==null),qD(i,s,t.host,t._protocol)}return n}function KS(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=lD():s=aD():n.getStatus()===402?s=oD(t.bucket):n.getStatus()===403?s=uD(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function ZD(t){const e=KS(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=iD(t.path)),i.serverResponse=s.serverResponse,i}return n}function YD(t,e,n){const r=e.fullServerUrl(),s=sm(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new WS(s,i,QD(t,n),o);return a.errorHandler=ZD(e),a}function XD(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function JD(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=XD(null,e)),r}function eM(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let v="";for(let w=0;w<2;w++)v=v+Math.random().toString().slice(2);return v}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=JD(e,r,s),c=KD(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",p=Kn.getBlob(d,r,f);if(p===null)throw mD();const y={name:u.fullPath},E=sm(i,t.host,t._protocol),S="POST",m=t.maxUploadRetryTime,g=new WS(E,S,GD(t,n),m);return g.urlParams=y,g.headers=o,g.body=p.uploadData(),g.errorHandler=KS(e),g}class tM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Fr.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Fr.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Fr.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw Ci("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ci("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ci("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ci("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ci("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class nM extends tM{initXhr(){this.xhr_.responseType="text"}}function GS(){return new nM}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,n){this._service=e,n instanceof Dt?this._location=n:this._location=Dt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Qr(e,n)}get root(){const e=new Dt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return zS(this._location.path)}get storage(){return this._service}get parent(){const e=UD(this._location.path);if(e===null)return null;const n=new Dt(this._location.bucket,e);return new Qr(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw yD(e)}}function rM(t,e,n){t._throwIfRoot("uploadBytes");const r=eM(t.storage,t._location,VS(),new Kn(e,!0),n);return t.storage.makeRequestWithTokens(r,GS).then(s=>({metadata:s,ref:t}))}function sM(t){t._throwIfRoot("getDownloadURL");const e=YD(t.storage,t._location,VS());return t.storage.makeRequestWithTokens(e,GS).then(n=>{if(n===null)throw gD();return n})}function iM(t,e){const n=BD(t._location.path,e),r=new Dt(t._location.bucket,n);return new Qr(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oM(t){return/^[A-Za-z]+:\/\//.test(t)}function aM(t,e){return new Qr(t,e)}function QS(t,e){if(t instanceof im){const n=t;if(n._bucket==null)throw pD();const r=new Qr(n,n._bucket);return e!=null?QS(r,e):r}else return e!==void 0?iM(t,e):t}function lM(t,e){if(e&&oM(e)){if(t instanceof im)return aM(t,e);throw zd("To use ref(service, url), the first argument must be a Storage instance.")}else return QS(t,e)}function e0(t,e){const n=e==null?void 0:e[MS];return n==null?null:Dt.makeFromBucketSpec(n,t)}function uM(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:lE(s,t.app.options.projectId))}class im{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=DS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=rD,this._maxUploadRetryTime=sD,this._requests=new Set,s!=null?this._bucket=Dt.makeFromBucketSpec(s,this._host):this._bucket=e0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Dt.makeFromBucketSpec(this._url,e):this._bucket=e0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Jy("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Jy("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Qr(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new wD(OS());{const o=ND(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const t0="@firebase/storage",n0="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS="storage";function cM(t,e,n){return t=jt(t),rM(t,e,n)}function hM(t){return t=jt(t),sM(t)}function dM(t,e){return t=jt(t),lM(t,e)}function fM(t=gE(),e){t=jt(t);const r=fE(t,ZS).getImmediate({identifier:e}),s=oE("storage");return s&&pM(r,...s),r}function pM(t,e,n,r={}){uM(t,e,n,r)}function mM(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new im(n,r,s,e,pE)}function gM(){yo(new Us(ZS,mM,"PUBLIC").setMultipleInstances(!0)),cr(t0,n0,""),cr(t0,n0,"esm2017")}gM();let Ga;const vM=new Uint8Array(16);function yM(){if(!Ga&&(Ga=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ga))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ga(vM)}const et=[];for(let t=0;t<256;++t)et.push((t+256).toString(16).slice(1));function wM(t,e=0){return(et[t[e+0]]+et[t[e+1]]+et[t[e+2]]+et[t[e+3]]+"-"+et[t[e+4]]+et[t[e+5]]+"-"+et[t[e+6]]+et[t[e+7]]+"-"+et[t[e+8]]+et[t[e+9]]+"-"+et[t[e+10]]+et[t[e+11]]+et[t[e+12]]+et[t[e+13]]+et[t[e+14]]+et[t[e+15]]).toLowerCase()}const EM=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),r0={randomUUID:EM};function xM(t,e,n){if(r0.randomUUID&&!e&&!t)return r0.randomUUID();t=t||{};const r=t.random||(t.rng||yM)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let s=0;s<16;++s)e[n+s]=r[s];return e}return wM(r)}const SM={apiKey:"AIzaSyA4nnLzYcNwvAtdpl3UPePRiSETjXbvkXo",authDomain:"asilo-216aa.firebaseapp.com",databaseURL:"https://asilo-216aa-default-rtdb.firebaseio.com",projectId:"asilo-216aa",storageBucket:"asilo-216aa.appspot.com",messagingSenderId:"734552314732",appId:"1:734552314732:web:198c8a8412c7353c931949",measurementId:"G-SJWYV82KJC"},YS=mE(SM),Zr=$A(YS),LM=fM(YS);async function XS(t){const e=dM(LM,xM());return await cM(e,t),await hM(e)}const CM=()=>{const{id:t}=Hf(),[e,n]=h.useState([]);h.useEffect(()=>{r()},[]);const r=async()=>{try{const c=await mr.get(`https://apidelasilo.azurewebsites.net/api/Donacions/${t}`);n(c.data)}catch(c){console.log(c)}};async function s(c,d,f){const p=Zp(rc(Zr,"donacion"),Yp("IdDonacion","==",c));(await Jp(p)).forEach(E=>{console.log(E.id," => ",E.data()),em(sc(Zr,"donacion",E.id),{Estado:d,FechaRecojo:f})})}const i=async c=>{var d;try{const f=(d=e.find(y=>y.idDonacion===c))==null?void 0:d.estado,p=e.find(y=>y.idDonacion===c);console.log(f),p?(f===1?p.estado=2:f===2&&(p.estado=3,p.fechaRecojo=new Date().toISOString()),delete p.benefactorNombre,await mr.put(`https://apidelasilo.azurewebsites.net//api/Donacions/${c}`,p),await s(c,p.estado,p.fechaRecojo)):console.log("Donacin no encontrada")}catch(f){console.log(f)}},o=c=>{const d=e.find(f=>f.idDonacion===c);(d==null?void 0:d.estado)===1?d.hoverText="Entregar":(d==null?void 0:d.estado)===2&&(d.hoverText="Finalizar"),n([...e])},a=c=>{const d=e.find(f=>f.idDonacion===c);d.hoverText="",n([...e])},l=c=>{const d=`https://wa.me/${c}`;window.open(d,"_blank")},u=c=>{const d=c.estado,f=c.hoverText||"";return d===1?x.jsx("button",{onClick:()=>i(c.idDonacion),onMouseEnter:()=>o(c.idDonacion),onMouseLeave:()=>a(c.idDonacion),children:f||"Pendiente"}):d===2?x.jsx("button",{onClick:()=>i(c.idDonacion),onMouseEnter:()=>o(c.idDonacion),onMouseLeave:()=>a(c.idDonacion),children:f||"En entrega"}):d===3?x.jsx("button",{disabled:!0,children:"Finalizado"}):null};return x.jsx(x.Fragment,{children:x.jsx("div",{className:"bg-gradient-to-br from-red-100 via-red-300 to-blue-500 min-h-screen flex items-center justify-center",children:x.jsx("div",{className:"container mx-auto max-w-screen-lg m-5 p-8",children:e.map(c=>x.jsx("div",{className:"p-4 mb-4 w-full rounded-xl group bg-white bg-opacity-50 shadow-xl hover:rounded-2xl",children:x.jsxs("div",{className:"p-5 space-y-2",children:[x.jsxs("div",{className:"space-y-4",children:[x.jsx("h4",{className:"text-md font-semibold text-cyan-900 text-justify",children:c.title}),x.jsxs("p",{className:"text-gray-600",children:["Descripcin: ",c.descripcion]}),x.jsxs("p",{className:"text-gray-600",children:["Nombre Benefactor: ",c.anonimo?"Anonimo":c.benefactorNombre]}),!c.dinero&&x.jsxs("p",{className:"text-gray-600",children:["Items: ",c.items||"N/A"]}),c.dinero&&x.jsxs("p",{className:"text-gray-600",children:["Dinero: ",`$${c.dinero.toFixed(2)}`]}),x.jsxs("p",{className:"text-gray-600",children:["Fecha de Donacin: ",c.fechaDonacion]}),x.jsxs("p",{className:"text-gray-600",children:["Fecha de Recojo: ",c.fechaRecojo||"N/A"]})]}),u(c),x.jsxs("button",{className:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline mt-4",onClick:()=>l(c.celular),children:["Contactar a ",c.celular," por WhatsApp"]})]})},c.idDonacion))})})})},kM=()=>{const{id:t}=Hf(),[e,n]=h.useState([]),r=Un();h.useEffect(()=>{s()},[]);const s=async()=>{try{const a=(await mr.get(`https://apidelasilo.azurewebsites.net/api/Donacions/lista/${t}`)).data.sort((l,u)=>new Date(l.fechaDonacion)-new Date(u.fechaDonacion));n(a)}catch(o){console.log(o)}},i=()=>{const o={};return e.forEach(a=>{const l=a.fechaDonacion.split("T")[0];o[l]?o[l].push(a):o[l]=[a]}),Object.entries(o).map(([a,l])=>x.jsxs("div",{children:[x.jsx("h1",{children:"Donaciones en espera "}),x.jsxs("h2",{children:[a," "]}),l.map(u=>x.jsx("div",{className:"p-4 mb-4 w-full rounded-xl group bg-white bg-opacity-50 shadow-xl hover:rounded-2xl",children:x.jsx("div",{className:"p-5 space-y-2",children:x.jsxs("div",{className:"space-y-4",children:[x.jsx("h4",{className:"text-md font-semibold text-cyan-900 text-justify",children:u.title}),x.jsxs("p",{className:"text-gray-600",children:["Descripcin: ",u.descripcion]}),x.jsxs("p",{className:"text-gray-600",children:["Nombre Benefactor:"," ",u.anonimo?"Anonimo":u.benefactorNombre]}),!u.dinero&&x.jsxs("p",{className:"text-gray-600",children:["Items: ",u.items||"N/A"]}),u.dinero&&x.jsxs("p",{className:"text-gray-600",children:["Dinero: ",`$${u.dinero.toFixed(2)}`]}),x.jsxs("p",{className:"text-gray-600",children:["Fecha de Donacin: ",u.fechaDonacion]}),x.jsxs("p",{className:"text-gray-600",children:["Fecha de Recojo: ",u.fechaRecojo||"N/A"]})]})})},u.idDonacion))]},a))};return x.jsx(x.Fragment,{children:x.jsx("div",{className:"bg-gradient-to-br from-red-100 via-red-300 to-blue-500 min-h-screen flex items-center justify-center",children:x.jsxs("div",{className:"container mx-auto max-w-screen-lg m-5 p-8",children:[x.jsx("button",{type:"button",class:"border border-red-500 bg-red-500 text-white rounded-md px-4 py-2 m-2 transition duration-500 ease select-none hover:bg-red-600 focus:outline-none focus:shadow-outline",onClick:()=>{r("/Campaings")},children:"Atras"}),i()]})})})};async function ih(t,e,n){const r=Zp(rc(Zr,"campaings"),Yp("IdCampana","==",t));(await Jp(r)).forEach(i=>{console.log(i.id," => ",i.data()),em(sc(Zr,"campaings",i.id),{Estado:e.estado})}),mr.put("https://apidelasilo.azurewebsites.net/api/Campanas/"+t,e).then(i=>{console.log(i),n("/Campaings")}).catch(i=>{console.log(i)})}function oh(t){let{camp:e,id:n,campaingName:r,requirements:s,beneficiary:i,status:o,initialDate:a,endDate:l}=t;const u=Un();let c="";switch(i){case 0:c="Anciano";break;case 1:c="Grupo de Ancianos";break;case 2:c="Institucion";break}const d=async m=>{m.preventDefault(),e.estado=3,await ih(n,e,u)},f=async m=>{m.preventDefault(),e.estado=0,await ih(n,e,u)},p=async m=>{m.preventDefault(),e.estado=1,await ih(n,e,u)},y=m=>{m.preventDefault(),u(`/EditCampaing/${n}`)},E=m=>{m.preventDefault(),u(`/report/${n}`)},S=m=>{m.preventDefault(),u(`/lista/${n}`)};return x.jsxs("tr",{children:[x.jsx("td",{className:"px-6 py-4",children:x.jsx("div",{className:"flex items-center space-x-3",children:x.jsx("div",{children:x.jsx("div",{className:"text-sm font-medium text-gray-900",children:r})})})}),x.jsx("td",{className:"px-6 py-4",children:x.jsx("div",{className:"flex items-center space-x-3",children:x.jsx("div",{children:x.jsx("div",{className:"text-sm font-medium text-gray-900",children:s})})})}),x.jsx("td",{className:"px-6 py-4",children:x.jsx("div",{className:"flex items-center space-x-3",children:x.jsx("div",{children:x.jsx("div",{className:"text-sm font-medium text-gray-900",children:c})})})}),x.jsx("td",{className:"px-6 py-4",children:x.jsx(TM,{status:o})}),x.jsxs("td",{className:"px-6 py-4",children:[x.jsx("button",{class:`relative inline-flex text-sm sm:text-base rounded-full font-medium border-2 border-transparent transition-colors outline-transparent focus:outline-transparent disabled:opacity-50 disabled:pointer-events-none disabled:opacity-40 disabled:hover:opacity-40 disabled:cursor-not-allowed disabled:shadow-none\r
        text-white bg-green-500 hover:bg-green-700 focus:border-[#B3B3FD] focus:bg-green-600 mb-2 px-4 py-1 sm:py-1 sm:px-2`,onClick:f,children:"Activar"}),x.jsx("button",{class:`relative inline-flex text-sm sm:text-base rounded-full font-medium border-2 border-transparent transition-colors outline-transparent focus:outline-transparent disabled:opacity-50 disabled:pointer-events-none disabled:opacity-40 disabled:hover:opacity-40 disabled:cursor-not-allowed disabled:shadow-none\r
        text-white bg-red-500 hover:bg-red-800 focus:bg-red-800 px-4 py-1 sm:py-1 sm:px-2`,onClick:p,children:"Cerrar"})]}),x.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:a}),x.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:l}),x.jsx("td",{class:"px-6 py-4",children:x.jsxs("div",{class:"flex justify-end gap-4",children:[x.jsx("a",{"x-data":"{ tooltip: 'Delete' }",onClick:d,href:"#",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-6 w-6","x-tooltip":"tooltip",children:x.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})}),x.jsx("a",{"x-data":"{ tooltip: 'Edite' }",href:"#",onClick:y,children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-6 w-6","x-tooltip":"tooltip",children:x.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"})})}),x.jsx("a",{"x-data":"{ tooltip: 'Donation' }",onClick:S,href:"#",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-report-money",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[" ",x.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"})," ",x.jsx("path",{d:"M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2"})," ",x.jsx("rect",{x:"9",y:"3",width:"6",height:"4",rx:"2"})," ",x.jsx("path",{d:"M14 11h-2.5a1.5 1.5 0 0 0 0 3h1a1.5 1.5 0 0 1 0 3h-2.5"})," ",x.jsx("path",{d:"M12 17v1m0 -8v1"})," "]})}),x.jsx("a",{"x-data":"{ tooltip: 'Reports' }",onClick:E,href:"#",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-report-search",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[" ",x.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"})," ",x.jsx("path",{d:"M8 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h5.697"})," ",x.jsx("path",{d:"M18 12v-5a2 2 0 0 0 -2 -2h-2"})," ",x.jsx("rect",{x:"8",y:"3",width:"6",height:"4",rx:"2"})," ",x.jsx("path",{d:"M8 11h4"})," ",x.jsx("path",{d:"M8 15h3"})," ",x.jsx("circle",{cx:"16.5",cy:"17.5",r:"2.5"})," ",x.jsx("path",{d:"M18.5 19.5l2.5 2.5"})," "]})})]})})]})}function TM({status:t}){let e="";switch(t){case 0:e="Activo";break;case 2:e="Espera";break;case 1:e="Cerrada";break;default:e="Desconocido";break}return x.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${_M(t)}`,children:e})}function _M(t){switch(t){case 0:return"bg-green-100 text-green-800";case 2:return"bg-yellow-100 text-yellow-800";case 1:return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}}function IM(){const[t,e]=h.useState([]),n=JSON.parse(localStorage.getItem("userData")),r=ni(),s=Un(),i=()=>{localStorage.clear(),s("/login")};return h.useEffect(()=>{fetch(`https://apidelasilo.azurewebsites.net/api/CampanasIns/${n.idAsilo}`).then(o=>o.json()).then(o=>{e(o)}).catch(o=>console.log(o))},[r]),x.jsxs(x.Fragment,{children:[x.jsx("button",{className:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline mt-4",onClick:i,children:"Cerrar sesin"}),x.jsx("button",{type:"button",class:"border border-green-500 bg-green-500 text-white rounded-md px-4 py-2 m-2 transition duration-500 ease select-none hover:bg-green-600 focus:outline-none focus:shadow-outline",onClick:()=>{s("/NewCampaing")},children:"Nueva Campaa"}),x.jsxs("div",{class:"overflow-hidden rounded-lg border border-gray-200 shadow-md m-5",children:[x.jsx("h2",{class:"text-2xl font-bold mb-6 mt-4 ml-40 mr-40 text-center",children:"Campaas activas"}),x.jsxs("table",{class:"w-full border-collapse bg-white text-left text-sm text-gray-500",children:[x.jsx("thead",{class:"bg-gray-50",children:x.jsxs("tr",{children:[x.jsx("th",{scope:"col",class:"px-6 py-4 font-medium text-gray-900",children:"Nombre de la campaa"}),x.jsx("th",{scope:"col",class:"px-6 py-4 font-medium text-gray-900",children:"Requerimientos"}),x.jsx("th",{scope:"col",class:"px-6 py-4 font-medium text-gray-900",children:"Beneficiario"}),x.jsx("th",{scope:"col",class:"px-6 py-4 font-medium text-gray-900",children:"Estado de Campaa"}),x.jsx("th",{scope:"col",class:"px-6 py-4 font-medium text-gray-900"}),x.jsx("th",{scope:"col",class:"px-6 py-4 font-medium text-gray-900",children:"Fecha de inicio"}),x.jsx("th",{scope:"col",class:"px-6 py-4 font-medium text-gray-900",children:"Fecha de fin"}),x.jsx("th",{scope:"col",class:"px-6 py-4 font-medium text-gray-900"})]})}),x.jsx("tbody",{class:"divide-y divide-gray-100 border-t border-gray-100",children:t.filter(o=>o.estado==0).map(o=>x.jsx(oh,{camp:o,id:o.idCampana,campaingName:o.nombre,requirements:o.requerimiento,beneficiary:o.beneficiario,status:o.estado,initialDate:new Date(o.fechaInicio).toLocaleDateString(),endDate:new Date(o.fechaFin).toLocaleDateString()}))})]})]}),x.jsxs("div",{class:"overflow-hidden rounded-lg border border-gray-200 shadow-md m-5",children:[x.jsx("h2",{class:"text-2xl font-bold mb-6 mt-4 ml-40 mr-40 text-center",children:"Campaas cerradas"}),x.jsxs("table",{class:"w-full border-collapse bg-white text-left text-sm text-gray-500",children:[x.jsx("thead",{class:"bg-gray-50",children:x.jsxs("tr",{children:[x.jsx("th",{scope:"col",class:"px-6 py-4 font-medium text-gray-900",children:"Nombre de la campaa"}),x.jsx("th",{scope:"col",class:"px-6 py-4 font-medium text-gray-900",children:"Requerimientos"}),x.jsx("th",{scope:"col",class:"px-6 py-4 font-medium text-gray-900",children:"Beneficiario"}),x.jsx("th",{scope:"col",class:"px-6 py-4 font-medium text-gray-900",children:"Estado de Campaa"}),x.jsx("th",{scope:"col",class:"px-6 py-4 font-medium text-gray-900"}),x.jsx("th",{scope:"col",class:"px-6 py-4 font-medium text-gray-900",children:"Fecha de inicio"}),x.jsx("th",{scope:"col",class:"px-6 py-4 font-medium text-gray-900",children:"Fecha de fin"}),x.jsx("th",{scope:"col",class:"px-6 py-4 font-medium text-gray-900"})]})}),x.jsx("tbody",{class:"divide-y divide-gray-100 border-t border-gray-100",children:t.filter(o=>o.estado==1).map(o=>x.jsx(oh,{camp:o,id:o.idCampana,campaingName:o.nombre,requirements:o.requerimiento,beneficiary:o.beneficiario,status:o.estado,initialDate:new Date(o.fechaInicio).toLocaleDateString(),endDate:new Date(o.fechaFin).toLocaleDateString()}))})]})]}),x.jsxs("div",{class:"overflow-hidden rounded-lg border border-gray-200 shadow-md m-5",children:[x.jsx("h2",{class:"text-2xl font-bold mb-6 mt-4 ml-40 mr-40 text-center",children:"Campaas en espera"}),x.jsxs("table",{class:"w-full border-collapse bg-white text-left text-sm text-gray-500",children:[x.jsx("thead",{class:"bg-gray-50",children:x.jsxs("tr",{children:[x.jsx("th",{scope:"col",class:"px-6 py-4 font-medium text-gray-900",children:"Nombre de la campaa"}),x.jsx("th",{scope:"col",class:"px-6 py-4 font-medium text-gray-900",children:"Requerimientos"}),x.jsx("th",{scope:"col",class:"px-6 py-4 font-medium text-gray-900",children:"Beneficiario"}),x.jsx("th",{scope:"col",class:"px-6 py-4 font-medium text-gray-900",children:"Estado de Campaa"}),x.jsx("th",{scope:"col",class:"px-6 py-4 font-medium text-gray-900"}),x.jsx("th",{scope:"col",class:"px-6 py-4 font-medium text-gray-900",children:"Fecha de inicio"}),x.jsx("th",{scope:"col",class:"px-6 py-4 font-medium text-gray-900",children:"Fecha de fin"}),x.jsx("th",{scope:"col",class:"px-6 py-4 font-medium text-gray-900"})]})}),x.jsx("tbody",{class:"divide-y divide-gray-100 border-t border-gray-100",children:t.filter(o=>o.estado==2).map(o=>x.jsx(oh,{camp:o,id:o.idCampana,campaingName:o.nombre,requirements:o.requerimiento,beneficiary:o.beneficiario,status:o.estado,initialDate:new Date(o.fechaInicio).toLocaleDateString(),endDate:new Date(o.fechaFin).toLocaleDateString()}))})]})]})]})}function bM(){const t=Un();let n=JSON.parse(localStorage.getItem("userData")).idAsilo;const[r,s]=h.useState(""),[i,o]=h.useState(""),[a,l]=h.useState(""),[u,c]=h.useState(""),[d,f]=h.useState(0);let p=0;const[y,E]=h.useState(),S=g=>{E(g.target.files)},m=async g=>{g.preventDefault();let v="",w=1,k=Array.from(y);v=await XS(k[0]),new Date(a)<=new Date?p=0:p=2;try{if(r&&i&&a&&u){const C=rc(Zr,"campaings"),M=await(await fetch("https://apidelasilo.azurewebsites.net/api/LastId")).json();w+=M,console.log(w),console.log(M);let z={Nombre:r,Requerimiento:i,Beneficiario:d,UrlImagen:v,FechaInicio:new Date(a),FechaFin:new Date(u),Estado:p,IdAsilo:n};console.log(z),await nD(C,{Nombre:r,Requerimiento:i,UrlImagen:v,Beneficiario:d,FechaInicio:new Date(a),FechaFin:new Date(u),Estado:p,IdAsilo:n,IdCampana:w}),mr.post("https://apidelasilo.azurewebsites.net/api/Campanas",z).then(H=>{console.log(H),t("/Campaings")}).catch(H=>{console.log(H)}),s(""),o(""),l(""),c(""),f(null),E([]),t("/Campaings")}else console.error("Error: all fields must be filled")}catch(C){console.error("Error adding document: ",C)}};return x.jsxs("div",{class:"container mx-auto py-8",children:[x.jsx("button",{type:"button",class:"border border-red-500 bg-red-500 text-white rounded-md px-4 py-2 m-2 transition duration-500 ease select-none hover:bg-red-600 focus:outline-none focus:shadow-outline",onClick:()=>{t("/Campaings")},children:"Atras"}),x.jsx("h1",{class:"text-2xl font-bold mb-6 ml-40 mr-40 text-center",children:"Registro de Campaa"}),x.jsxs("form",{onSubmit:m,id:"myForm",class:"w-full max-w-sm mx-auto bg-white p-8 rounded-md shadow-md",children:[x.jsxs("div",{class:"mb-4",children:[x.jsx("label",{class:"block text-gray-700 text-sm font-bold mb-2",children:"Nombre de campaa"}),x.jsx("input",{class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-indigo-500",type:"text",value:r,onChange:g=>s(g.target.value)})]}),x.jsxs("div",{class:"mb-4",children:[x.jsx("label",{class:"block text-gray-700 text-sm font-bold mb-2",children:"Requerimientos"}),x.jsx("input",{class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-indigo-500",type:"text",value:i,onChange:g=>o(g.target.value)})]}),x.jsxs("div",{class:"mb-4",children:[x.jsx("label",{class:"block text-gray-700 text-sm font-bold mb-2",children:"Tipo de Beneficiario"}),x.jsxs("select",{name:"select",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-indigo-500",onChange:g=>{f(parseInt(g.target.value))},children:[x.jsx("option",{value:0,children:"Anciano"}),x.jsx("option",{value:1,selected:!0,children:"Grupo"}),x.jsx("option",{value:2,children:"Institucion"})]})]}),x.jsxs("div",{class:"mb-4",children:[x.jsx("label",{class:"block text-gray-700 text-sm font-bold mb-2",children:"Fecha de lanzamiento"}),x.jsx("input",{class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-indigo-500",type:"date",value:a,onChange:g=>l(g.target.value)})]}),x.jsxs("div",{class:"mb-4",children:[x.jsx("label",{class:"block text-gray-700 text-sm font-bold mb-2",children:"Fecha de cierre"}),x.jsx("input",{class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-indigo-500",type:"date",value:u,onChange:g=>c(g.target.value)})]}),x.jsxs("div",{class:"mb-4",children:[x.jsx("label",{class:"block text-gray-700 text-sm font-bold mb-2",children:"Imagenes"}),x.jsx("input",{class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-indigo-500",type:"file",multiple:!0,accept:"image/*",onChange:S})]}),x.jsx("button",{class:"w-full bg-indigo-500 text-white text-sm font-bold py-2 px-4 rounded-md hover:bg-indigo-600 transition duration-300",type:"submit",children:"Registrar"})]})]})}function NM(){const t=Un();ni();const{id:e}=Hf();let r=JSON.parse(localStorage.getItem("userData")).idAsilo,s=0,i=new Date,o=new Date,a,l;const[u,c]=h.useState(""),[d,f]=h.useState(""),[p,y]=h.useState(""),[E,S]=h.useState(""),[m,g]=h.useState(0);let[v,w]=h.useState(null);const[k,L]=h.useState(null),_=C=>{L(C.target.files)};h.useEffect(()=>{fetch(`https://apidelasilo.azurewebsites.net/api/Campanas/${e}`).then(C=>C.json()).then(C=>{w(C),c(C.nombre),f(C.requerimiento),y(C.fechaInicio),i=new Date(C.fechaInicio),a=i.toISOString().split("T")[0],S(C.fechaFin),o=new Date(C.fechaFin),l=o.toISOString().split("T")[0],g(C.beneficiario)}).catch(C=>console.log(C))},[]);const I=async C=>{C.preventDefault();let T="";if(k!=null){let H=Array.from(k);T=await XS(H[0])}new Date(p)<=new Date?s=0:s=v.estado;try{if(u&&d&&p&&E){v.nombre=u,v.requerimiento=d,v.fechaInicio=new Date(p),v.fechaFin=new Date(E),v.beneficiario=m,T==""&&(T=v.urlImagen);let H={IdCampana:v.idCampana,Nombre:u,Requerimiento:d,Beneficiario:m,UrlImagen:T,FechaInicio:new Date(p),FechaFin:new Date(E),Estado:s,IdAsilo:r};const q=Zp(rc(Zr,"campaings"),Yp("IdCampana","==",v.idCampana));(await Jp(q)).forEach(J=>{em(sc(Zr,"campaings",J.id),H)}),mr.put("https://apidelasilo.azurewebsites.net/api/Campanas/"+v.idCampana,v).then(J=>{t("/Campaings")}).catch(J=>{console.log(J)}),c(""),f(""),y(""),S(""),g(null),L([]),t("/Campaings")}else console.error("Error: all fields must be filled")}catch(H){console.error("Error adding document: ",H)}};return x.jsxs("div",{class:"container mx-auto py-8",children:[x.jsx("button",{type:"button",class:"border border-red-500 bg-red-500 text-white rounded-md px-4 py-2 m-2 transition duration-500 ease select-none hover:bg-red-600 focus:outline-none focus:shadow-outline",onClick:()=>{t("/Campaings")},children:"Atras"}),x.jsx("h1",{class:"text-2xl font-bold mb-6 ml-40 mr-40 text-center",children:"Registro de Campaa"}),x.jsxs("form",{onSubmit:I,id:"myForm",class:"w-full max-w-sm mx-auto bg-white p-8 rounded-md shadow-md",children:[x.jsxs("div",{class:"mb-4",children:[x.jsx("label",{class:"block text-gray-700 text-sm font-bold mb-2",children:"Nombre de campaa"}),x.jsx("input",{class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-indigo-500",type:"text",value:u,onChange:C=>c(C.target.value)})]}),x.jsxs("div",{class:"mb-4",children:[x.jsx("label",{class:"block text-gray-700 text-sm font-bold mb-2",children:"Requerimientos"}),x.jsx("input",{class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-indigo-500",type:"text",value:d,onChange:C=>f(C.target.value)})]}),x.jsxs("div",{class:"mb-4",children:[x.jsx("label",{class:"block text-gray-700 text-sm font-bold mb-2",children:"Tipo de Beneficiario"}),x.jsxs("select",{name:"select",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-indigo-500",onChange:C=>{g(parseInt(C.target.value))},value:m,children:[x.jsx("option",{value:0,children:"Anciano"}),x.jsx("option",{value:1,selected:!0,children:"Grupo"}),x.jsx("option",{value:2,children:"Institucion"})]})]}),x.jsxs("div",{class:"mb-4",children:[x.jsx("label",{class:"block text-gray-700 text-sm font-bold mb-2",children:"Fecha de lanzamiento"}),x.jsx("input",{class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-indigo-500",type:"date",value:a,onChange:C=>y(C.target.value)})]}),x.jsxs("div",{class:"mb-4",children:[x.jsx("label",{class:"block text-gray-700 text-sm font-bold mb-2",children:"Fecha de cierre"}),x.jsx("input",{class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-indigo-500",type:"date",value:l,onChange:C=>S(C.target.value)})]}),x.jsxs("div",{class:"mb-4",children:[x.jsx("label",{class:"block text-gray-700 text-sm font-bold mb-2",children:"Imagenes"}),x.jsx("input",{class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-indigo-500",type:"file",multiple:!0,accept:"image/*",onChange:_})]}),x.jsx("button",{class:"w-full bg-indigo-500 text-white text-sm font-bold py-2 px-4 rounded-md hover:bg-indigo-600 transition duration-300",type:"submit",children:"Registrar"})]})]})}const RM=()=>x.jsxs(Q2,{children:[x.jsx(un,{path:"/",element:x.jsx(qv,{})})," ",x.jsx(un,{path:"/login",element:x.jsx(qv,{})}),x.jsx(un,{path:"/register",element:x.jsx(xI,{})}),x.jsx(un,{path:"/hello",element:x.jsx(SI,{})}),x.jsx(un,{path:"/Campaings",element:x.jsx(IM,{})}),x.jsx(un,{path:"/NewCampaing",element:x.jsx(bM,{})}),x.jsx(un,{path:"/EditCampaing/:id",element:x.jsx(NM,{})}),x.jsx(un,{path:"/report/:id",element:x.jsx(CM,{})}),x.jsx(un,{path:"/lista/:id",element:x.jsx(kM,{})})]});function PM(){return x.jsx(RM,{})}ah.createRoot(document.getElementById("root")).render(x.jsx(e_,{children:x.jsx(f0.StrictMode,{children:x.jsx(PM,{})})}));
